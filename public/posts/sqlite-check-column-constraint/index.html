<!doctype html>
<html
  lang="en-us"
  dir="ltr"
  class="scroll-smooth"
  data-default-appearance="light"
  data-auto-appearance="true"><head>
  <meta charset="utf-8">
  
    <meta http-equiv="content-language" content="en-us">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <meta name="theme-color">

  
  
    <title>SQLite SQL: CHECK column constraint &middot; Notes</title>
    <meta name="title" content="SQLite SQL: CHECK column constraint &middot; Notes">
  

  
  
    <meta name="description" content="A collection of technical notes and posts">
  
  
    <meta name="keywords" content="sqlite,sql,">
  
  
  
  <link rel="canonical" href="/posts/sqlite-check-column-constraint/">
  

  
  
    <meta name="author" content="Meet Gor">
  
  

  
  <meta property="og:url" content="/posts/sqlite-check-column-constraint/">
  <meta property="og:site_name" content="Notes">
  <meta property="og:title" content="SQLite SQL: CHECK column constraint">
  <meta property="og:description" content="The CHECK column constraint # The CHECK clause is a column constraint that allows us to define certain conditions that we want to evaluate before inserting the column for the row and populate it accordingly. In this post, we will check, what this check is and when it is performed.
What it checks # The CHECK constraint basically acts a validator, we define the condition and if the condition is not met (is false) then the row is not inserted or updated.">
  <meta property="og:locale" content="en_us">
  <meta property="og:type" content="article">
    <meta property="article:section" content="posts">
    <meta property="article:published_time" content="2025-09-12T00:00:00+00:00">
    <meta property="article:modified_time" content="2026-01-04T15:32:35+05:30">

  
  <meta name="twitter:card" content="summary">
  <meta name="twitter:title" content="SQLite SQL: CHECK column constraint">
  <meta name="twitter:description" content="The CHECK column constraint # The CHECK clause is a column constraint that allows us to define certain conditions that we want to evaluate before inserting the column for the row and populate it accordingly. In this post, we will check, what this check is and when it is performed.
What it checks # The CHECK constraint basically acts a validator, we define the condition and if the condition is not met (is false) then the row is not inserted or updated.">

  
  
  
  
    
      
    
  
    
      
    
  
    
      
    
  
  
    
  

  
  
  
  
  
  

  

  
  
  
  
  
  
  
  
    
  
  
  <link
    type="text/css"
    rel="stylesheet"
    href="/css/main.bundle.min.c61736128cfa071f52268b924e8b8c8dff7f9e962caae1e812053e9e023a4e1c1c95239d517406a4002933de9dd5ad84667956aa9d4230a25024e7e502058ca1.css"
    integrity="sha512-xhc2Eoz6Bx9SJouSTouMjf9/npYsquHoEgU&#43;ngI6ThwclSOdUXQGpAApM96d1a2EZnlWqp1CMKJQJOflAgWMoQ==">

  
  
  <script
    type="text/javascript"
    src="/js/appearance.min.6f41174b3a05b680820fe08cadbfa5fb7a7ca347b76a0955cdc68b9d8aca1ce24f0547e138cea33bcc7904d551a90afcb1cc7f2d9fe8557075d501419046c08c.js"
    integrity="sha512-b0EXSzoFtoCCD&#43;CMrb&#43;l&#43;3p8o0e3aglVzcaLnYrKHOJPBUfhOM6jO8x5BNVRqQr8scx/LZ/oVXB11QFBkEbAjA=="></script>
  
  
  
  
  
  
    
    <script src="/lib/zoom/zoom.min.umd.a527109b68c082a70f3697716dd72a9d5aa8b545cf800cecbbc7399f2ca6f6e0ce3e431f2062b48bbfa47c9ea42822714060bef309be073f49b9c0e30d318d7b.js" integrity="sha512-pScQm2jAgqcPNpdxbdcqnVqotUXPgAzsu8c5nyym9uDOPkMfIGK0i7&#43;kfJ6kKCJxQGC&#43;8wm&#43;Bz9JucDjDTGNew=="></script>
  

  
  
  
    
  
  
    
  
  
  
  
  
  
  
    
    <script
      defer
      type="text/javascript"
      id="script-bundle"
      src="/js/main.bundle.min.67624a357c928d29b9fe19ba01a1e32c05ad1329ca2a712bf10446df0c6872903d0c14b21f76896b57a5a0710940805416cee38851d9067db6555881188e35a5.js"
      integrity="sha512-Z2JKNXySjSm5/hm6AaHjLAWtEynKKnEr8QRG3wxocpA9DBSyH3aJa1eloHEJQIBUFs7jiFHZBn22VViBGI41pQ=="
      data-copy="Copy"
      data-copied="Copied"></script>
  

  
  

<script src="/lib/jquery/jquery.slim.min.b0dca576e87d7eaa5850ae4e61759c065786cdb6489d68fcc82240539eebd5da522bdb4fda085ffd245808c8fe2acb2516408eb774ef26b5f6015fc6737c0ea8.js" integrity="sha512-sNylduh9fqpYUK5OYXWcBleGzbZInWj8yCJAU57r1dpSK9tP2ghf/SRYCMj&#43;KsslFkCOt3TvJrX2AV/Gc3wOqA=="></script>


























  

  

  

  

  








  
  
    <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
    <link rel="manifest" href="/site.webmanifest">
  

  
  <script type="application/ld+json">
  [{
    "@context": "https://schema.org",
    "@type": "Article",
    "articleSection": "Posts",
    "name": "SQLite SQL: CHECK column constraint",
    "headline": "SQLite SQL: CHECK column constraint",
    
    "inLanguage": "en-us",
    "url" : "/posts/sqlite-check-column-constraint/",
    "author" : {
      "@type": "Person",
      "name": "Meet Gor"
    },
    "copyrightYear": "2025",
    "dateCreated": "2025-09-12T00:00:00\u002b00:00",
    "datePublished": "2025-09-12T00:00:00\u002b00:00",
    
    "dateModified": "2026-01-04T15:32:35\u002b05:30",
    
    "keywords": ["sqlite","sql"],
    
    "mainEntityOfPage": "true",
    "wordCount": "1566"
  }]
  </script>



  
  
    




  

  
  

  
  

  
  

  
  
</head>


















  
  <body class="flex flex-col h-screen m-auto leading-7 max-w-7xl px-6 sm:px-14 md:px-24 lg:px-32 text-lg bg-neutral text-neutral-900 dark:bg-neutral-800 dark:text-neutral bf-scrollbar">
    <div id="the-top" class="absolute flex self-center">
      <a
        class="px-3 py-1 text-sm -translate-y-8 rounded-b-lg bg-primary-200 focus:translate-y-0 dark:bg-neutral-600"
        href="#main-content">
        <span class="font-bold text-primary-600 pe-2 dark:text-primary-400">&darr;</span>
        Skip to main content
      </a>
    </div>
    
    
      <div class="main-menu flex items-center w-full gap-2 p-1 pl-0">
  
  
    <a href="/" class="text-base font-medium truncate min-w-0 shrink">
      Notes
    </a>
  
  <div class="flex items-center ms-auto">
    <div class="hidden md:flex">
      <nav class="flex items-center gap-x-5 h-12">
  
    
      
  
    <a
      href="/"
      
      class="flex items-center bf-icon-color-hover"
      aria-label="Home"
      title="">
      
      
        <span class="text-base font-medium break-normal">
          Home
        </span>
      
    </a>
  

    
      
  
    <a
      href="/posts/"
      
      class="flex items-center bf-icon-color-hover"
      aria-label="Posts"
      title="">
      
      
        <span class="text-base font-medium break-normal">
          Posts
        </span>
      
    </a>
  

    
      
  
    <a
      href="/tags/"
      
      class="flex items-center bf-icon-color-hover"
      aria-label="Tags"
      title="">
      
      
        <span class="text-base font-medium break-normal">
          Tags
        </span>
      
    </a>
  

    
  

  

  

  
    <button
      id="search-button"
      aria-label="Search"
      class="text-base bf-icon-color-hover"
      title="Search (/)">
      <span class="relative block icon"><svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="search" class="svg-inline--fa fa-search fa-w-16" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path fill="currentColor" d="M505 442.7L405.3 343c-4.5-4.5-10.6-7-17-7H372c27.6-35.3 44-79.7 44-128C416 93.1 322.9 0 208 0S0 93.1 0 208s93.1 208 208 208c48.3 0 92.7-16.4 128-44v16.3c0 6.4 2.5 12.5 7 17l99.7 99.7c9.4 9.4 24.6 9.4 33.9 0l28.3-28.3c9.4-9.4 9.4-24.6.1-34zM208 336c-70.7 0-128-57.2-128-128 0-70.7 57.2-128 128-128 70.7 0 128 57.2 128 128 0 70.7-57.2 128-128 128z"/></svg>
</span>
    </button>
  

  
    <div class="flex items-center">
      <button
        id="appearance-switcher"
        aria-label="Dark mode switcher"
        type="button"
        class="text-base bf-icon-color-hover">
        <div class="flex items-center justify-center dark:hidden">
          <span class="relative block icon"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path fill="currentColor" d="M32 256c0-123.8 100.3-224 223.8-224c11.36 0 29.7 1.668 40.9 3.746c9.616 1.777 11.75 14.63 3.279 19.44C245 86.5 211.2 144.6 211.2 207.8c0 109.7 99.71 193 208.3 172.3c9.561-1.805 16.28 9.324 10.11 16.95C387.9 448.6 324.8 480 255.8 480C132.1 480 32 379.6 32 256z"/></svg>
</span>
        </div>
        <div class="items-center justify-center hidden dark:flex">
          <span class="relative block icon"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path fill="currentColor" d="M256 159.1c-53.02 0-95.1 42.98-95.1 95.1S202.1 351.1 256 351.1s95.1-42.98 95.1-95.1S309 159.1 256 159.1zM509.3 347L446.1 255.1l63.15-91.01c6.332-9.125 1.104-21.74-9.826-23.72l-109-19.7l-19.7-109c-1.975-10.93-14.59-16.16-23.72-9.824L256 65.89L164.1 2.736c-9.125-6.332-21.74-1.107-23.72 9.824L121.6 121.6L12.56 141.3C1.633 143.2-3.596 155.9 2.736 164.1L65.89 256l-63.15 91.01c-6.332 9.125-1.105 21.74 9.824 23.72l109 19.7l19.7 109c1.975 10.93 14.59 16.16 23.72 9.824L256 446.1l91.01 63.15c9.127 6.334 21.75 1.107 23.72-9.822l19.7-109l109-19.7C510.4 368.8 515.6 356.1 509.3 347zM256 383.1c-70.69 0-127.1-57.31-127.1-127.1c0-70.69 57.31-127.1 127.1-127.1s127.1 57.3 127.1 127.1C383.1 326.7 326.7 383.1 256 383.1z"/></svg>
</span>
        </div>
      </button>
    </div>
  
</nav>



    </div>
    <div class="flex md:hidden">
      <div class="flex items-center h-14 gap-4">
  
    <button
      id="search-button-mobile"
      aria-label="Search"
      class="flex items-center justify-center bf-icon-color-hover"
      title="Search (/)">
      <span class="relative block icon"><svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="search" class="svg-inline--fa fa-search fa-w-16" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path fill="currentColor" d="M505 442.7L405.3 343c-4.5-4.5-10.6-7-17-7H372c27.6-35.3 44-79.7 44-128C416 93.1 322.9 0 208 0S0 93.1 0 208s93.1 208 208 208c48.3 0 92.7-16.4 128-44v16.3c0 6.4 2.5 12.5 7 17l99.7 99.7c9.4 9.4 24.6 9.4 33.9 0l28.3-28.3c9.4-9.4 9.4-24.6.1-34zM208 336c-70.7 0-128-57.2-128-128 0-70.7 57.2-128 128-128 70.7 0 128 57.2 128 128 0 70.7-57.2 128-128 128z"/></svg>
</span>
    </button>
  

  
    <button
      id="appearance-switcher-mobile"
      type="button"
      aria-label="Dark mode switcher"
      class="flex items-center justify-center text-neutral-900 hover:text-primary-600 dark:text-neutral-200 dark:hover:text-primary-400">
      <div class="dark:hidden">
        <span class="relative block icon"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path fill="currentColor" d="M32 256c0-123.8 100.3-224 223.8-224c11.36 0 29.7 1.668 40.9 3.746c9.616 1.777 11.75 14.63 3.279 19.44C245 86.5 211.2 144.6 211.2 207.8c0 109.7 99.71 193 208.3 172.3c9.561-1.805 16.28 9.324 10.11 16.95C387.9 448.6 324.8 480 255.8 480C132.1 480 32 379.6 32 256z"/></svg>
</span>
      </div>
      <div class="hidden dark:block">
        <span class="relative block icon"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path fill="currentColor" d="M256 159.1c-53.02 0-95.1 42.98-95.1 95.1S202.1 351.1 256 351.1s95.1-42.98 95.1-95.1S309 159.1 256 159.1zM509.3 347L446.1 255.1l63.15-91.01c6.332-9.125 1.104-21.74-9.826-23.72l-109-19.7l-19.7-109c-1.975-10.93-14.59-16.16-23.72-9.824L256 65.89L164.1 2.736c-9.125-6.332-21.74-1.107-23.72 9.824L121.6 121.6L12.56 141.3C1.633 143.2-3.596 155.9 2.736 164.1L65.89 256l-63.15 91.01c-6.332 9.125-1.105 21.74 9.824 23.72l109 19.7l19.7 109c1.975 10.93 14.59 16.16 23.72 9.824L256 446.1l91.01 63.15c9.127 6.334 21.75 1.107 23.72-9.822l19.7-109l109-19.7C510.4 368.8 515.6 356.1 509.3 347zM256 383.1c-70.69 0-127.1-57.31-127.1-127.1c0-70.69 57.31-127.1 127.1-127.1s127.1 57.3 127.1 127.1C383.1 326.7 326.7 383.1 256 383.1z"/></svg>
</span>
      </div>
    </button>
  

  
    <input type="checkbox" id="mobile-menu-toggle" autocomplete="off" class="hidden peer">
    <label for="mobile-menu-toggle" class="flex items-center justify-center cursor-pointer bf-icon-color-hover">
      <span class="relative block icon"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path fill="currentColor" d="M0 96C0 78.33 14.33 64 32 64H416C433.7 64 448 78.33 448 96C448 113.7 433.7 128 416 128H32C14.33 128 0 113.7 0 96zM0 256C0 238.3 14.33 224 32 224H416C433.7 224 448 238.3 448 256C448 273.7 433.7 288 416 288H32C14.33 288 0 273.7 0 256zM416 448H32C14.33 448 0 433.7 0 416C0 398.3 14.33 384 32 384H416C433.7 384 448 398.3 448 416C448 433.7 433.7 448 416 448z"/></svg>
</span>
    </label>

    <div
      role="dialog"
      aria-modal="true"
      style="scrollbar-gutter: stable;"
      class="fixed inset-0 z-50 invisible overflow-y-auto px-6 py-20 opacity-0 transition-[opacity,visibility] duration-300 peer-checked:visible peer-checked:opacity-100 bg-neutral-50/97 dark:bg-neutral-900/99
      bf-scrollbar">
      <label
        for="mobile-menu-toggle"
        class="fixed end-8 top-5 flex items-center justify-center z-50 h-12 w-12 cursor-pointer select-none rounded-full bf-icon-color-hover border bf-border-color bf-border-color-hover bg-neutral-50 dark:bg-neutral-900">
        <span class="relative block icon"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 320 512"><path fill="currentColor" d="M310.6 361.4c12.5 12.5 12.5 32.75 0 45.25C304.4 412.9 296.2 416 288 416s-16.38-3.125-22.62-9.375L160 301.3L54.63 406.6C48.38 412.9 40.19 416 32 416S15.63 412.9 9.375 406.6c-12.5-12.5-12.5-32.75 0-45.25l105.4-105.4L9.375 150.6c-12.5-12.5-12.5-32.75 0-45.25s32.75-12.5 45.25 0L160 210.8l105.4-105.4c12.5-12.5 32.75-12.5 45.25 0s12.5 32.75 0 45.25l-105.4 105.4L310.6 361.4z"/></svg>
</span>
      </label>
      <nav class="mx-auto max-w-md space-y-6">
        
  
    
    <div class="px-2">
      <a
        href="/"
        aria-label="Home"
        
        class="flex items-center gap-4 group bf-icon-color-hover text-neutral-700 dark:text-neutral-200">
        
        <span title="" class="text-2xl font-bold tracking-tight">
          Home
        </span>
        
      </a>

      
    </div>
  
    
    <div class="px-2">
      <a
        href="/posts/"
        aria-label="Posts"
        
        class="flex items-center gap-4 group bf-icon-color-hover text-neutral-700 dark:text-neutral-200">
        
        <span title="" class="text-2xl font-bold tracking-tight">
          Posts
        </span>
        
      </a>

      
    </div>
  
    
    <div class="px-2">
      <a
        href="/tags/"
        aria-label="Tags"
        
        class="flex items-center gap-4 group bf-icon-color-hover text-neutral-700 dark:text-neutral-200">
        
        <span title="" class="text-2xl font-bold tracking-tight">
          Tags
        </span>
        
      </a>

      
    </div>
  

        
  

        
  

      </nav>
    </div>
  
</div>







    </div>
  </div>
</div>





    
    <div class="relative flex flex-col grow">
      <main id="main-content" class="grow">
        
  
  <article>
    
    

    
    <header id="single_header" class="mt-5 max-w-prose">
      
      <h1 class="mt-0 text-4xl font-extrabold text-neutral-900 dark:text-neutral">
        SQLite SQL: CHECK column constraint
      </h1>
      <div class="mt-1 mb-6 text-base text-neutral-500 dark:text-neutral-400 print:hidden">
        





  
  



  

  
  
  
    
  

  

  
    
  

  

  
    
  

  
    
  

  

  

  

  

  


  <div class="flex flex-row flex-wrap items-center">
    
    
      <time datetime="2025-09-12T00:00:00&#43;00:00">September 12, 2025</time><span class="px-2 text-primary-500">&middot;</span><span>1566 words</span><span class="px-2 text-primary-500">&middot;</span><span title="Reading time">8 mins</span>
    

    
    
  </div>

  

  
  

  
  



      </div>
      
        
  
  
  
  
  
  

  

  
    
    
<div class="flex author">
  
  <div class="place-self-center">
    
      <div class="text-[0.6rem] uppercase leading-3 text-neutral-500 dark:text-neutral-400">
        Author
      </div>
      <div class="font-semibold leading-6 text-neutral-800 dark:text-neutral-300">
        Meet Gor
      </div>
    
    
    <div class="text-2xl sm:text-lg">
</div>
  </div>
</div>

  

  

  
    <div class="mb-5"></div>
  

      
    </header>

    
    <section class="flex flex-col max-w-full mt-0 prose dark:prose-invert lg:flex-row">
      
      
      
      
      


      <div class="min-w-0 min-h-0 max-w-fit">
        
        <div class="article-content max-w-prose mb-20">
          
<h2 class="relative group">The CHECK column constraint
    <div id="the-check-column-constraint" class="anchor"></div>
    
    <span
        class="absolute top-0 w-6 transition-opacity opacity-0 -start-6 not-prose group-hover:opacity-100 select-none">
        <a class="text-primary-300 dark:text-neutral-700 !no-underline" href="#the-check-column-constraint" aria-label="Anchor">#</a>
    </span>
    
</h2>
<p>The <a href="https://sqlite.org/lang_createtable.html#check_constraints"  target="_blank">CHECK</a> clause is a column constraint that allows us to define certain conditions that we want to evaluate before inserting the column for the row and populate it accordingly. In this post, we will check, what this check is and when it is performed.</p>

<h2 class="relative group">What it checks
    <div id="what-it-checks" class="anchor"></div>
    
    <span
        class="absolute top-0 w-6 transition-opacity opacity-0 -start-6 not-prose group-hover:opacity-100 select-none">
        <a class="text-primary-300 dark:text-neutral-700 !no-underline" href="#what-it-checks" aria-label="Anchor">#</a>
    </span>
    
</h2>
<p>The <code>CHECK</code> constraint basically acts a validator, we define the condition and if the condition is not met (is false) then the row is not inserted or updated.</p>
<p>Let&rsquo;s take a simplest example with our good-ol users table:</p>
<div class="highlight-wrapper"><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-sql" data-lang="sql"><span style="display:flex;"><span><span style="color:#66d9ef">CREATE</span> <span style="color:#66d9ef">TABLE</span> users (
</span></span><span style="display:flex;"><span>    id INTEGER <span style="color:#66d9ef">PRIMARY</span> <span style="color:#66d9ef">KEY</span>,
</span></span><span style="display:flex;"><span>    name TEXT <span style="color:#66d9ef">NOT</span> <span style="color:#66d9ef">NULL</span>,
</span></span><span style="display:flex;"><span>    age INTEGER <span style="color:#66d9ef">CHECK</span>(age <span style="color:#f92672">&gt;=</span> <span style="color:#ae81ff">18</span>)
</span></span><span style="display:flex;"><span>);</span></span></code></pre></div></div>
<p>Let&rsquo;s insert a user:</p>
<div class="highlight-wrapper"><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-sql" data-lang="sql"><span style="display:flex;"><span><span style="color:#66d9ef">INSERT</span> <span style="color:#66d9ef">INTO</span> users (name, age) <span style="color:#66d9ef">VALUES</span> (<span style="color:#e6db74">&#39;John&#39;</span>, <span style="color:#ae81ff">21</span>);</span></span></code></pre></div></div>
<div class="highlight-wrapper"><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-sql" data-lang="sql"><span style="display:flex;"><span><span style="color:#66d9ef">SELECT</span> <span style="color:#f92672">*</span> <span style="color:#66d9ef">FROM</span> users;</span></span></code></pre></div></div>
<p>This rightly populates with the user <code>John</code> with age <code>21</code>.</p>
<p>If we try to insert a user with age less than 18, it will fail:</p>
<div class="highlight-wrapper"><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-sql" data-lang="sql"><span style="display:flex;"><span><span style="color:#66d9ef">INSERT</span> <span style="color:#66d9ef">INTO</span> users (name, age) <span style="color:#66d9ef">VALUES</span> (<span style="color:#e6db74">&#39;Alice&#39;</span>, <span style="color:#ae81ff">17</span>);</span></span></code></pre></div></div>
<p>This should fail the constraint as the age is less than 18.</p>
<div class="highlight-wrapper"><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-text" data-lang="text"><span style="display:flex;"><span>sqlite&gt; INSERT INTO users (name, age) VALUES (&#39;Alice&#39;, 17);
</span></span><span style="display:flex;"><span>Runtime error: CHECK constraint failed: age &gt;= 18 (19)
</span></span><span style="display:flex;"><span>sqlite&gt;</span></span></code></pre></div></div>
<p>As you would see, the insertion query failed as a <code>CHECK</code> constraint failed.</p>
<p>Let&rsquo;s add one more valid user:</p>
<div class="highlight-wrapper"><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-sql" data-lang="sql"><span style="display:flex;"><span><span style="color:#66d9ef">INSERT</span> <span style="color:#66d9ef">INTO</span> users (name, age) <span style="color:#66d9ef">VALUES</span> (<span style="color:#e6db74">&#39;Bob&#39;</span>, <span style="color:#ae81ff">20</span>);</span></span></code></pre></div></div>
<p>This is fine, and now, let&rsquo;s try to update the age of a user:</p>
<div class="highlight-wrapper"><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-sql" data-lang="sql"><span style="display:flex;"><span><span style="color:#66d9ef">UPDATE</span> users <span style="color:#66d9ef">SET</span> age <span style="color:#f92672">=</span> <span style="color:#ae81ff">17</span> <span style="color:#66d9ef">WHERE</span> id <span style="color:#f92672">=</span> <span style="color:#ae81ff">2</span>;</span></span></code></pre></div></div>
<p>This should fail the constraint as the age is less than 18.</p>
<div class="highlight-wrapper"><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-text" data-lang="text"><span style="display:flex;"><span>sqlite&gt; INSERT INTO users (name, age) VALUES (&#39;Bob&#39;, 20);
</span></span><span style="display:flex;"><span>sqlite&gt; SELECT * FROM users;
</span></span><span style="display:flex;"><span>+----+------+-----+
</span></span><span style="display:flex;"><span>| id | name | age |
</span></span><span style="display:flex;"><span>+----+------+-----+
</span></span><span style="display:flex;"><span>| 1  | John | 21  |
</span></span><span style="display:flex;"><span>| 2  | Bob  | 20  |
</span></span><span style="display:flex;"><span>+----+------+-----+
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>sqlite&gt; UPDATE users SET age = 17 where id = 2;
</span></span><span style="display:flex;"><span>Runtime error: CHECK constraint failed: age &gt;= 18 (19)
</span></span><span style="display:flex;"><span>sqlite&gt;</span></span></code></pre></div></div>
<p>As you would see, the update query failed as a <code>CHECK</code> constraint failed.</p>

<h2 class="relative group">When it is checked?
    <div id="when-it-is-checked" class="anchor"></div>
    
    <span
        class="absolute top-0 w-6 transition-opacity opacity-0 -start-6 not-prose group-hover:opacity-100 select-none">
        <a class="text-primary-300 dark:text-neutral-700 !no-underline" href="#when-it-is-checked" aria-label="Anchor">#</a>
    </span>
    
</h2>
<p>As we saw it is checked before the row is inserted or updated.</p>

<h2 class="relative group">Disabling CHECK constraint
    <div id="disabling-check-constraint" class="anchor"></div>
    
    <span
        class="absolute top-0 w-6 transition-opacity opacity-0 -start-6 not-prose group-hover:opacity-100 select-none">
        <a class="text-primary-300 dark:text-neutral-700 !no-underline" href="#disabling-check-constraint" aria-label="Anchor">#</a>
    </span>
    
</h2>
<p>We can disable the <code>CHECK</code> constraint on all the tables in the database by setting the <code>PRAGMA</code> of <code>ignore_check_constraints</code> to <code>TRUE</code>:</p>
<div class="highlight-wrapper"><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-sql" data-lang="sql"><span style="display:flex;"><span>PRAGMA ignore_check_constraints <span style="color:#f92672">=</span> <span style="color:#66d9ef">TRUE</span>;</span></span></code></pre></div></div>
<p>This will disable all the <code>CHECK</code> constraints on all the tables in the database.</p>
<p>Let&rsquo;s try again updating the user&rsquo;s age with less then 18:</p>
<div class="highlight-wrapper"><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-sql" data-lang="sql"><span style="display:flex;"><span><span style="color:#66d9ef">UPDATE</span> users <span style="color:#66d9ef">SET</span> age <span style="color:#f92672">=</span> <span style="color:#ae81ff">17</span> <span style="color:#66d9ef">WHERE</span> id <span style="color:#f92672">=</span> <span style="color:#ae81ff">2</span>;</span></span></code></pre></div></div>
<p>This time, it readily updates the age to less then 18, without failing the constraint, which means the constraint was disable or shunned down.</p>
<div class="highlight-wrapper"><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-text" data-lang="text"><span style="display:flex;"><span>sqlite&gt; UPDATE users SET age = 17 where id = 2;
</span></span><span style="display:flex;"><span>Runtime error: CHECK constraint failed: age &gt;= 18 (19)
</span></span><span style="display:flex;"><span>sqlite&gt; PRAGMA ignore_check_constraints = TRUE;
</span></span><span style="display:flex;"><span>sqlite&gt; SELECT * FROM users;
</span></span><span style="display:flex;"><span>+----+------+-----+
</span></span><span style="display:flex;"><span>| id | name | age |
</span></span><span style="display:flex;"><span>+----+------+-----+
</span></span><span style="display:flex;"><span>| 1  | John | 21  |
</span></span><span style="display:flex;"><span>| 2  | Bob  | 20  |
</span></span><span style="display:flex;"><span>+----+------+-----+
</span></span><span style="display:flex;"><span>sqlite&gt; UPDATE users SET age = 17 where id = 2;
</span></span><span style="display:flex;"><span>sqlite&gt; SELECT * FROM users;
</span></span><span style="display:flex;"><span>+----+------+-----+
</span></span><span style="display:flex;"><span>| id | name | age |
</span></span><span style="display:flex;"><span>+----+------+-----+
</span></span><span style="display:flex;"><span>| 1  | John | 21  |
</span></span><span style="display:flex;"><span>| 2  | Bob  | 17  |
</span></span><span style="display:flex;"><span>+----+------+-----+
</span></span><span style="display:flex;"><span>sqlite&gt;</span></span></code></pre></div></div>
<p>Similarly the inserts will be allowed if the constraint is disabled.</p>
<div class="highlight-wrapper"><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-sql" data-lang="sql"><span style="display:flex;"><span><span style="color:#66d9ef">INSERT</span> <span style="color:#66d9ef">INTO</span> users (name, age) <span style="color:#66d9ef">VALUES</span> (<span style="color:#e6db74">&#39;Harry&#39;</span>, <span style="color:#ae81ff">14</span>);</span></span></code></pre></div></div>
<div class="highlight-wrapper"><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-text" data-lang="text"><span style="display:flex;"><span>sqlite&gt; INSERT INTO users (name, age) VALUES (&#39;Harry&#39;, 14);
</span></span><span style="display:flex;"><span>sqlite&gt; SELECT * FROM users;
</span></span><span style="display:flex;"><span>+----+-------+-----+
</span></span><span style="display:flex;"><span>| id | name  | age |
</span></span><span style="display:flex;"><span>+----+-------+-----+
</span></span><span style="display:flex;"><span>| 1  | John  | 21  |
</span></span><span style="display:flex;"><span>| 2  | Bob   | 17  |
</span></span><span style="display:flex;"><span>| 3  | Harry | 14  |
</span></span><span style="display:flex;"><span>+----+-------+-----+
</span></span><span style="display:flex;"><span>sqlite&gt;</span></span></code></pre></div></div>

<h2 class="relative group">Table level check constraint
    <div id="table-level-check-constraint" class="anchor"></div>
    
    <span
        class="absolute top-0 w-6 transition-opacity opacity-0 -start-6 not-prose group-hover:opacity-100 select-none">
        <a class="text-primary-300 dark:text-neutral-700 !no-underline" href="#table-level-check-constraint" aria-label="Anchor">#</a>
    </span>
    
</h2>
<p>The <code>CHECK</code> constraint can be applied to a table too, in fact it doesn&rsquo;t really matter you add it to a column or a table, as it will be evaluated for insertion or updation of the column and it&rsquo;s not tied to a column.</p>
<p>Let&rsquo;s take a better example:</p>
<div class="highlight-wrapper"><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-sql" data-lang="sql"><span style="display:flex;"><span><span style="color:#66d9ef">CREATE</span> <span style="color:#66d9ef">TABLE</span> accounts (
</span></span><span style="display:flex;"><span>    id INTEGER <span style="color:#66d9ef">PRIMARY</span> <span style="color:#66d9ef">KEY</span>,
</span></span><span style="display:flex;"><span>    account_type TEXT <span style="color:#66d9ef">NOT</span> <span style="color:#66d9ef">NULL</span>,
</span></span><span style="display:flex;"><span>    balance INTEGER <span style="color:#66d9ef">NOT</span> <span style="color:#66d9ef">NULL</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">CHECK</span> (
</span></span><span style="display:flex;"><span>        (account_type <span style="color:#f92672">=</span> <span style="color:#e6db74">&#39;savings&#39;</span> <span style="color:#66d9ef">AND</span> balance <span style="color:#f92672">&gt;=</span> <span style="color:#ae81ff">0</span>)
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">OR</span> (account_type <span style="color:#f92672">=</span> <span style="color:#e6db74">&#39;loan&#39;</span> <span style="color:#66d9ef">AND</span> balance <span style="color:#f92672">&lt;=</span> <span style="color:#ae81ff">0</span>)
</span></span><span style="display:flex;"><span>    )
</span></span><span style="display:flex;"><span>);</span></span></code></pre></div></div>
<p>Here, we have a <code>CHECK</code> constraint that checks if the account type is <code>savings</code> and balance is greater than or equal to 0, or if the account type is <code>loan</code> and balance is less than or equal to 0.</p>
<p>So we are combining two columns to form a condition and check if the row is actually valid or not to be inserted.</p>
<p>Let&rsquo;s insert a few rows:</p>
<div class="highlight-wrapper"><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-sql" data-lang="sql"><span style="display:flex;"><span><span style="color:#66d9ef">INSERT</span> <span style="color:#66d9ef">INTO</span> accounts (account_type, balance) <span style="color:#66d9ef">VALUES</span> (<span style="color:#e6db74">&#39;savings&#39;</span>, <span style="color:#ae81ff">1000</span>);
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">INSERT</span> <span style="color:#66d9ef">INTO</span> accounts (account_type, balance) <span style="color:#66d9ef">VALUES</span> (<span style="color:#e6db74">&#39;loan&#39;</span>, <span style="color:#f92672">-</span><span style="color:#ae81ff">1000</span>);</span></span></code></pre></div></div>
<p>This will insert readily the <code>savings</code> and the <code>loan</code> account as the constraint passes.</p>
<p>However if we try to do the opposite and make the constraint check fail.</p>
<div class="highlight-wrapper"><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-sql" data-lang="sql"><span style="display:flex;"><span><span style="color:#66d9ef">INSERT</span> <span style="color:#66d9ef">INTO</span> accounts (account_type, balance) <span style="color:#66d9ef">VALUES</span> (<span style="color:#e6db74">&#39;savings&#39;</span>, <span style="color:#f92672">-</span><span style="color:#ae81ff">1000</span>);</span></span></code></pre></div></div>
<div class="highlight-wrapper"><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-sql" data-lang="sql"><span style="display:flex;"><span><span style="color:#66d9ef">INSERT</span> <span style="color:#66d9ef">INTO</span> accounts (account_type, balance) <span style="color:#66d9ef">VALUES</span> (<span style="color:#e6db74">&#39;loan&#39;</span>, <span style="color:#ae81ff">1000</span>);</span></span></code></pre></div></div>
<p>It will fail as the check condition is not TRUE anymore for both the cases.</p>
<div class="highlight-wrapper"><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-text" data-lang="text"><span style="display:flex;"><span>sqlite&gt; INSERT INTO accounts (account_type, balance) VALUES (&#39;savings&#39;, 1000);
</span></span><span style="display:flex;"><span>sqlite&gt; INSERT INTO accounts (account_type, balance) VALUES (&#39;loan&#39;, -1000);
</span></span><span style="display:flex;"><span>sqlite&gt; INSERT INTO accounts (account_type, balance) VALUES (&#39;loan&#39;, 1000);
</span></span><span style="display:flex;"><span>Runtime error: CHECK constraint failed: (account_type = &#39;savings&#39; AND balance &gt;= 0)
</span></span><span style="display:flex;"><span>        OR (account_type = &#39;loan&#39; AND balance &lt;= 0) (19)
</span></span><span style="display:flex;"><span>sqlite&gt; INSERT INTO accounts (account_type, balance) VALUES (&#39;savings&#39;, -1000);
</span></span><span style="display:flex;"><span>Runtime error: CHECK constraint failed: (account_type = &#39;savings&#39; AND balance &gt;= 0)
</span></span><span style="display:flex;"><span>        OR (account_type = &#39;loan&#39; AND balance &lt;= 0) (19)
</span></span><span style="display:flex;"><span>sqlite&gt;</span></span></code></pre></div></div>
<p>As you can see the <code>CHECK</code> condition failed for both the cases.</p>

<h2 class="relative group">Check constraint values
    <div id="check-constraint-values" class="anchor"></div>
    
    <span
        class="absolute top-0 w-6 transition-opacity opacity-0 -start-6 not-prose group-hover:opacity-100 select-none">
        <a class="text-primary-300 dark:text-neutral-700 !no-underline" href="#check-constraint-values" aria-label="Anchor">#</a>
    </span>
    
</h2>
<p>Note, here the value will be either <code>TRUE</code> or <code>FALSE</code>. But what about other values? NULL, 0, ?</p>
<p>That brings us to the fundamental of how <code>CHECK</code> considers the values as <code>TRUE</code> and <code>FALSE</code>.</p>
<p>From the documentation:</p>
<blockquote><p>If the result is zero (integer value 0 or real value 0.0), then a constraint violation has occurred.<br>
If the CHECK expression evaluates to NULL, or any other non-zero value, it is not a constraint violation</p>
</blockquote><p>So, its not really <code>TRUE</code> or <code>FALSE</code> but:</p>
<ul>
<li><code>TRUE</code>: is any non-zero value or <code>NULL</code> (if a condition is true, it is set as <code>1</code>)</li>
<li><code>FALSE</code>: is <code>0</code> (if a condition is false, it is set as <code>0</code>)</li>
</ul>
<p>So, let&rsquo;s create a few tables with different <code>CHECK</code> constraints having different values for the check constraint:</p>
<div class="highlight-wrapper"><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-sql" data-lang="sql"><span style="display:flex;"><span><span style="color:#66d9ef">CREATE</span> <span style="color:#66d9ef">TABLE</span> test (
</span></span><span style="display:flex;"><span>    val INTEGER,
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">CHECK</span>(val)
</span></span><span style="display:flex;"><span>);</span></span></code></pre></div></div>
<p>Now, let&rsquo;s insert some values</p>
<p>The below query will evaluate to false, hence failing the constraint.</p>
<div class="highlight-wrapper"><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-sql" data-lang="sql"><span style="display:flex;"><span><span style="color:#66d9ef">INSERT</span> <span style="color:#66d9ef">INTO</span> test(val) <span style="color:#66d9ef">VALUES</span> (<span style="color:#ae81ff">0</span>);</span></span></code></pre></div></div>
<p>The value is <code>1</code> which is a non-zero value, hence passing the constraint.</p>
<div class="highlight-wrapper"><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-sql" data-lang="sql"><span style="display:flex;"><span><span style="color:#66d9ef">INSERT</span> <span style="color:#66d9ef">INTO</span> test(val) <span style="color:#66d9ef">VALUES</span> (<span style="color:#ae81ff">1</span>);</span></span></code></pre></div></div>
<p>Here the value is <code>0.000</code> which is still zero, hence failing the constraint.</p>
<div class="highlight-wrapper"><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-sql" data-lang="sql"><span style="display:flex;"><span><span style="color:#66d9ef">INSERT</span> <span style="color:#66d9ef">INTO</span> test(val) <span style="color:#66d9ef">VALUES</span> (<span style="color:#ae81ff">0</span>.<span style="color:#ae81ff">000</span>);</span></span></code></pre></div></div>
<p>The value here is <code>0.0001</code> which is a non-zero value, hence passing the constraint.</p>
<div class="highlight-wrapper"><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-sql" data-lang="sql"><span style="display:flex;"><span><span style="color:#66d9ef">INSERT</span> <span style="color:#66d9ef">INTO</span> test(val) <span style="color:#66d9ef">VALUES</span> (<span style="color:#ae81ff">0</span>.<span style="color:#ae81ff">0001</span>);</span></span></code></pre></div></div>
<p>The <code>FALSE</code> is alias for <code>0</code> hence failing the constraint.</p>
<div class="highlight-wrapper"><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-sql" data-lang="sql"><span style="display:flex;"><span><span style="color:#66d9ef">INSERT</span> <span style="color:#66d9ef">INTO</span> test(val) <span style="color:#66d9ef">VALUES</span> (<span style="color:#66d9ef">FALSE</span>);</span></span></code></pre></div></div>
<p>Similarly, <code>TRUE</code> is an alias for <code>1</code> hence passing the constraint.</p>
<div class="highlight-wrapper"><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-sql" data-lang="sql"><span style="display:flex;"><span><span style="color:#66d9ef">INSERT</span> <span style="color:#66d9ef">INTO</span> test(val) <span style="color:#66d9ef">VALUES</span> (<span style="color:#66d9ef">TRUE</span>);</span></span></code></pre></div></div>
<p>The empty string is casted as numeric, it evaluates to <code>0</code>, hence failing the constraint.</p>
<div class="highlight-wrapper"><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-sql" data-lang="sql"><span style="display:flex;"><span><span style="color:#66d9ef">INSERT</span> <span style="color:#66d9ef">INTO</span> test(val) <span style="color:#66d9ef">VALUES</span> (<span style="color:#e6db74">&#39;&#39;</span>);</span></span></code></pre></div></div>
<p>Similarly, the string <code>'a'</code> is casted as numeric, it evaluates to <code>0</code>, hence failing the constraint.</p>
<div class="highlight-wrapper"><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-sql" data-lang="sql"><span style="display:flex;"><span><span style="color:#66d9ef">INSERT</span> <span style="color:#66d9ef">INTO</span> test(val) <span style="color:#66d9ef">VALUES</span> (<span style="color:#e6db74">&#39;a&#39;</span>);</span></span></code></pre></div></div>
<p>Here&rsquo;s the log, the SQLog :)</p>
<div class="highlight-wrapper"><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-sql" data-lang="sql"><span style="display:flex;"><span>sqlite<span style="color:#f92672">&gt;</span> <span style="color:#66d9ef">CREATE</span> <span style="color:#66d9ef">TABLE</span> test (
</span></span><span style="display:flex;"><span>    val INTEGER,
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">CHECK</span>(val)
</span></span><span style="display:flex;"><span>);
</span></span><span style="display:flex;"><span>sqlite<span style="color:#f92672">&gt;</span> <span style="color:#66d9ef">INSERT</span> <span style="color:#66d9ef">INTO</span> test(val) <span style="color:#66d9ef">VALUES</span> (<span style="color:#ae81ff">0</span>);
</span></span><span style="display:flex;"><span>Runtime error: <span style="color:#66d9ef">CHECK</span> <span style="color:#66d9ef">constraint</span> failed: val (<span style="color:#ae81ff">19</span>)
</span></span><span style="display:flex;"><span>sqlite<span style="color:#f92672">&gt;</span> <span style="color:#66d9ef">INSERT</span> <span style="color:#66d9ef">INTO</span> test(val) <span style="color:#66d9ef">VALUES</span> (<span style="color:#ae81ff">1</span>);
</span></span><span style="display:flex;"><span>sqlite<span style="color:#f92672">&gt;</span> <span style="color:#66d9ef">INSERT</span> <span style="color:#66d9ef">INTO</span> test(val) <span style="color:#66d9ef">VALUES</span> (<span style="color:#ae81ff">0</span>.<span style="color:#ae81ff">000</span>);
</span></span><span style="display:flex;"><span>Runtime error: <span style="color:#66d9ef">CHECK</span> <span style="color:#66d9ef">constraint</span> failed: val (<span style="color:#ae81ff">19</span>)
</span></span><span style="display:flex;"><span>sqlite<span style="color:#f92672">&gt;</span> <span style="color:#66d9ef">INSERT</span> <span style="color:#66d9ef">INTO</span> test(val) <span style="color:#66d9ef">VALUES</span> (<span style="color:#ae81ff">0</span>.<span style="color:#ae81ff">0001</span>);
</span></span><span style="display:flex;"><span>sqlite<span style="color:#f92672">&gt;</span> <span style="color:#66d9ef">INSERT</span> <span style="color:#66d9ef">INTO</span> test(val) <span style="color:#66d9ef">VALUES</span> (<span style="color:#66d9ef">FALSE</span>);
</span></span><span style="display:flex;"><span>Runtime error: <span style="color:#66d9ef">CHECK</span> <span style="color:#66d9ef">constraint</span> failed: val (<span style="color:#ae81ff">19</span>)
</span></span><span style="display:flex;"><span>sqlite<span style="color:#f92672">&gt;</span> <span style="color:#66d9ef">INSERT</span> <span style="color:#66d9ef">INTO</span> test(val) <span style="color:#66d9ef">VALUES</span> (<span style="color:#66d9ef">TRUE</span>);
</span></span><span style="display:flex;"><span>sqlite<span style="color:#f92672">&gt;</span> <span style="color:#66d9ef">INSERT</span> <span style="color:#66d9ef">INTO</span> test(val) <span style="color:#66d9ef">VALUES</span> (<span style="color:#e6db74">&#39;&#39;</span>);
</span></span><span style="display:flex;"><span>Runtime error: <span style="color:#66d9ef">CHECK</span> <span style="color:#66d9ef">constraint</span> failed: val (<span style="color:#ae81ff">19</span>)
</span></span><span style="display:flex;"><span>sqlite<span style="color:#f92672">&gt;</span> <span style="color:#66d9ef">INSERT</span> <span style="color:#66d9ef">INTO</span> test(val) <span style="color:#66d9ef">VALUES</span> (<span style="color:#e6db74">&#39;a&#39;</span>);
</span></span><span style="display:flex;"><span>Runtime error: <span style="color:#66d9ef">CHECK</span> <span style="color:#66d9ef">constraint</span> failed: val (<span style="color:#ae81ff">19</span>)
</span></span><span style="display:flex;"><span>sqlite<span style="color:#f92672">&gt;</span> <span style="color:#66d9ef">INSERT</span> <span style="color:#66d9ef">INTO</span> test(val) <span style="color:#66d9ef">VALUES</span> (<span style="color:#ae81ff">124</span>);
</span></span><span style="display:flex;"><span>sqlite<span style="color:#f92672">&gt;</span> <span style="color:#66d9ef">SELECT</span> <span style="color:#f92672">*</span> <span style="color:#66d9ef">FROM</span> test;
</span></span><span style="display:flex;"><span><span style="color:#f92672">+</span><span style="color:#75715e">--------+
</span></span></span><span style="display:flex;"><span><span style="color:#f92672">|</span>  val   <span style="color:#f92672">|</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">+</span><span style="color:#75715e">--------+
</span></span></span><span style="display:flex;"><span><span style="color:#f92672">|</span> <span style="color:#ae81ff">1</span>      <span style="color:#f92672">|</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">|</span> <span style="color:#ae81ff">0</span>.<span style="color:#ae81ff">0001</span> <span style="color:#f92672">|</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">|</span> <span style="color:#ae81ff">1</span>      <span style="color:#f92672">|</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">|</span> <span style="color:#ae81ff">124</span>    <span style="color:#f92672">|</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">+</span><span style="color:#75715e">--------+
</span></span></span><span style="display:flex;"><span>sqlite<span style="color:#f92672">&gt;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>sqlite<span style="color:#f92672">&gt;</span> <span style="color:#66d9ef">INSERT</span> <span style="color:#66d9ef">INTO</span> test(val) <span style="color:#66d9ef">VALUES</span> (<span style="color:#66d9ef">NULL</span>);
</span></span><span style="display:flex;"><span>sqlite<span style="color:#f92672">&gt;</span> <span style="color:#66d9ef">INSERT</span> <span style="color:#66d9ef">INTO</span> test <span style="color:#66d9ef">DEFAULT</span> <span style="color:#66d9ef">VALUES</span>;
</span></span><span style="display:flex;"><span>sqlite<span style="color:#f92672">&gt;</span> <span style="color:#66d9ef">SELECT</span> <span style="color:#f92672">*</span> <span style="color:#66d9ef">FROM</span> test;
</span></span><span style="display:flex;"><span><span style="color:#f92672">+</span><span style="color:#75715e">--------+
</span></span></span><span style="display:flex;"><span><span style="color:#f92672">|</span>  val   <span style="color:#f92672">|</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">+</span><span style="color:#75715e">--------+
</span></span></span><span style="display:flex;"><span><span style="color:#f92672">|</span> <span style="color:#ae81ff">1</span>      <span style="color:#f92672">|</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">|</span> <span style="color:#ae81ff">0</span>.<span style="color:#ae81ff">0001</span> <span style="color:#f92672">|</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">|</span> <span style="color:#ae81ff">1</span>      <span style="color:#f92672">|</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">|</span> <span style="color:#ae81ff">124</span>    <span style="color:#f92672">|</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">|</span>        <span style="color:#f92672">|</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">|</span>        <span style="color:#f92672">|</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">+</span><span style="color:#75715e">--------+
</span></span></span><span style="display:flex;"><span>sqlite<span style="color:#f92672">&gt;</span></span></span></code></pre></div></div>
<p>Now, you might be wondering why the heck <code>'a'</code> failed? Well, becuase casting strings in numeric form, will evaluate to <code>0</code></p>
<div class="highlight-wrapper"><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-sql" data-lang="sql"><span style="display:flex;"><span><span style="color:#66d9ef">SELECT</span> <span style="color:#66d9ef">CAST</span>(<span style="color:#e6db74">&#39;a&#39;</span> <span style="color:#66d9ef">AS</span> NUMERIC);</span></span></code></pre></div></div>
<p>A wired quirk but worth noting, so won&rsquo;t work with strings, need to cast or perform better checks for string related values.</p>
<div class="highlight-wrapper"><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-text" data-lang="text"><span style="display:flex;"><span>sqlite&gt; INSERT INTO test(val) VALUES (&#39;a&#39;);
</span></span><span style="display:flex;"><span>Runtime error: CHECK constraint failed: val (19)
</span></span><span style="display:flex;"><span>sqlite&gt; SELECT CAST(&#39;a&#39; AS NUMERIC);
</span></span><span style="display:flex;"><span>+----------------------+
</span></span><span style="display:flex;"><span>| CAST(&#39;a&#39; AS NUMERIC) |
</span></span><span style="display:flex;"><span>+----------------------+
</span></span><span style="display:flex;"><span>| 0                    |
</span></span><span style="display:flex;"><span>+----------------------+
</span></span><span style="display:flex;"><span>sqlite&gt;</span></span></code></pre></div></div>
<p>So that is it from the basic walkthrough of the <code>CHECK</code> constraint.</p>
<p>Some TLDRs:</p>
<ol>
<li>The <code>CHECK</code> clause is a column constraint that allows us to define certain conditions that we want to evaluate on the column(s) before inserting/updating the row.</li>
<li>The constraint is table wide, as it boils down to inserting/updating or not inserting/updating the row.</li>
<li>The <code>CHECK</code> constraint is evaluated before the row is inserted/updated.</li>
<li>The value of the conditions is evaluated as a <code>NUMERIC</code> value so any value is <code>TRUE</code> if it is not <code>0</code>, even <code>NULL</code> is true, and <code>FALSE</code> if it is <code>0</code>.</li>
<li>The <code>CHECK</code> constraint can be disabled using the <code>PRAGMA</code> command <code>PRAGMA ignore_check_constraints = TRUE;</code> or <code>PRAGMA ignore_check_constraints = ON;</code> <code>ON</code>, <code>TRUE</code>, either works.</li>
</ol>

          
          
          
        </div>
        
        
        

        

      </div>

      
      
        
        
          
          
        
        
        
        <script
          type="text/javascript"
          src="/js/page.min.54b6f4371722649edbe871e431d8670d670878c22be8f36e229fe53cc9b786fe25a834def5e6de621f7a3e37b72bc8cd73839aa5ed907ed6cbd45cd3e1b0fa20.js"
          integrity="sha512-VLb0NxciZJ7b6HHkMdhnDWcIeMIr6PNuIp/lPMm3hv4lqDTe9ebeYh96Pje3K8jNc4Oape2QftbL1FzT4bD6IA=="
          data-oid="views_posts/2025-09-12-check-column-constraint.md"
          data-oid-likes="likes_posts/2025-09-12-check-column-constraint.md"></script>
      
    </section>

    
    <footer class="pt-8 max-w-prose print:hidden">
      
  
    
    
    
    <div class="pt-8">
      <hr class="border-dotted border-neutral-300 dark:border-neutral-600">
      <div class="flex justify-between pt-3">
        <span class="flex flex-col">
          
            <a
              class="flex text-neutral-700 hover:text-primary-600 dark:text-neutral dark:hover:text-primary-400"
              href="/posts/sqlite-generated-column-constraint/">
              <span class="leading-6">
                <span class="inline-block rtl:rotate-180">&larr;</span>&ensp;SQLite SQL: GENERATED column constraint
              </span>
            </a>
            
              <span class="ms-6 mt-1 text-xs text-neutral-500 dark:text-neutral-400">
                <time datetime="2025-09-11T00:00:00&#43;00:00">September 11, 2025</time>
              </span>
            
          
        </span>
        <span class="flex flex-col items-end">
          
            <a
              class="flex text-right text-neutral-700 hover:text-primary-600 dark:text-neutral dark:hover:text-primary-400"
              href="/posts/techstructive-weekly-59/">
              <span class="leading-6">
                Techstructive Weekly #59&ensp;<span class="inline-block rtl:rotate-180">&rarr;</span>
              </span>
            </a>
            
              <span class="me-6 mt-1 text-xs text-neutral-500 dark:text-neutral-400">
                <time datetime="2025-09-13T00:00:00&#43;00:00">September 13, 2025</time>
              </span>
            
          
        </span>
      </div>
    </div>
  


      
    </footer>
  </article>

        


  






<div
  id="scroll-to-top"
  class="fixed bottom-6 end-6 z-50 transform translate-y-4 opacity-0 duration-200">
  <a
    href="#the-top"
    class="pointer-events-auto flex h-12 w-12 items-center justify-center rounded-full bg-neutral/50 text-xl text-neutral-700 hover:text-primary-600 dark:bg-neutral-800/50 dark:text-neutral dark:hover:text-primary-400"
    aria-label="Scroll to top"
    title="Scroll to top">
    &uarr;
  </a>
</div>

      </main><footer id="site-footer" class="py-10 print:hidden">
  
  
    
  
  <div class="flex items-center justify-between">
    
    
      <p class="text-sm text-neutral-500 dark:text-neutral-400">
          &copy;
          2026
          Meet Gor
      </p>
    

    
    
      <p class="text-xs text-neutral-500 dark:text-neutral-400">
        
        
        Powered by <a class="hover:underline hover:decoration-primary-400 hover:text-primary-500"
          href="https://gohugo.io/" target="_blank" rel="noopener noreferrer">Hugo</a> &amp; <a class="hover:underline hover:decoration-primary-400 hover:text-primary-500"
          href="https://blowfish.page/" target="_blank" rel="noopener noreferrer">Blowfish</a>
      </p>
    
  </div>
  
    <script>
      mediumZoom(document.querySelectorAll("img:not(.nozoom)"), {
        margin: 24,
        background: "rgba(0,0,0,0.5)",
        scrollOffset: 0,
      });
    </script>
  
  
  
  <script
    type="text/javascript"
    src="/js/process.min.ee03488f19c93c2efb199e2e3014ea5f3cb2ce7d45154adb3399a158cac27ca52831db249ede5bb602700ef87eb02434139de0858af1818ab0fb4182472204a4.js"
    integrity="sha512-7gNIjxnJPC77GZ4uMBTqXzyyzn1FFUrbM5mhWMrCfKUoMdsknt5btgJwDvh&#43;sCQ0E53ghYrxgYqw&#43;0GCRyIEpA=="></script>
  
  
</footer>
<div
  id="search-wrapper"
  class="invisible fixed inset-0 flex h-screen w-screen cursor-default flex-col bg-neutral-500/50 p-4 backdrop-blur-sm dark:bg-neutral-900/50 sm:p-6 md:p-[10vh] lg:p-[12vh] z-500"
  data-url="/">
  <div
    id="search-modal"
    class="flex flex-col w-full max-w-3xl min-h-0 mx-auto border rounded-md shadow-lg top-20 border-neutral-200 bg-neutral dark:border-neutral-700 dark:bg-neutral-800">
    <header class="relative z-10 flex items-center justify-between flex-none px-2">
      <form class="flex items-center flex-auto min-w-0">
        <div class="flex items-center justify-center w-8 h-8 text-neutral-400">
          <span class="relative block icon"><svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="search" class="svg-inline--fa fa-search fa-w-16" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path fill="currentColor" d="M505 442.7L405.3 343c-4.5-4.5-10.6-7-17-7H372c27.6-35.3 44-79.7 44-128C416 93.1 322.9 0 208 0S0 93.1 0 208s93.1 208 208 208c48.3 0 92.7-16.4 128-44v16.3c0 6.4 2.5 12.5 7 17l99.7 99.7c9.4 9.4 24.6 9.4 33.9 0l28.3-28.3c9.4-9.4 9.4-24.6.1-34zM208 336c-70.7 0-128-57.2-128-128 0-70.7 57.2-128 128-128 70.7 0 128 57.2 128 128 0 70.7-57.2 128-128 128z"/></svg>
</span>
        </div>
        <input
          type="search"
          id="search-query"
          class="flex flex-auto h-12 mx-1 bg-transparent appearance-none focus:outline-dotted focus:outline-2 focus:outline-transparent"
          placeholder="Search"
          tabindex="0">
      </form>
      <button
        id="close-search-button"
        class="flex items-center justify-center w-8 h-8 text-neutral-700 hover:text-primary-600 dark:text-neutral dark:hover:text-primary-400"
        title="Close (Esc)">
        <span class="relative block icon"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 320 512"><path fill="currentColor" d="M310.6 361.4c12.5 12.5 12.5 32.75 0 45.25C304.4 412.9 296.2 416 288 416s-16.38-3.125-22.62-9.375L160 301.3L54.63 406.6C48.38 412.9 40.19 416 32 416S15.63 412.9 9.375 406.6c-12.5-12.5-12.5-32.75 0-45.25l105.4-105.4L9.375 150.6c-12.5-12.5-12.5-32.75 0-45.25s32.75-12.5 45.25 0L160 210.8l105.4-105.4c12.5-12.5 32.75-12.5 45.25 0s12.5 32.75 0 45.25l-105.4 105.4L310.6 361.4z"/></svg>
</span>
      </button>
    </header>
    <section class="flex-auto px-2 overflow-auto">
      <ul id="search-results">
        
      </ul>
    </section>
  </div>
</div>

    </div>
  </body>
  
</html>
