<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>Blog Admin</title>
	<script src="https://unpkg.com/htmx.org@1.9.10"></script>
	<link rel="stylesheet" href="/css/admin.css">
	<style>
		body {
			margin: 0;
			font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif;
			background: #f5f5f5;
		}
		
		.admin-shell {
			display: flex;
			height: 100vh;
			overflow: hidden;
		}
		
		.sidebar {
			width: 220px;
			background: #1a1a1a;
			color: white;
			padding: 20px;
			overflow-y: auto;
			border-right: 1px solid #333;
		}
		
		.sidebar h2 {
			margin: 0 0 30px 0;
			font-size: 18px;
			font-weight: 600;
			border-bottom: 1px solid #333;
			padding-bottom: 15px;
		}
		
		.nav-section {
			margin-bottom: 30px;
		}
		
		.nav-section-title {
			font-size: 11px;
			font-weight: 700;
			text-transform: uppercase;
			color: #888;
			margin-bottom: 12px;
			letter-spacing: 1px;
		}
		
		.nav-link {
			display: block;
			padding: 10px 12px;
			color: #ccc;
			text-decoration: none;
			border-radius: 4px;
			margin-bottom: 4px;
			font-size: 14px;
			cursor: pointer;
			border: none;
			background: none;
			text-align: left;
			width: 100%;
		}
		
		.nav-link:hover {
			background: #333;
			color: white;
		}
		
		.nav-link.active {
			background: #0066cc;
			color: white;
			font-weight: 600;
		}
		
		.main-content {
			flex: 1;
			overflow: hidden;
			display: flex;
			flex-direction: column;
		}
		
		.topbar {
			background: white;
			border-bottom: 1px solid #e0e0e0;
			padding: 15px 30px;
			display: flex;
			justify-content: space-between;
			align-items: center;
		}
		
		.topbar h1 {
			margin: 0;
			font-size: 24px;
			font-weight: 600;
		}
		
		.content-area {
			flex: 1;
			overflow-y: auto;
			padding: 30px;
		}
		
		.htmx-request.htmx-settling #main-content {
			opacity: 0.6;
		}
		
		.htmx-request.htmx-settling .spinner {
			display: inline-block;
		}
		
		.spinner {
			display: none;
			width: 16px;
			height: 16px;
			border: 2px solid #f3f3f3;
			border-top: 2px solid #0066cc;
			border-radius: 50%;
			animation: spin 1s linear infinite;
		}
		
		@keyframes spin {
			0% { transform: rotate(0deg); }
			100% { transform: rotate(360deg); }
		}
		
		@media (max-width: 768px) {
			.admin-shell {
				flex-direction: column;
			}
			
			.sidebar {
				width: 100%;
				max-height: 60px;
				padding: 10px 20px;
				display: flex;
				align-items: center;
				justify-content: space-between;
				overflow-x: auto;
				overflow-y: hidden;
			}
			
			.sidebar h2 {
				margin: 0;
				font-size: 14px;
				border: none;
				padding: 0;
			}
			
			.nav-section {
				margin: 0;
				display: flex;
				gap: 10px;
			}
			
			.nav-section-title {
				display: none;
			}
			
			.content-area {
				padding: 20px;
			}
		}
	</style>
</head>
<body>
	<div class="admin-shell">
		<div class="sidebar">
			<h2>Blog Admin</h2>
			
			<div class="nav-section">
				<div class="nav-section-title">Main</div>
				<a class="nav-link" hx-get="/admin/dashboard" hx-target="#main-content" onclick="updateActiveNav(this)">üìä Dashboard</a>
				<a class="nav-link" hx-get="/admin/posts" hx-target="#main-content" onclick="updateActiveNav(this)">üìù Posts</a>
				<a class="nav-link" hx-get="/admin/series" hx-target="#main-content" onclick="updateActiveNav(this)">üìö Series</a>
			</div>
			
			<div class="nav-section">
				<div class="nav-section-title">Config</div>
				<a class="nav-link" hx-get="/admin/types" hx-target="#main-content" onclick="updateActiveNav(this)">üè∑Ô∏è Post Types</a>
				<a class="nav-link" hx-get="/admin/exports" hx-target="#main-content" onclick="updateActiveNav(this)">üì§ Export</a>
			</div>
		</div>
		
		<div class="main-content">
			<div class="topbar">
				<h1 id="page-title">Dashboard</h1>
				<div class="spinner"></div>
			</div>
			
			<div class="content-area" id="main-content">
				<div class="card">
					<div class="card-body" style="text-align: center; padding: 60px 20px;">
						<p style="color: #999; font-size: 16px;">Loading...</p>
					</div>
				</div>
			</div>
		</div>
	</div>

	<script src="https://cdn.jsdelivr.net/npm/marked@11.1.1/marked.min.js"></script>
	<script>
		function updateActiveNav(element) {
			document.querySelectorAll('.nav-link').forEach(el => el.classList.remove('active'));
			element.classList.add('active');
			
			const text = element.textContent.trim();
			document.getElementById('page-title').textContent = text;
		}

		// Load dashboard on startup
		document.addEventListener('DOMContentLoaded', () => {
			htmx.ajax('GET', '/admin/dashboard', { target: '#main-content' });
			document.querySelector('.nav-link').classList.add('active');
		});
	</script>
</body>
</html>
