<!doctype html>
<html
  lang="en-us"
  dir="ltr"
  class="scroll-smooth"
  data-default-appearance="light"
  data-auto-appearance="true"><head>
  <meta charset="utf-8">
  
    <meta http-equiv="content-language" content="en-us">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <meta name="theme-color">

  
  
    <title>Advent of SQL 2025 Day 6: Days of Delight &middot; Notes</title>
    <meta name="title" content="Advent of SQL 2025 Day 6: Days of Delight &middot; Notes">
  

  
  
    <meta name="description" content="A collection of technical notes and posts">
  
  
    <meta name="keywords" content="sqlite,sql,advent-of-sql,">
  
  
  
  <link rel="canonical" href="/posts/advent-of-sql-2025-day-6/">
  

  
  
    <meta name="author" content="Meet Gor">
  
  

  
  <meta property="og:url" content="/posts/advent-of-sql-2025-day-6/">
  <meta property="og:site_name" content="Notes">
  <meta property="og:title" content="Advent of SQL 2025 Day 6: Days of Delight">
  <meta property="og:description" content="Advent of SQL Day 6: Days of Delight # It is day 6 of advent of SQL.
Let’s jump straight into the sql for the day.
DROP TABLE IF EXISTS families; DROP TABLE IF EXISTS deliveries_assigned; CREATE TABLE families ( id INT PRIMARY KEY, family_name TEXT ); CREATE TABLE deliveries_assigned ( id INT PRIMARY KEY, family_id INT, gift_date DATE, gift_name TEXT ); INSERT INTO families (id, family_name) VALUES (1, &#39;Isla Martinez&#39;), (2, &#39;Nolan Garcia&#39;), (3, &#39;Yara Chen&#39;), (4, &#39;Tariq Nguyen&#39;), (5, &#39;Mila Hernandez&#39;), (6, &#39;Casey Kim&#39;), (7, &#39;Mateo Hernandez&#39;), (8, &#39;Keiko Petrov&#39;), (9, &#39;Ethan Flores&#39;), (10, &#39;Mateo Nakamura&#39;), (11, &#39;Maya Fernandez&#39;), (12, &#39;Mila Davis&#39;), (13, &#39;Yara Rossi&#39;), (14, &#39;Nolan Phillips&#39;), (15, &#39;Amina Perez&#39;); INSERT INTO deliveries_assigned (id, family_id, gift_date, gift_name) VALUES (1, 1, &#39;2025-12-01&#39;, &#39;roasted cashews&#39;), (2, 1, &#39;2025-12-02&#39;, &#39;cookie decorating kit&#39;), (3, 1, &#39;2025-12-03&#39;, &#39;dark chocolate assortment&#39;), (4, 1, &#39;2025-12-04&#39;, &#39;white chocolate candies&#39;), (5, 1, &#39;2025-12-05&#39;, &#39;reindeer headband&#39;), (6, 1, &#39;2025-12-06&#39;, &#39;holiday brownie bites&#39;), (7, 1, &#39;2025-12-07&#39;, &#39;shortbread cookie tin&#39;), (8, 1, &#39;2025-12-08&#39;, &#39;chocolate chip cookies&#39;), (9, 1, &#39;2025-12-11&#39;, &#39;holiday jam trio&#39;), (10, 1, &#39;2025-12-12&#39;, &#39;white chocolate popcorn&#39;), (11, 1, &#39;2025-12-14&#39;, &#39;holiday jam trio&#39;), (12, 1, &#39;2025-12-15&#39;, &#39;fudge bites&#39;), (13, 1, &#39;2025-12-16&#39;, &#39;holiday sticker sheet&#39;), (14, 1, &#39;2025-12-18&#39;, &#39;hot cocoa bombs&#39;), (15, 1, &#39;2025-12-19&#39;, &#39;honey roasted nuts&#39;), (16, 1, &#39;2025-12-20&#39;, &#39;holiday mug&#39;), (17, 1, &#39;2025-12-21&#39;, &#39;white chocolate candies&#39;), (18, 1, &#39;2025-12-22&#39;, &#39;puzzle book&#39;), (19, 1, &#39;2025-12-23&#39;, &#39;snowman plush&#39;), (20, 1, &#39;2025-12-24&#39;, &#39;scented hand cream&#39;), (21, 1, &#39;2025-12-25&#39;, &#39;vanilla bean wafers&#39;), (22, 2, &#39;2025-12-01&#39;, &#39;roasted cashews&#39;), (23, 2, &#39;2025-12-02&#39;, &#39;holiday brownie bites&#39;), (24, 2, &#39;2025-12-03&#39;, &#39;peppermint bark bites&#39;), (25, 2, &#39;2025-12-04&#39;, &#39;holiday jam trio&#39;), (26, 2, &#39;2025-12-05&#39;, &#39;festive notepad&#39;), (27, 2, &#39;2025-12-06&#39;, &#39;scented pine sachet&#39;), (28, 2, &#39;2025-12-07&#39;, &#39;holiday mug&#39;), (29, 2, &#39;2025-12-08&#39;, &#39;shortbread cookie tin&#39;), (30, 2, &#39;2025-12-09&#39;, &#39;dark chocolate assortment&#39;); So, we have two tables:">
  <meta property="og:locale" content="en_us">
  <meta property="og:type" content="article">
    <meta property="article:section" content="posts">
    <meta property="article:published_time" content="2025-12-21T15:30:00+05:30">
    <meta property="article:modified_time" content="2026-01-04T15:49:51+05:30">
    <meta property="article:tag" content="Sqlite">
    <meta property="article:tag" content="Sql">
    <meta property="article:tag" content="Advent-of-Sql">

  
  <meta name="twitter:card" content="summary">
  <meta name="twitter:title" content="Advent of SQL 2025 Day 6: Days of Delight">
  <meta name="twitter:description" content="Advent of SQL Day 6: Days of Delight # It is day 6 of advent of SQL.
Let’s jump straight into the sql for the day.
DROP TABLE IF EXISTS families; DROP TABLE IF EXISTS deliveries_assigned; CREATE TABLE families ( id INT PRIMARY KEY, family_name TEXT ); CREATE TABLE deliveries_assigned ( id INT PRIMARY KEY, family_id INT, gift_date DATE, gift_name TEXT ); INSERT INTO families (id, family_name) VALUES (1, &#39;Isla Martinez&#39;), (2, &#39;Nolan Garcia&#39;), (3, &#39;Yara Chen&#39;), (4, &#39;Tariq Nguyen&#39;), (5, &#39;Mila Hernandez&#39;), (6, &#39;Casey Kim&#39;), (7, &#39;Mateo Hernandez&#39;), (8, &#39;Keiko Petrov&#39;), (9, &#39;Ethan Flores&#39;), (10, &#39;Mateo Nakamura&#39;), (11, &#39;Maya Fernandez&#39;), (12, &#39;Mila Davis&#39;), (13, &#39;Yara Rossi&#39;), (14, &#39;Nolan Phillips&#39;), (15, &#39;Amina Perez&#39;); INSERT INTO deliveries_assigned (id, family_id, gift_date, gift_name) VALUES (1, 1, &#39;2025-12-01&#39;, &#39;roasted cashews&#39;), (2, 1, &#39;2025-12-02&#39;, &#39;cookie decorating kit&#39;), (3, 1, &#39;2025-12-03&#39;, &#39;dark chocolate assortment&#39;), (4, 1, &#39;2025-12-04&#39;, &#39;white chocolate candies&#39;), (5, 1, &#39;2025-12-05&#39;, &#39;reindeer headband&#39;), (6, 1, &#39;2025-12-06&#39;, &#39;holiday brownie bites&#39;), (7, 1, &#39;2025-12-07&#39;, &#39;shortbread cookie tin&#39;), (8, 1, &#39;2025-12-08&#39;, &#39;chocolate chip cookies&#39;), (9, 1, &#39;2025-12-11&#39;, &#39;holiday jam trio&#39;), (10, 1, &#39;2025-12-12&#39;, &#39;white chocolate popcorn&#39;), (11, 1, &#39;2025-12-14&#39;, &#39;holiday jam trio&#39;), (12, 1, &#39;2025-12-15&#39;, &#39;fudge bites&#39;), (13, 1, &#39;2025-12-16&#39;, &#39;holiday sticker sheet&#39;), (14, 1, &#39;2025-12-18&#39;, &#39;hot cocoa bombs&#39;), (15, 1, &#39;2025-12-19&#39;, &#39;honey roasted nuts&#39;), (16, 1, &#39;2025-12-20&#39;, &#39;holiday mug&#39;), (17, 1, &#39;2025-12-21&#39;, &#39;white chocolate candies&#39;), (18, 1, &#39;2025-12-22&#39;, &#39;puzzle book&#39;), (19, 1, &#39;2025-12-23&#39;, &#39;snowman plush&#39;), (20, 1, &#39;2025-12-24&#39;, &#39;scented hand cream&#39;), (21, 1, &#39;2025-12-25&#39;, &#39;vanilla bean wafers&#39;), (22, 2, &#39;2025-12-01&#39;, &#39;roasted cashews&#39;), (23, 2, &#39;2025-12-02&#39;, &#39;holiday brownie bites&#39;), (24, 2, &#39;2025-12-03&#39;, &#39;peppermint bark bites&#39;), (25, 2, &#39;2025-12-04&#39;, &#39;holiday jam trio&#39;), (26, 2, &#39;2025-12-05&#39;, &#39;festive notepad&#39;), (27, 2, &#39;2025-12-06&#39;, &#39;scented pine sachet&#39;), (28, 2, &#39;2025-12-07&#39;, &#39;holiday mug&#39;), (29, 2, &#39;2025-12-08&#39;, &#39;shortbread cookie tin&#39;), (30, 2, &#39;2025-12-09&#39;, &#39;dark chocolate assortment&#39;); So, we have two tables:">

  
  
  
  
    
      
    
  
    
      
    
  
    
      
    
  
  
    
  

  
  
  
  
  
  

  

  
  
  
  
  
  
  
  
    
  
  
  <link
    type="text/css"
    rel="stylesheet"
    href="/css/main.bundle.min.c61736128cfa071f52268b924e8b8c8dff7f9e962caae1e812053e9e023a4e1c1c95239d517406a4002933de9dd5ad84667956aa9d4230a25024e7e502058ca1.css"
    integrity="sha512-xhc2Eoz6Bx9SJouSTouMjf9/npYsquHoEgU&#43;ngI6ThwclSOdUXQGpAApM96d1a2EZnlWqp1CMKJQJOflAgWMoQ==">

  
  
  <script
    type="text/javascript"
    src="/js/appearance.min.6f41174b3a05b680820fe08cadbfa5fb7a7ca347b76a0955cdc68b9d8aca1ce24f0547e138cea33bcc7904d551a90afcb1cc7f2d9fe8557075d501419046c08c.js"
    integrity="sha512-b0EXSzoFtoCCD&#43;CMrb&#43;l&#43;3p8o0e3aglVzcaLnYrKHOJPBUfhOM6jO8x5BNVRqQr8scx/LZ/oVXB11QFBkEbAjA=="></script>
  
  
  
  
  
  
    
    <script src="/lib/zoom/zoom.min.umd.a527109b68c082a70f3697716dd72a9d5aa8b545cf800cecbbc7399f2ca6f6e0ce3e431f2062b48bbfa47c9ea42822714060bef309be073f49b9c0e30d318d7b.js" integrity="sha512-pScQm2jAgqcPNpdxbdcqnVqotUXPgAzsu8c5nyym9uDOPkMfIGK0i7&#43;kfJ6kKCJxQGC&#43;8wm&#43;Bz9JucDjDTGNew=="></script>
  

  
  
  
    
  
  
    
  
  
  
  
  
  
  
    
    <script
      defer
      type="text/javascript"
      id="script-bundle"
      src="/js/main.bundle.min.67624a357c928d29b9fe19ba01a1e32c05ad1329ca2a712bf10446df0c6872903d0c14b21f76896b57a5a0710940805416cee38851d9067db6555881188e35a5.js"
      integrity="sha512-Z2JKNXySjSm5/hm6AaHjLAWtEynKKnEr8QRG3wxocpA9DBSyH3aJa1eloHEJQIBUFs7jiFHZBn22VViBGI41pQ=="
      data-copy="Copy"
      data-copied="Copied"></script>
  

  
  

<script src="/lib/jquery/jquery.slim.min.b0dca576e87d7eaa5850ae4e61759c065786cdb6489d68fcc82240539eebd5da522bdb4fda085ffd245808c8fe2acb2516408eb774ef26b5f6015fc6737c0ea8.js" integrity="sha512-sNylduh9fqpYUK5OYXWcBleGzbZInWj8yCJAU57r1dpSK9tP2ghf/SRYCMj&#43;KsslFkCOt3TvJrX2AV/Gc3wOqA=="></script>


























  

  

  

  

  








  
  
    <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
    <link rel="manifest" href="/site.webmanifest">
  

  
  <script type="application/ld+json">
  [{
    "@context": "https://schema.org",
    "@type": "Article",
    "articleSection": "Posts",
    "name": "Advent of SQL 2025 Day 6: Days of Delight",
    "headline": "Advent of SQL 2025 Day 6: Days of Delight",
    
    "inLanguage": "en-us",
    "url" : "/posts/advent-of-sql-2025-day-6/",
    "author" : {
      "@type": "Person",
      "name": "Meet Gor"
    },
    "copyrightYear": "2025",
    "dateCreated": "2025-12-21T15:30:00\u002b05:30",
    "datePublished": "2025-12-21T15:30:00\u002b05:30",
    
    "dateModified": "2026-01-04T15:49:51\u002b05:30",
    
    "keywords": ["sqlite","sql","advent-of-sql"],
    
    "mainEntityOfPage": "true",
    "wordCount": "3765"
  }]
  </script>



  
  
    




  

  
  

  
  

  
  

  
  
</head>


















  
  <body class="flex flex-col h-screen m-auto leading-7 max-w-7xl px-6 sm:px-14 md:px-24 lg:px-32 text-lg bg-neutral text-neutral-900 dark:bg-neutral-800 dark:text-neutral bf-scrollbar">
    <div id="the-top" class="absolute flex self-center">
      <a
        class="px-3 py-1 text-sm -translate-y-8 rounded-b-lg bg-primary-200 focus:translate-y-0 dark:bg-neutral-600"
        href="#main-content">
        <span class="font-bold text-primary-600 pe-2 dark:text-primary-400">&darr;</span>
        Skip to main content
      </a>
    </div>
    
    
      <div class="main-menu flex items-center w-full gap-2 p-1 pl-0">
  
  
    <a href="/" class="text-base font-medium truncate min-w-0 shrink">
      Notes
    </a>
  
  <div class="flex items-center ms-auto">
    <div class="hidden md:flex">
      <nav class="flex items-center gap-x-5 h-12">
  
    
      
  
    <a
      href="/"
      
      class="flex items-center bf-icon-color-hover"
      aria-label="Home"
      title="">
      
      
        <span class="text-base font-medium break-normal">
          Home
        </span>
      
    </a>
  

    
      
  
    <a
      href="/posts/"
      
      class="flex items-center bf-icon-color-hover"
      aria-label="Posts"
      title="">
      
      
        <span class="text-base font-medium break-normal">
          Posts
        </span>
      
    </a>
  

    
      
  
    <a
      href="/tags/"
      
      class="flex items-center bf-icon-color-hover"
      aria-label="Tags"
      title="">
      
      
        <span class="text-base font-medium break-normal">
          Tags
        </span>
      
    </a>
  

    
  

  

  

  
    <button
      id="search-button"
      aria-label="Search"
      class="text-base bf-icon-color-hover"
      title="Search (/)">
      <span class="relative block icon"><svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="search" class="svg-inline--fa fa-search fa-w-16" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path fill="currentColor" d="M505 442.7L405.3 343c-4.5-4.5-10.6-7-17-7H372c27.6-35.3 44-79.7 44-128C416 93.1 322.9 0 208 0S0 93.1 0 208s93.1 208 208 208c48.3 0 92.7-16.4 128-44v16.3c0 6.4 2.5 12.5 7 17l99.7 99.7c9.4 9.4 24.6 9.4 33.9 0l28.3-28.3c9.4-9.4 9.4-24.6.1-34zM208 336c-70.7 0-128-57.2-128-128 0-70.7 57.2-128 128-128 70.7 0 128 57.2 128 128 0 70.7-57.2 128-128 128z"/></svg>
</span>
    </button>
  

  
    <div class="flex items-center">
      <button
        id="appearance-switcher"
        aria-label="Dark mode switcher"
        type="button"
        class="text-base bf-icon-color-hover">
        <div class="flex items-center justify-center dark:hidden">
          <span class="relative block icon"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path fill="currentColor" d="M32 256c0-123.8 100.3-224 223.8-224c11.36 0 29.7 1.668 40.9 3.746c9.616 1.777 11.75 14.63 3.279 19.44C245 86.5 211.2 144.6 211.2 207.8c0 109.7 99.71 193 208.3 172.3c9.561-1.805 16.28 9.324 10.11 16.95C387.9 448.6 324.8 480 255.8 480C132.1 480 32 379.6 32 256z"/></svg>
</span>
        </div>
        <div class="items-center justify-center hidden dark:flex">
          <span class="relative block icon"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path fill="currentColor" d="M256 159.1c-53.02 0-95.1 42.98-95.1 95.1S202.1 351.1 256 351.1s95.1-42.98 95.1-95.1S309 159.1 256 159.1zM509.3 347L446.1 255.1l63.15-91.01c6.332-9.125 1.104-21.74-9.826-23.72l-109-19.7l-19.7-109c-1.975-10.93-14.59-16.16-23.72-9.824L256 65.89L164.1 2.736c-9.125-6.332-21.74-1.107-23.72 9.824L121.6 121.6L12.56 141.3C1.633 143.2-3.596 155.9 2.736 164.1L65.89 256l-63.15 91.01c-6.332 9.125-1.105 21.74 9.824 23.72l109 19.7l19.7 109c1.975 10.93 14.59 16.16 23.72 9.824L256 446.1l91.01 63.15c9.127 6.334 21.75 1.107 23.72-9.822l19.7-109l109-19.7C510.4 368.8 515.6 356.1 509.3 347zM256 383.1c-70.69 0-127.1-57.31-127.1-127.1c0-70.69 57.31-127.1 127.1-127.1s127.1 57.3 127.1 127.1C383.1 326.7 326.7 383.1 256 383.1z"/></svg>
</span>
        </div>
      </button>
    </div>
  
</nav>



    </div>
    <div class="flex md:hidden">
      <div class="flex items-center h-14 gap-4">
  
    <button
      id="search-button-mobile"
      aria-label="Search"
      class="flex items-center justify-center bf-icon-color-hover"
      title="Search (/)">
      <span class="relative block icon"><svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="search" class="svg-inline--fa fa-search fa-w-16" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path fill="currentColor" d="M505 442.7L405.3 343c-4.5-4.5-10.6-7-17-7H372c27.6-35.3 44-79.7 44-128C416 93.1 322.9 0 208 0S0 93.1 0 208s93.1 208 208 208c48.3 0 92.7-16.4 128-44v16.3c0 6.4 2.5 12.5 7 17l99.7 99.7c9.4 9.4 24.6 9.4 33.9 0l28.3-28.3c9.4-9.4 9.4-24.6.1-34zM208 336c-70.7 0-128-57.2-128-128 0-70.7 57.2-128 128-128 70.7 0 128 57.2 128 128 0 70.7-57.2 128-128 128z"/></svg>
</span>
    </button>
  

  
    <button
      id="appearance-switcher-mobile"
      type="button"
      aria-label="Dark mode switcher"
      class="flex items-center justify-center text-neutral-900 hover:text-primary-600 dark:text-neutral-200 dark:hover:text-primary-400">
      <div class="dark:hidden">
        <span class="relative block icon"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path fill="currentColor" d="M32 256c0-123.8 100.3-224 223.8-224c11.36 0 29.7 1.668 40.9 3.746c9.616 1.777 11.75 14.63 3.279 19.44C245 86.5 211.2 144.6 211.2 207.8c0 109.7 99.71 193 208.3 172.3c9.561-1.805 16.28 9.324 10.11 16.95C387.9 448.6 324.8 480 255.8 480C132.1 480 32 379.6 32 256z"/></svg>
</span>
      </div>
      <div class="hidden dark:block">
        <span class="relative block icon"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path fill="currentColor" d="M256 159.1c-53.02 0-95.1 42.98-95.1 95.1S202.1 351.1 256 351.1s95.1-42.98 95.1-95.1S309 159.1 256 159.1zM509.3 347L446.1 255.1l63.15-91.01c6.332-9.125 1.104-21.74-9.826-23.72l-109-19.7l-19.7-109c-1.975-10.93-14.59-16.16-23.72-9.824L256 65.89L164.1 2.736c-9.125-6.332-21.74-1.107-23.72 9.824L121.6 121.6L12.56 141.3C1.633 143.2-3.596 155.9 2.736 164.1L65.89 256l-63.15 91.01c-6.332 9.125-1.105 21.74 9.824 23.72l109 19.7l19.7 109c1.975 10.93 14.59 16.16 23.72 9.824L256 446.1l91.01 63.15c9.127 6.334 21.75 1.107 23.72-9.822l19.7-109l109-19.7C510.4 368.8 515.6 356.1 509.3 347zM256 383.1c-70.69 0-127.1-57.31-127.1-127.1c0-70.69 57.31-127.1 127.1-127.1s127.1 57.3 127.1 127.1C383.1 326.7 326.7 383.1 256 383.1z"/></svg>
</span>
      </div>
    </button>
  

  
    <input type="checkbox" id="mobile-menu-toggle" autocomplete="off" class="hidden peer">
    <label for="mobile-menu-toggle" class="flex items-center justify-center cursor-pointer bf-icon-color-hover">
      <span class="relative block icon"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path fill="currentColor" d="M0 96C0 78.33 14.33 64 32 64H416C433.7 64 448 78.33 448 96C448 113.7 433.7 128 416 128H32C14.33 128 0 113.7 0 96zM0 256C0 238.3 14.33 224 32 224H416C433.7 224 448 238.3 448 256C448 273.7 433.7 288 416 288H32C14.33 288 0 273.7 0 256zM416 448H32C14.33 448 0 433.7 0 416C0 398.3 14.33 384 32 384H416C433.7 384 448 398.3 448 416C448 433.7 433.7 448 416 448z"/></svg>
</span>
    </label>

    <div
      role="dialog"
      aria-modal="true"
      style="scrollbar-gutter: stable;"
      class="fixed inset-0 z-50 invisible overflow-y-auto px-6 py-20 opacity-0 transition-[opacity,visibility] duration-300 peer-checked:visible peer-checked:opacity-100 bg-neutral-50/97 dark:bg-neutral-900/99
      bf-scrollbar">
      <label
        for="mobile-menu-toggle"
        class="fixed end-8 top-5 flex items-center justify-center z-50 h-12 w-12 cursor-pointer select-none rounded-full bf-icon-color-hover border bf-border-color bf-border-color-hover bg-neutral-50 dark:bg-neutral-900">
        <span class="relative block icon"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 320 512"><path fill="currentColor" d="M310.6 361.4c12.5 12.5 12.5 32.75 0 45.25C304.4 412.9 296.2 416 288 416s-16.38-3.125-22.62-9.375L160 301.3L54.63 406.6C48.38 412.9 40.19 416 32 416S15.63 412.9 9.375 406.6c-12.5-12.5-12.5-32.75 0-45.25l105.4-105.4L9.375 150.6c-12.5-12.5-12.5-32.75 0-45.25s32.75-12.5 45.25 0L160 210.8l105.4-105.4c12.5-12.5 32.75-12.5 45.25 0s12.5 32.75 0 45.25l-105.4 105.4L310.6 361.4z"/></svg>
</span>
      </label>
      <nav class="mx-auto max-w-md space-y-6">
        
  
    
    <div class="px-2">
      <a
        href="/"
        aria-label="Home"
        
        class="flex items-center gap-4 group bf-icon-color-hover text-neutral-700 dark:text-neutral-200">
        
        <span title="" class="text-2xl font-bold tracking-tight">
          Home
        </span>
        
      </a>

      
    </div>
  
    
    <div class="px-2">
      <a
        href="/posts/"
        aria-label="Posts"
        
        class="flex items-center gap-4 group bf-icon-color-hover text-neutral-700 dark:text-neutral-200">
        
        <span title="" class="text-2xl font-bold tracking-tight">
          Posts
        </span>
        
      </a>

      
    </div>
  
    
    <div class="px-2">
      <a
        href="/tags/"
        aria-label="Tags"
        
        class="flex items-center gap-4 group bf-icon-color-hover text-neutral-700 dark:text-neutral-200">
        
        <span title="" class="text-2xl font-bold tracking-tight">
          Tags
        </span>
        
      </a>

      
    </div>
  

        
  

        
  

      </nav>
    </div>
  
</div>







    </div>
  </div>
</div>





    
    <div class="relative flex flex-col grow">
      <main id="main-content" class="grow">
        
  
  <article>
    
    

    
    <header id="single_header" class="mt-5 max-w-prose">
      
      <h1 class="mt-0 text-4xl font-extrabold text-neutral-900 dark:text-neutral">
        Advent of SQL 2025 Day 6: Days of Delight
      </h1>
      <div class="mt-1 mb-6 text-base text-neutral-500 dark:text-neutral-400 print:hidden">
        





  
  



  

  
  
  
    
  

  

  
    
  

  

  
    
  

  
    
  

  

  

  

  

  


  <div class="flex flex-row flex-wrap items-center">
    
    
      <time datetime="2025-12-21T15:30:00&#43;05:30">December 21, 2025</time><span class="px-2 text-primary-500">&middot;</span><span>3765 words</span><span class="px-2 text-primary-500">&middot;</span><span title="Reading time">18 mins</span>
    

    
    
  </div>

  

  
  

  
  



      </div>
      
        
  
  
  
  
  
  

  

  
    
    
<div class="flex author">
  
  <div class="place-self-center">
    
      <div class="text-[0.6rem] uppercase leading-3 text-neutral-500 dark:text-neutral-400">
        Author
      </div>
      <div class="font-semibold leading-6 text-neutral-800 dark:text-neutral-300">
        Meet Gor
      </div>
    
    
    <div class="text-2xl sm:text-lg">
</div>
  </div>
</div>

  

  

  
    <div class="mb-5"></div>
  

      
    </header>

    
    <section class="flex flex-col max-w-full mt-0 prose dark:prose-invert lg:flex-row">
      
      
      
      
      


      <div class="min-w-0 min-h-0 max-w-fit">
        
        <div class="article-content max-w-prose mb-20">
          
<h2 class="relative group">Advent of SQL Day 6: Days of Delight
    <div id="advent-of-sql-day-6-days-of-delight" class="anchor"></div>
    
    <span
        class="absolute top-0 w-6 transition-opacity opacity-0 -start-6 not-prose group-hover:opacity-100 select-none">
        <a class="text-primary-300 dark:text-neutral-700 !no-underline" href="#advent-of-sql-day-6-days-of-delight" aria-label="Anchor">#</a>
    </span>
    
</h2>
<p>It is day 6 of advent of SQL.</p>
<p>Let&rsquo;s jump straight into the sql for the day.</p>
<div class="highlight-wrapper"><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-sql" data-lang="sql"><span style="display:flex;"><span><span style="color:#66d9ef">DROP</span> <span style="color:#66d9ef">TABLE</span> <span style="color:#66d9ef">IF</span> <span style="color:#66d9ef">EXISTS</span> families;
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">DROP</span> <span style="color:#66d9ef">TABLE</span> <span style="color:#66d9ef">IF</span> <span style="color:#66d9ef">EXISTS</span> deliveries_assigned;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">CREATE</span> <span style="color:#66d9ef">TABLE</span> families (
</span></span><span style="display:flex;"><span>    id INT <span style="color:#66d9ef">PRIMARY</span> <span style="color:#66d9ef">KEY</span>,
</span></span><span style="display:flex;"><span>    family_name TEXT
</span></span><span style="display:flex;"><span>);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">CREATE</span> <span style="color:#66d9ef">TABLE</span> deliveries_assigned (
</span></span><span style="display:flex;"><span>    id INT <span style="color:#66d9ef">PRIMARY</span> <span style="color:#66d9ef">KEY</span>,
</span></span><span style="display:flex;"><span>    family_id INT,
</span></span><span style="display:flex;"><span>    gift_date DATE,
</span></span><span style="display:flex;"><span>    gift_name TEXT
</span></span><span style="display:flex;"><span>);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">INSERT</span> <span style="color:#66d9ef">INTO</span> families (id, family_name) <span style="color:#66d9ef">VALUES</span>
</span></span><span style="display:flex;"><span>    (<span style="color:#ae81ff">1</span>, <span style="color:#e6db74">&#39;Isla Martinez&#39;</span>),
</span></span><span style="display:flex;"><span>    (<span style="color:#ae81ff">2</span>, <span style="color:#e6db74">&#39;Nolan Garcia&#39;</span>),
</span></span><span style="display:flex;"><span>    (<span style="color:#ae81ff">3</span>, <span style="color:#e6db74">&#39;Yara Chen&#39;</span>),
</span></span><span style="display:flex;"><span>    (<span style="color:#ae81ff">4</span>, <span style="color:#e6db74">&#39;Tariq Nguyen&#39;</span>),
</span></span><span style="display:flex;"><span>    (<span style="color:#ae81ff">5</span>, <span style="color:#e6db74">&#39;Mila Hernandez&#39;</span>),
</span></span><span style="display:flex;"><span>    (<span style="color:#ae81ff">6</span>, <span style="color:#e6db74">&#39;Casey Kim&#39;</span>),
</span></span><span style="display:flex;"><span>    (<span style="color:#ae81ff">7</span>, <span style="color:#e6db74">&#39;Mateo Hernandez&#39;</span>),
</span></span><span style="display:flex;"><span>    (<span style="color:#ae81ff">8</span>, <span style="color:#e6db74">&#39;Keiko Petrov&#39;</span>),
</span></span><span style="display:flex;"><span>    (<span style="color:#ae81ff">9</span>, <span style="color:#e6db74">&#39;Ethan Flores&#39;</span>),
</span></span><span style="display:flex;"><span>    (<span style="color:#ae81ff">10</span>, <span style="color:#e6db74">&#39;Mateo Nakamura&#39;</span>),
</span></span><span style="display:flex;"><span>    (<span style="color:#ae81ff">11</span>, <span style="color:#e6db74">&#39;Maya Fernandez&#39;</span>),
</span></span><span style="display:flex;"><span>    (<span style="color:#ae81ff">12</span>, <span style="color:#e6db74">&#39;Mila Davis&#39;</span>),
</span></span><span style="display:flex;"><span>    (<span style="color:#ae81ff">13</span>, <span style="color:#e6db74">&#39;Yara Rossi&#39;</span>),
</span></span><span style="display:flex;"><span>    (<span style="color:#ae81ff">14</span>, <span style="color:#e6db74">&#39;Nolan Phillips&#39;</span>),
</span></span><span style="display:flex;"><span>    (<span style="color:#ae81ff">15</span>, <span style="color:#e6db74">&#39;Amina Perez&#39;</span>);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">INSERT</span> <span style="color:#66d9ef">INTO</span> deliveries_assigned (id, family_id, gift_date, gift_name) <span style="color:#66d9ef">VALUES</span>
</span></span><span style="display:flex;"><span>    (<span style="color:#ae81ff">1</span>, <span style="color:#ae81ff">1</span>, <span style="color:#e6db74">&#39;2025-12-01&#39;</span>, <span style="color:#e6db74">&#39;roasted cashews&#39;</span>),
</span></span><span style="display:flex;"><span>    (<span style="color:#ae81ff">2</span>, <span style="color:#ae81ff">1</span>, <span style="color:#e6db74">&#39;2025-12-02&#39;</span>, <span style="color:#e6db74">&#39;cookie decorating kit&#39;</span>),
</span></span><span style="display:flex;"><span>    (<span style="color:#ae81ff">3</span>, <span style="color:#ae81ff">1</span>, <span style="color:#e6db74">&#39;2025-12-03&#39;</span>, <span style="color:#e6db74">&#39;dark chocolate assortment&#39;</span>),
</span></span><span style="display:flex;"><span>    (<span style="color:#ae81ff">4</span>, <span style="color:#ae81ff">1</span>, <span style="color:#e6db74">&#39;2025-12-04&#39;</span>, <span style="color:#e6db74">&#39;white chocolate candies&#39;</span>),
</span></span><span style="display:flex;"><span>    (<span style="color:#ae81ff">5</span>, <span style="color:#ae81ff">1</span>, <span style="color:#e6db74">&#39;2025-12-05&#39;</span>, <span style="color:#e6db74">&#39;reindeer headband&#39;</span>),
</span></span><span style="display:flex;"><span>    (<span style="color:#ae81ff">6</span>, <span style="color:#ae81ff">1</span>, <span style="color:#e6db74">&#39;2025-12-06&#39;</span>, <span style="color:#e6db74">&#39;holiday brownie bites&#39;</span>),
</span></span><span style="display:flex;"><span>    (<span style="color:#ae81ff">7</span>, <span style="color:#ae81ff">1</span>, <span style="color:#e6db74">&#39;2025-12-07&#39;</span>, <span style="color:#e6db74">&#39;shortbread cookie tin&#39;</span>),
</span></span><span style="display:flex;"><span>    (<span style="color:#ae81ff">8</span>, <span style="color:#ae81ff">1</span>, <span style="color:#e6db74">&#39;2025-12-08&#39;</span>, <span style="color:#e6db74">&#39;chocolate chip cookies&#39;</span>),
</span></span><span style="display:flex;"><span>    (<span style="color:#ae81ff">9</span>, <span style="color:#ae81ff">1</span>, <span style="color:#e6db74">&#39;2025-12-11&#39;</span>, <span style="color:#e6db74">&#39;holiday jam trio&#39;</span>),
</span></span><span style="display:flex;"><span>    (<span style="color:#ae81ff">10</span>, <span style="color:#ae81ff">1</span>, <span style="color:#e6db74">&#39;2025-12-12&#39;</span>, <span style="color:#e6db74">&#39;white chocolate popcorn&#39;</span>),
</span></span><span style="display:flex;"><span>    (<span style="color:#ae81ff">11</span>, <span style="color:#ae81ff">1</span>, <span style="color:#e6db74">&#39;2025-12-14&#39;</span>, <span style="color:#e6db74">&#39;holiday jam trio&#39;</span>),
</span></span><span style="display:flex;"><span>    (<span style="color:#ae81ff">12</span>, <span style="color:#ae81ff">1</span>, <span style="color:#e6db74">&#39;2025-12-15&#39;</span>, <span style="color:#e6db74">&#39;fudge bites&#39;</span>),
</span></span><span style="display:flex;"><span>    (<span style="color:#ae81ff">13</span>, <span style="color:#ae81ff">1</span>, <span style="color:#e6db74">&#39;2025-12-16&#39;</span>, <span style="color:#e6db74">&#39;holiday sticker sheet&#39;</span>),
</span></span><span style="display:flex;"><span>    (<span style="color:#ae81ff">14</span>, <span style="color:#ae81ff">1</span>, <span style="color:#e6db74">&#39;2025-12-18&#39;</span>, <span style="color:#e6db74">&#39;hot cocoa bombs&#39;</span>),
</span></span><span style="display:flex;"><span>    (<span style="color:#ae81ff">15</span>, <span style="color:#ae81ff">1</span>, <span style="color:#e6db74">&#39;2025-12-19&#39;</span>, <span style="color:#e6db74">&#39;honey roasted nuts&#39;</span>),
</span></span><span style="display:flex;"><span>    (<span style="color:#ae81ff">16</span>, <span style="color:#ae81ff">1</span>, <span style="color:#e6db74">&#39;2025-12-20&#39;</span>, <span style="color:#e6db74">&#39;holiday mug&#39;</span>),
</span></span><span style="display:flex;"><span>    (<span style="color:#ae81ff">17</span>, <span style="color:#ae81ff">1</span>, <span style="color:#e6db74">&#39;2025-12-21&#39;</span>, <span style="color:#e6db74">&#39;white chocolate candies&#39;</span>),
</span></span><span style="display:flex;"><span>    (<span style="color:#ae81ff">18</span>, <span style="color:#ae81ff">1</span>, <span style="color:#e6db74">&#39;2025-12-22&#39;</span>, <span style="color:#e6db74">&#39;puzzle book&#39;</span>),
</span></span><span style="display:flex;"><span>    (<span style="color:#ae81ff">19</span>, <span style="color:#ae81ff">1</span>, <span style="color:#e6db74">&#39;2025-12-23&#39;</span>, <span style="color:#e6db74">&#39;snowman plush&#39;</span>),
</span></span><span style="display:flex;"><span>    (<span style="color:#ae81ff">20</span>, <span style="color:#ae81ff">1</span>, <span style="color:#e6db74">&#39;2025-12-24&#39;</span>, <span style="color:#e6db74">&#39;scented hand cream&#39;</span>),
</span></span><span style="display:flex;"><span>    (<span style="color:#ae81ff">21</span>, <span style="color:#ae81ff">1</span>, <span style="color:#e6db74">&#39;2025-12-25&#39;</span>, <span style="color:#e6db74">&#39;vanilla bean wafers&#39;</span>),
</span></span><span style="display:flex;"><span>    (<span style="color:#ae81ff">22</span>, <span style="color:#ae81ff">2</span>, <span style="color:#e6db74">&#39;2025-12-01&#39;</span>, <span style="color:#e6db74">&#39;roasted cashews&#39;</span>),
</span></span><span style="display:flex;"><span>    (<span style="color:#ae81ff">23</span>, <span style="color:#ae81ff">2</span>, <span style="color:#e6db74">&#39;2025-12-02&#39;</span>, <span style="color:#e6db74">&#39;holiday brownie bites&#39;</span>),
</span></span><span style="display:flex;"><span>    (<span style="color:#ae81ff">24</span>, <span style="color:#ae81ff">2</span>, <span style="color:#e6db74">&#39;2025-12-03&#39;</span>, <span style="color:#e6db74">&#39;peppermint bark bites&#39;</span>),
</span></span><span style="display:flex;"><span>    (<span style="color:#ae81ff">25</span>, <span style="color:#ae81ff">2</span>, <span style="color:#e6db74">&#39;2025-12-04&#39;</span>, <span style="color:#e6db74">&#39;holiday jam trio&#39;</span>),
</span></span><span style="display:flex;"><span>    (<span style="color:#ae81ff">26</span>, <span style="color:#ae81ff">2</span>, <span style="color:#e6db74">&#39;2025-12-05&#39;</span>, <span style="color:#e6db74">&#39;festive notepad&#39;</span>),
</span></span><span style="display:flex;"><span>    (<span style="color:#ae81ff">27</span>, <span style="color:#ae81ff">2</span>, <span style="color:#e6db74">&#39;2025-12-06&#39;</span>, <span style="color:#e6db74">&#39;scented pine sachet&#39;</span>),
</span></span><span style="display:flex;"><span>    (<span style="color:#ae81ff">28</span>, <span style="color:#ae81ff">2</span>, <span style="color:#e6db74">&#39;2025-12-07&#39;</span>, <span style="color:#e6db74">&#39;holiday mug&#39;</span>),
</span></span><span style="display:flex;"><span>    (<span style="color:#ae81ff">29</span>, <span style="color:#ae81ff">2</span>, <span style="color:#e6db74">&#39;2025-12-08&#39;</span>, <span style="color:#e6db74">&#39;shortbread cookie tin&#39;</span>),
</span></span><span style="display:flex;"><span>    (<span style="color:#ae81ff">30</span>, <span style="color:#ae81ff">2</span>, <span style="color:#e6db74">&#39;2025-12-09&#39;</span>, <span style="color:#e6db74">&#39;dark chocolate assortment&#39;</span>);</span></span></code></pre></div></div>
<p>So, we have two tables:</p>
<ol>
<li><code>families</code> table</li>
<li><code>deliveries_assigned</code> table</li>
</ol>
<p>The first table, <code>family</code> just has the id and the name of the family.</p>
<p>The second table, <code>deliveries_assigned</code> has the id, family id, gift date, and gift name.</p>
<p>Let&rsquo;s look at the problem statement.</p>

<h2 class="relative group">Problem
    <div id="problem" class="anchor"></div>
    
    <span
        class="absolute top-0 w-6 transition-opacity opacity-0 -start-6 not-prose group-hover:opacity-100 select-none">
        <a class="text-primary-300 dark:text-neutral-700 !no-underline" href="#problem" aria-label="Anchor">#</a>
    </span>
    
</h2>
<blockquote><p>Generate a report that returns the dates and families that have no delivery assigned after December 14th, using the <code>families</code> and <code>deliveries_assigned</code>.</p>
<p>Each row in the report should be a date and family name that represents the dates in which families don&rsquo;t have a delivery assigned yet.</p>
<p>Label the columns as <code>unassigned_date</code> and <code>name</code>. Order the results by <code>unassigned_date</code> and <code>name</code>, respectively, both in ascending order.</p>
</blockquote><p>Ok, so we need to list the deliveries_assigned for each family first, to check what kind of pattern are we looking for.</p>
<div class="highlight-wrapper"><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-sql" data-lang="sql"><span style="display:flex;"><span><span style="color:#66d9ef">SELECT</span> <span style="color:#f92672">*</span> <span style="color:#66d9ef">FROM</span> deliveries_assigned <span style="color:#66d9ef">WHERE</span> family_id <span style="color:#f92672">=</span> <span style="color:#ae81ff">1</span>;</span></span></code></pre></div></div>
<div class="highlight-wrapper"><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-text" data-lang="text"><span style="display:flex;"><span>sqlite&gt; select * from deliveries_assigned where family_id=1;
</span></span><span style="display:flex;"><span>+----+-----------+------------+---------------------------+
</span></span><span style="display:flex;"><span>| id | family_id | gift_date  |         gift_name         |
</span></span><span style="display:flex;"><span>+----+-----------+------------+---------------------------+
</span></span><span style="display:flex;"><span>| 1  | 1         | 2025-12-01 | roasted cashews           |
</span></span><span style="display:flex;"><span>| 2  | 1         | 2025-12-02 | cookie decorating kit     |
</span></span><span style="display:flex;"><span>| 3  | 1         | 2025-12-03 | dark chocolate assortment |
</span></span><span style="display:flex;"><span>| 4  | 1         | 2025-12-04 | white chocolate candies   |
</span></span><span style="display:flex;"><span>| 5  | 1         | 2025-12-05 | reindeer headband         |
</span></span><span style="display:flex;"><span>| 6  | 1         | 2025-12-06 | holiday brownie bites     |
</span></span><span style="display:flex;"><span>| 7  | 1         | 2025-12-07 | shortbread cookie tin     |
</span></span><span style="display:flex;"><span>| 8  | 1         | 2025-12-08 | chocolate chip cookies    |
</span></span><span style="display:flex;"><span>| 9  | 1         | 2025-12-11 | holiday jam trio          |
</span></span><span style="display:flex;"><span>| 10 | 1         | 2025-12-12 | white chocolate popcorn   |
</span></span><span style="display:flex;"><span>| 11 | 1         | 2025-12-14 | holiday jam trio          |
</span></span><span style="display:flex;"><span>| 12 | 1         | 2025-12-15 | fudge bites               |
</span></span><span style="display:flex;"><span>| 13 | 1         | 2025-12-16 | holiday sticker sheet     |
</span></span><span style="display:flex;"><span>| 14 | 1         | 2025-12-18 | hot cocoa bombs           |
</span></span><span style="display:flex;"><span>| 15 | 1         | 2025-12-19 | honey roasted nuts        |
</span></span><span style="display:flex;"><span>| 16 | 1         | 2025-12-20 | holiday mug               |
</span></span><span style="display:flex;"><span>| 17 | 1         | 2025-12-21 | white chocolate candies   |
</span></span><span style="display:flex;"><span>| 18 | 1         | 2025-12-22 | puzzle book               |
</span></span><span style="display:flex;"><span>| 19 | 1         | 2025-12-23 | snowman plush             |
</span></span><span style="display:flex;"><span>| 20 | 1         | 2025-12-24 | scented hand cream        |
</span></span><span style="display:flex;"><span>| 21 | 1         | 2025-12-25 | vanilla bean wafers       |
</span></span><span style="display:flex;"><span>+----+-----------+------------+---------------------------+
</span></span><span style="display:flex;"><span>sqlite&gt;</span></span></code></pre></div></div>
<p>So, we are missing gifts for family id <code>1</code> on <code>09</code>, <code>10</code>, <code>13</code>, and <code>17</code>. But we are only asked for gifts after <code>14</code> (December 14th).</p>
<blockquote><p>Generate a report that returns the dates and families that have <strong>no delivery assigned after December 14th</strong>, using the families and deliveries_assigned.</p>
</blockquote><p>So, we can discard <code>09</code>, <code>10</code>, and <code>13</code> as they are before December 14th.</p>
<div class="highlight-wrapper"><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-sql" data-lang="sql"><span style="display:flex;"><span><span style="color:#66d9ef">SELECT</span> <span style="color:#f92672">*</span> <span style="color:#66d9ef">FROM</span> deliveries_assigned <span style="color:#66d9ef">WHERE</span> family_id <span style="color:#f92672">=</span> <span style="color:#ae81ff">1</span> <span style="color:#66d9ef">AND</span> gift_date <span style="color:#f92672">&gt;</span> <span style="color:#e6db74">&#39;2025-12-14&#39;</span>;</span></span></code></pre></div></div>
<p>It gives the right dates where the gifts are assigned after December 14th. But the problem is we need to get dates which are missing in this <code>deliveries_assigned</code> table record for each family.</p>
<p>Finding something missing is kind of wired, because you don&rsquo;t have what is missing. Especially for dates, like dates are very painful.</p>
<p>We need to find among the sequential order of the dates, when some of the dates are missing, that is simple here, but you can see it could be quite cubersome if we have to manually add each date in the list for comparing with.</p>

<h3 class="relative group">JOINs with NOT EXISTS
    <div id="joins-with-not-exists" class="anchor"></div>
    
    <span
        class="absolute top-0 w-6 transition-opacity opacity-0 -start-6 not-prose group-hover:opacity-100 select-none">
        <a class="text-primary-300 dark:text-neutral-700 !no-underline" href="#joins-with-not-exists" aria-label="Anchor">#</a>
    </span>
    
</h3>
<p>So, the basic dirty solution is to check the missing dates for each family, one by one.</p>
<div class="highlight-wrapper"><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-sql" data-lang="sql"><span style="display:flex;"><span><span style="color:#66d9ef">SELECT</span> 
</span></span><span style="display:flex;"><span>    families.family_name <span style="color:#66d9ef">AS</span> name,
</span></span><span style="display:flex;"><span>    dates.column1 <span style="color:#66d9ef">AS</span> unassigned_date
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">FROM</span> families
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">JOIN</span> (
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">VALUES</span> 
</span></span><span style="display:flex;"><span>        (<span style="color:#e6db74">&#39;2025-12-15&#39;</span>), (<span style="color:#e6db74">&#39;2025-12-16&#39;</span>), (<span style="color:#e6db74">&#39;2025-12-17&#39;</span>),
</span></span><span style="display:flex;"><span>        (<span style="color:#e6db74">&#39;2025-12-18&#39;</span>), (<span style="color:#e6db74">&#39;2025-12-19&#39;</span>), (<span style="color:#e6db74">&#39;2025-12-20&#39;</span>),
</span></span><span style="display:flex;"><span>        (<span style="color:#e6db74">&#39;2025-12-21&#39;</span>), (<span style="color:#e6db74">&#39;2025-12-22&#39;</span>), (<span style="color:#e6db74">&#39;2025-12-23&#39;</span>),
</span></span><span style="display:flex;"><span>        (<span style="color:#e6db74">&#39;2025-12-24&#39;</span>), (<span style="color:#e6db74">&#39;2025-12-25&#39;</span>)
</span></span><span style="display:flex;"><span>) <span style="color:#66d9ef">AS</span> dates <span style="color:#66d9ef">ON</span> <span style="color:#ae81ff">1</span><span style="color:#f92672">=</span><span style="color:#ae81ff">1</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">WHERE</span> <span style="color:#66d9ef">NOT</span> <span style="color:#66d9ef">EXISTS</span> (
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">SELECT</span> <span style="color:#ae81ff">1</span> 
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">FROM</span> deliveries_assigned
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">WHERE</span> deliveries_assigned.family_id <span style="color:#f92672">=</span> families.id 
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">AND</span> deliveries_assigned.gift_date <span style="color:#f92672">=</span> dates.column1
</span></span><span style="display:flex;"><span>)
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">ORDER</span> <span style="color:#66d9ef">BY</span> unassigned_date, name;</span></span></code></pre></div></div>
<p>Let&rsquo;s break it down:</p>
<ol>
<li>We have a <code>families</code> table with id and family name.</li>
<li>We have a <code>deliveries_assigned</code> table with id, family id, gift date, and gift name.</li>
<li>We create a list of dates from <code>2025-12-15</code> to <code>2025-12-25</code> using the <code>VALUES</code> keyword.
<ul>
<li>This just appends one date after other and names the columns as <code>column1</code> with the table as <code>dates</code>.</li>
<li>The <code>ON</code> condition is <code>1=1</code> to make sure the <code>WHERE</code> condition is true for the JOIN to happen.</li>
</ul>
</li>
<li>We use the <code>NOT EXISTS</code> keyword to check if the <code>deliveries_assigned</code> table has a record for each date in the list.
<ul>
<li>we use <code>NOT EXISTS</code> because we want to check if there is no date for each date in the assigned list.</li>
</ul>
</li>
<li>We order the results by <code>unassigned_date</code> and <code>name</code>, respectively, both in ascending order.</li>
</ol>
<p>So, that is not the best way to solve this, I think.</p>

<h3 class="relative group">Recursive CTEs
    <div id="recursive-ctes" class="anchor"></div>
    
    <span
        class="absolute top-0 w-6 transition-opacity opacity-0 -start-6 not-prose group-hover:opacity-100 select-none">
        <a class="text-primary-300 dark:text-neutral-700 !no-underline" href="#recursive-ctes" aria-label="Anchor">#</a>
    </span>
    
</h3>
<p>We can generate a table full of dates, and then cross join the table with the <code>families</code> table. This will give us all possible combinations of dates and families like the gift should ideally be there for each family from 1st to 25th of December(however we are only interested from 15th to 25th December). Then once we have that full table of combination, we can check from the <code>deliveries_assigned</code> table and inner join for each family and filter out the rows which have family_id as <code>NULL</code> because some dates will be missing for that family.</p>
<p>First we&rsquo;ll create a recursive table of dates from <code>2025-12-15</code> to <code>2025-12-25</code></p>
<div class="highlight-wrapper"><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-sql" data-lang="sql"><span style="display:flex;"><span><span style="color:#66d9ef">WITH</span> <span style="color:#66d9ef">RECURSIVE</span> dates(gift_date) <span style="color:#66d9ef">AS</span> (
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">SELECT</span> <span style="color:#e6db74">&#39;2025-12-15&#39;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">UNION</span> <span style="color:#66d9ef">ALL</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">SELECT</span> date(gift_date, <span style="color:#e6db74">&#39;+1 day&#39;</span>)
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">FROM</span> dates
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">WHERE</span> gift_date <span style="color:#f92672">&lt;</span> <span style="color:#e6db74">&#39;2025-12-25&#39;</span>
</span></span><span style="display:flex;"><span>)
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">SELECT</span> <span style="color:#f92672">*</span> <span style="color:#66d9ef">FROM</span> dates;</span></span></code></pre></div></div>
<p>This will give us the dates from <code>2025-12-15</code> to <code>2025-12-25</code> in a recursive table.</p>
<p>What is a recursive table?</p>
<blockquote><p>A recursive table is a table that is defined as a combination of itself.</p>
</blockquote><p>So, we can create a recursive table of dates from <code>2025-12-15</code> to <code>2025-12-25</code>, The base case is <code>2025-12-15</code>, and the recursive case is <code>SELECT date(gift_date, '+1 day') FROM dates WHERE gift_date &lt; '2025-12-25'</code> which means it will call it recursively for <code>2025-12-16</code> on the first call inside it because of <code>+1 day</code> as the interval in the <code>date</code> function.</p>
<p>The date function is a <a href="https://sqlite.org/lang_datefunc.html#modifiers"  target="_blank">function</a> which takes in a date and we can add modifiers to it to manipulate or extract parts of the date. Here we have added the modifier as <code>+1 day</code> which will increment the day by one. We then call that in the <code>dates</code> CTE again till we have the <code>date</code> as less then <code>2025-12-25</code>. Till then we will have created all the <code>dates</code> from <code>15</code> till <code>25</code> including <code>25</code>. We can just type in the values manually as we did in the first dirty solution, but I wanted to see how we can generate dates dynamically in sqlite.</p>
<div class="highlight-wrapper"><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-text" data-lang="text"><span style="display:flex;"><span>sqlite&gt; WITH RECURSIVE dates(gift_date) AS (
</span></span><span style="display:flex;"><span>    SELECT &#39;2025-12-15&#39;
</span></span><span style="display:flex;"><span>    UNION ALL
</span></span><span style="display:flex;"><span>    SELECT date(gift_date, &#39;+1 day&#39;)
</span></span><span style="display:flex;"><span>    FROM dates
</span></span><span style="display:flex;"><span>    WHERE gift_date &lt; &#39;2025-12-25&#39;
</span></span><span style="display:flex;"><span>)
</span></span><span style="display:flex;"><span>SELECT * FROM dates;
</span></span><span style="display:flex;"><span>+------------+
</span></span><span style="display:flex;"><span>| gift_date  |
</span></span><span style="display:flex;"><span>+------------+
</span></span><span style="display:flex;"><span>| 2025-12-15 |
</span></span><span style="display:flex;"><span>| 2025-12-16 |
</span></span><span style="display:flex;"><span>| 2025-12-17 |
</span></span><span style="display:flex;"><span>| 2025-12-18 |
</span></span><span style="display:flex;"><span>| 2025-12-19 |
</span></span><span style="display:flex;"><span>| 2025-12-20 |
</span></span><span style="display:flex;"><span>| 2025-12-21 |
</span></span><span style="display:flex;"><span>| 2025-12-22 |
</span></span><span style="display:flex;"><span>| 2025-12-23 |
</span></span><span style="display:flex;"><span>| 2025-12-24 |
</span></span><span style="display:flex;"><span>| 2025-12-25 |
</span></span><span style="display:flex;"><span>+------------+
</span></span><span style="display:flex;"><span>Run Time: real 0.000 user 0.000225 sys 0.000009
</span></span><span style="display:flex;"><span>sqlite&gt;</span></span></code></pre></div></div>
<p>Now we&rsquo;ll cross join the <code>families</code> table with the <code>dates</code> table.</p>
<div class="highlight-wrapper"><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-sql" data-lang="sql"><span style="display:flex;"><span><span style="color:#66d9ef">SELECT</span> families.id <span style="color:#66d9ef">AS</span> family_id, families.family_name <span style="color:#66d9ef">as</span> family_name, dates.gift_date <span style="color:#66d9ef">as</span> gift_date
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">FROM</span> families
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">CROSS</span> <span style="color:#66d9ef">JOIN</span> dates;</span></span></code></pre></div></div>
<p>OK! Wait include the <code>dates</code> CTE above too, was just simplifying the query.</p>
<div class="highlight-wrapper"><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-sql" data-lang="sql"><span style="display:flex;"><span><span style="color:#66d9ef">WITH</span> <span style="color:#66d9ef">RECURSIVE</span> dates(gift_date) <span style="color:#66d9ef">AS</span> (
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">SELECT</span> <span style="color:#e6db74">&#39;2025-12-15&#39;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">UNION</span> <span style="color:#66d9ef">ALL</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">SELECT</span> date(gift_date, <span style="color:#e6db74">&#39;+1 day&#39;</span>)
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">FROM</span> dates
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">WHERE</span> gift_date <span style="color:#f92672">&lt;</span> <span style="color:#e6db74">&#39;2025-12-25&#39;</span>
</span></span><span style="display:flex;"><span>)
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">SELECT</span> families.id <span style="color:#66d9ef">AS</span> family_id, families.family_name <span style="color:#66d9ef">as</span> family_name, dates.gift_date <span style="color:#66d9ef">as</span> gift_date
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">FROM</span> families
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">CROSS</span> <span style="color:#66d9ef">JOIN</span> dates;</span></span></code></pre></div></div>
<p>This will give us the full table of combination of dates and families.</p>
<div class="highlight-wrapper"><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-sql" data-lang="sql"><span style="display:flex;"><span><span style="color:#66d9ef">SELECT</span> <span style="color:#66d9ef">COUNT</span>(<span style="color:#f92672">*</span>) <span style="color:#66d9ef">FROM</span> families;</span></span></code></pre></div></div>
<div class="highlight-wrapper"><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-sql" data-lang="sql"><span style="display:flex;"><span>sqlite<span style="color:#f92672">&gt;</span> <span style="color:#66d9ef">SELECT</span> <span style="color:#66d9ef">COUNT</span>(<span style="color:#f92672">*</span>) <span style="color:#66d9ef">FROM</span> families;
</span></span><span style="display:flex;"><span><span style="color:#f92672">+</span><span style="color:#75715e">----------+
</span></span></span><span style="display:flex;"><span><span style="color:#f92672">|</span> <span style="color:#66d9ef">COUNT</span>(<span style="color:#f92672">*</span>) <span style="color:#f92672">|</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">+</span><span style="color:#75715e">----------+
</span></span></span><span style="display:flex;"><span><span style="color:#f92672">|</span> <span style="color:#ae81ff">250</span>      <span style="color:#f92672">|</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">+</span><span style="color:#75715e">----------+
</span></span></span><span style="display:flex;"><span>Run Time: real <span style="color:#ae81ff">0</span>.<span style="color:#ae81ff">000</span> <span style="color:#66d9ef">user</span> <span style="color:#ae81ff">0</span>.<span style="color:#ae81ff">000113</span> sys <span style="color:#ae81ff">0</span>.<span style="color:#ae81ff">000006</span>
</span></span><span style="display:flex;"><span>sqlite<span style="color:#f92672">&gt;</span></span></span></code></pre></div></div>
<p>That is :</p>
<ul>
<li>There are 11 dates right? <code>2025-12-15</code> to <code>2025-12-25</code>, -&gt; <code>15</code> (1), <code>16</code> (2), <code>17</code> (3), <code>18</code> (4), <code>19</code> (5), <code>20</code> (6), <code>21</code> (7), <code>22</code> (8), <code>23</code> (9), <code>24</code> (10), <code>25</code> (11)</li>
<li>There are I think <code>250</code> families.</li>
<li>So, a <code>CROSS JOIN</code> will give us <code>11 * 250 = 2750</code> rows.</li>
</ul>
<div class="highlight-wrapper"><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-sql" data-lang="sql"><span style="display:flex;"><span><span style="color:#66d9ef">SELECT</span> <span style="color:#66d9ef">COUNT</span>(<span style="color:#f92672">*</span>) <span style="color:#66d9ef">FROM</span> (<span style="color:#66d9ef">WITH</span> <span style="color:#66d9ef">RECURSIVE</span> dates(gift_date) <span style="color:#66d9ef">AS</span> (
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">SELECT</span> <span style="color:#e6db74">&#39;2025-12-15&#39;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">UNION</span> <span style="color:#66d9ef">ALL</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">SELECT</span> date(gift_date, <span style="color:#e6db74">&#39;+1 day&#39;</span>)
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">FROM</span> dates
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">WHERE</span> gift_date <span style="color:#f92672">&lt;</span> <span style="color:#e6db74">&#39;2025-12-25&#39;</span>
</span></span><span style="display:flex;"><span>)
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">SELECT</span> families.id <span style="color:#66d9ef">AS</span> family_id, families.family_name <span style="color:#66d9ef">as</span> family_name, dates.gift_date <span style="color:#66d9ef">as</span> gift_date
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">FROM</span> families
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">CROSS</span> <span style="color:#66d9ef">JOIN</span> dates) <span style="color:#66d9ef">as</span> <span style="color:#66d9ef">count</span>;</span></span></code></pre></div></div>
<p>11 dates for each family.</p>
<div class="highlight-wrapper"><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-text" data-lang="text"><span style="display:flex;"><span>sqlite&gt; SELECT COUNT(*) FROM (WITH RECURSIVE dates(gift_date) AS (
</span></span><span style="display:flex;"><span>    SELECT &#39;2025-12-15&#39;
</span></span><span style="display:flex;"><span>    UNION ALL
</span></span><span style="display:flex;"><span>    SELECT date(gift_date, &#39;+1 day&#39;)
</span></span><span style="display:flex;"><span>    FROM dates
</span></span><span style="display:flex;"><span>    WHERE gift_date &lt; &#39;2025-12-25&#39;
</span></span><span style="display:flex;"><span>)
</span></span><span style="display:flex;"><span>SELECT families.id AS family_id, families.family_name as family_name, dates.gift_date as gift_date
</span></span><span style="display:flex;"><span>FROM families
</span></span><span style="display:flex;"><span>CROSS JOIN dates) as count;
</span></span><span style="display:flex;"><span>+----------+
</span></span><span style="display:flex;"><span>| COUNT(*) |
</span></span><span style="display:flex;"><span>+----------+
</span></span><span style="display:flex;"><span>| 2750     |
</span></span><span style="display:flex;"><span>+----------+
</span></span><span style="display:flex;"><span>Run Time: real 0.001 user 0.000407 sys 0.000000
</span></span><span style="display:flex;"><span>sqlite&gt;</span></span></code></pre></div></div>
<p>Now, we simply have to join the <code>deliveries_assigned</code> table with the above table.</p>
<p>Why?<br>
Because we need to map which dates are assigned and which dates are missing.</p>
<p>We need to do a which join?</p>
<p>LEFT, RIGHT or INNER</p>
<p>LEFT</p>
<p>WHy?</p>
<p>Because, the left table will have all the dates, and the right table will have the assigned dates. <strong>We need all the records from the <code>left</code> table (the combination, cross join table)</strong></p>
<p>We need all the rows in the <code>left</code> or the combination(cross join) of date and family table as to map which dates are assigned and which dates are missing.</p>
<p>If the <code>left</code> table has a record, then it means the date is assigned. If the <code>right</code> table has a record i.e. the gift is assigned, then it means the date is not assigned.</p>
<p>Hence, we can simply then filter out the relations with <code>NULL</code> as the <code>family_id</code> in the <code>deliveries_assigned</code> table.</p>
<div class="highlight-wrapper"><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-sql" data-lang="sql"><span style="display:flex;"><span><span style="color:#66d9ef">WITH</span> <span style="color:#66d9ef">RECURSIVE</span> dates(gift_date) <span style="color:#66d9ef">AS</span> (
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">SELECT</span> <span style="color:#e6db74">&#39;2025-12-15&#39;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">UNION</span> <span style="color:#66d9ef">ALL</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">SELECT</span> date(gift_date, <span style="color:#e6db74">&#39;+1 day&#39;</span>)
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">FROM</span> dates
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">WHERE</span> gift_date <span style="color:#f92672">&lt;</span> <span style="color:#e6db74">&#39;2025-12-25&#39;</span>
</span></span><span style="display:flex;"><span>),
</span></span><span style="display:flex;"><span>combination <span style="color:#66d9ef">AS</span> (
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">SELECT</span> families.id <span style="color:#66d9ef">AS</span> family_id, families.family_name <span style="color:#66d9ef">as</span> family_name, dates.gift_date <span style="color:#66d9ef">as</span> gift_date
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">FROM</span> families
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">CROSS</span> <span style="color:#66d9ef">JOIN</span> dates
</span></span><span style="display:flex;"><span>)
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">SELECT</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">*</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">FROM</span> combination
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">LEFT</span> <span style="color:#66d9ef">JOIN</span> deliveries_assigned
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">ON</span> deliveries_assigned.family_id <span style="color:#f92672">=</span> combination.family_id
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">AND</span> deliveries_assigned.gift_date <span style="color:#f92672">=</span> combination.gift_date</span></span></code></pre></div></div>
<div class="highlight-wrapper"><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-text" data-lang="text"><span style="display:flex;"><span>sqlite&gt; WITH RECURSIVE dates(gift_date) AS (
</span></span><span style="display:flex;"><span>    SELECT &#39;2025-12-15&#39;
</span></span><span style="display:flex;"><span>    UNION ALL
</span></span><span style="display:flex;"><span>    SELECT date(gift_date, &#39;+1 day&#39;)
</span></span><span style="display:flex;"><span>    FROM dates
</span></span><span style="display:flex;"><span>    WHERE gift_date &lt; &#39;2025-12-25&#39;
</span></span><span style="display:flex;"><span>),
</span></span><span style="display:flex;"><span>combination AS (
</span></span><span style="display:flex;"><span>    SELECT families.id AS family_id, families.family_name as family_name, dates.gift_date as gift_date
</span></span><span style="display:flex;"><span>    FROM families
</span></span><span style="display:flex;"><span>    CROSS JOIN dates
</span></span><span style="display:flex;"><span>)
</span></span><span style="display:flex;"><span>SELECT
</span></span><span style="display:flex;"><span>    *
</span></span><span style="display:flex;"><span>FROM combination
</span></span><span style="display:flex;"><span>LEFT JOIN deliveries_assigned
</span></span><span style="display:flex;"><span>    ON deliveries_assigned.family_id = combination.family_id
</span></span><span style="display:flex;"><span>    AND deliveries_assigned.gift_date = combination.gift_date LIMIT 30;
</span></span><span style="display:flex;"><span>+-----------+---------------+------------+----+-----------+------------+-------------------------+
</span></span><span style="display:flex;"><span>| family_id |  family_name  | gift_date  | id | family_id | gift_date  |        gift_name        |
</span></span><span style="display:flex;"><span>+-----------+---------------+------------+----+-----------+------------+-------------------------+
</span></span><span style="display:flex;"><span>| 1         | Isla Martinez | 2025-12-15 | 12 | 1         | 2025-12-15 | fudge bites             |
</span></span><span style="display:flex;"><span>| 1         | Isla Martinez | 2025-12-16 | 13 | 1         | 2025-12-16 | holiday sticker sheet   |
</span></span><span style="display:flex;"><span>| 1         | Isla Martinez | 2025-12-17 |    |           |            |                         |
</span></span><span style="display:flex;"><span>| 1         | Isla Martinez | 2025-12-18 | 14 | 1         | 2025-12-18 | hot cocoa bombs         |
</span></span><span style="display:flex;"><span>| 1         | Isla Martinez | 2025-12-19 | 15 | 1         | 2025-12-19 | honey roasted nuts      |
</span></span><span style="display:flex;"><span>| 1         | Isla Martinez | 2025-12-20 | 16 | 1         | 2025-12-20 | holiday mug             |
</span></span><span style="display:flex;"><span>| 1         | Isla Martinez | 2025-12-21 | 17 | 1         | 2025-12-21 | white chocolate candies |
</span></span><span style="display:flex;"><span>| 1         | Isla Martinez | 2025-12-22 | 18 | 1         | 2025-12-22 | puzzle book             |
</span></span><span style="display:flex;"><span>| 1         | Isla Martinez | 2025-12-23 | 19 | 1         | 2025-12-23 | snowman plush           |
</span></span><span style="display:flex;"><span>| 1         | Isla Martinez | 2025-12-24 | 20 | 1         | 2025-12-24 | scented hand cream      |
</span></span><span style="display:flex;"><span>| 1         | Isla Martinez | 2025-12-25 | 21 | 1         | 2025-12-25 | vanilla bean wafers     |
</span></span><span style="display:flex;"><span>| 2         | Nolan Garcia  | 2025-12-15 | 36 | 2         | 2025-12-15 | mini marshmallow tubes  |
</span></span><span style="display:flex;"><span>| 2         | Nolan Garcia  | 2025-12-16 | 37 | 2         | 2025-12-16 | white chocolate candies |
</span></span><span style="display:flex;"><span>| 2         | Nolan Garcia  | 2025-12-17 | 38 | 2         | 2025-12-17 | gingerbread cookie kit  |
</span></span><span style="display:flex;"><span>| 2         | Nolan Garcia  | 2025-12-18 | 39 | 2         | 2025-12-18 | family card game        |
</span></span><span style="display:flex;"><span>| 2         | Nolan Garcia  | 2025-12-19 |    |           |            |                         |
</span></span><span style="display:flex;"><span>| 2         | Nolan Garcia  | 2025-12-20 | 40 | 2         | 2025-12-20 | santa hat               |
</span></span><span style="display:flex;"><span>| 2         | Nolan Garcia  | 2025-12-21 | 41 | 2         | 2025-12-21 | holiday sticker sheet   |
</span></span><span style="display:flex;"><span>| 2         | Nolan Garcia  | 2025-12-22 |    |           |            |                         |
</span></span><span style="display:flex;"><span>| 2         | Nolan Garcia  | 2025-12-23 | 42 | 2         | 2025-12-23 | pecan praline bites     |
</span></span><span style="display:flex;"><span>| 2         | Nolan Garcia  | 2025-12-24 |    |           |            |                         |
</span></span><span style="display:flex;"><span>| 2         | Nolan Garcia  | 2025-12-25 | 43 | 2         | 2025-12-25 | santa hat               |
</span></span><span style="display:flex;"><span>| 3         | Yara Chen     | 2025-12-15 | 57 | 3         | 2025-12-15 | peppermint bark bites   |
</span></span><span style="display:flex;"><span>| 3         | Yara Chen     | 2025-12-16 |    |           |            |                         |
</span></span><span style="display:flex;"><span>| 3         | Yara Chen     | 2025-12-17 |    |           |            |                         |
</span></span><span style="display:flex;"><span>| 3         | Yara Chen     | 2025-12-18 | 58 | 3         | 2025-12-18 | cheddar popcorn         |
</span></span><span style="display:flex;"><span>| 3         | Yara Chen     | 2025-12-19 |    |           |            |                         |
</span></span><span style="display:flex;"><span>| 3         | Yara Chen     | 2025-12-20 | 59 | 3         | 2025-12-20 | festive notepad         |
</span></span><span style="display:flex;"><span>| 3         | Yara Chen     | 2025-12-21 | 60 | 3         | 2025-12-21 | fruit assortment        |
</span></span><span style="display:flex;"><span>| 3         | Yara Chen     | 2025-12-22 |    |           |            |                         |
</span></span><span style="display:flex;"><span>+-----------+---------------+------------+----+-----------+------------+-------------------------+
</span></span><span style="display:flex;"><span>...
</span></span><span style="display:flex;"><span>...
</span></span><span style="display:flex;"><span>| 249       | Jude Bautista     | 2025-12-24 |      |           |            |                            |
</span></span><span style="display:flex;"><span>| 249       | Jude Bautista     | 2025-12-25 | 5073 | 249       | 2025-12-25 | almond brittle             |
</span></span><span style="display:flex;"><span>| 250       | Bianca Muller     | 2025-12-15 | 5086 | 250       | 2025-12-15 | cocoa mix bundle           |
</span></span><span style="display:flex;"><span>| 250       | Bianca Muller     | 2025-12-16 | 5087 | 250       | 2025-12-16 | cookie decorating kit      |
</span></span><span style="display:flex;"><span>| 250       | Bianca Muller     | 2025-12-17 | 5088 | 250       | 2025-12-17 | shortbread cookie tin      |
</span></span><span style="display:flex;"><span>| 250       | Bianca Muller     | 2025-12-18 |      |           |            |                            |
</span></span><span style="display:flex;"><span>| 250       | Bianca Muller     | 2025-12-19 | 5089 | 250       | 2025-12-19 | snowflake candle           |
</span></span><span style="display:flex;"><span>| 250       | Bianca Muller     | 2025-12-20 |      |           |            |                            |
</span></span><span style="display:flex;"><span>| 250       | Bianca Muller     | 2025-12-21 | 5090 | 250       | 2025-12-21 | trail mix trio             |
</span></span><span style="display:flex;"><span>| 250       | Bianca Muller     | 2025-12-22 | 5091 | 250       | 2025-12-22 | shortbread cookie tin      |
</span></span><span style="display:flex;"><span>| 250       | Bianca Muller     | 2025-12-23 |      |           |            |                            |
</span></span><span style="display:flex;"><span>| 250       | Bianca Muller     | 2025-12-24 |      |           |            |                            |
</span></span><span style="display:flex;"><span>| 250       | Bianca Muller     | 2025-12-25 | 5092 | 250       | 2025-12-25 | gingerbread cookie kit     |
</span></span><span style="display:flex;"><span>+-----------+-------------------+------------+------+-----------+------------+----------------------------+
</span></span><span style="display:flex;"><span>Run Time: real 0.028 user 0.013392 sys 0.013096
</span></span><span style="display:flex;"><span>sqlite&gt;</span></span></code></pre></div></div>
<p>This will give all the gifts that have been assigned as well as not assigned for each family on each date from <code>2025-12-15</code> to <code>2025-12-25</code>.</p>
<p>Now, you can see, what we need and what we don&rsquo;t we simply can get the gifts or records with the <code>family_id</code> in the <code>deliveries_assigned</code> table as <code>NULL</code>, since there was no record for the family_id in the <code>deliveries_assigned</code> table for that date.</p>
<div class="highlight-wrapper"><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-sql" data-lang="sql"><span style="display:flex;"><span><span style="color:#66d9ef">WITH</span> <span style="color:#66d9ef">RECURSIVE</span> dates(gift_date) <span style="color:#66d9ef">AS</span> (
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">SELECT</span> <span style="color:#e6db74">&#39;2025-12-15&#39;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">UNION</span> <span style="color:#66d9ef">ALL</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">SELECT</span> date(gift_date, <span style="color:#e6db74">&#39;+1 day&#39;</span>)
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">FROM</span> dates
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">WHERE</span> gift_date <span style="color:#f92672">&lt;</span> <span style="color:#e6db74">&#39;2025-12-25&#39;</span>
</span></span><span style="display:flex;"><span>),
</span></span><span style="display:flex;"><span>combination <span style="color:#66d9ef">AS</span> (
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">SELECT</span> families.id <span style="color:#66d9ef">AS</span> family_id, families.family_name <span style="color:#66d9ef">as</span> family_name, dates.gift_date <span style="color:#66d9ef">as</span> gift_date
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">FROM</span> families
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">CROSS</span> <span style="color:#66d9ef">JOIN</span> dates
</span></span><span style="display:flex;"><span>)
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">SELECT</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">*</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">FROM</span> combination
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">LEFT</span> <span style="color:#66d9ef">JOIN</span> deliveries_assigned
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">ON</span> deliveries_assigned.family_id <span style="color:#f92672">=</span> combination.family_id
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">AND</span> deliveries_assigned.gift_date <span style="color:#f92672">=</span> combination.gift_date
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">WHERE</span> deliveries_assigned.family_id <span style="color:#66d9ef">IS</span> <span style="color:#66d9ef">NULL</span></span></span></code></pre></div></div>
<p>So, a simple <code>WHERE</code> clause with deliveries_assigned.family_id <code>IS NULL</code> will give us the missing dates for each family.</p>
<div class="highlight-wrapper"><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-text" data-lang="text"><span style="display:flex;"><span>sqlite&gt; WITH RECURSIVE dates(gift_date) AS (
</span></span><span style="display:flex;"><span>    SELECT &#39;2025-12-15&#39;
</span></span><span style="display:flex;"><span>    UNION ALL
</span></span><span style="display:flex;"><span>    SELECT date(gift_date, &#39;+1 day&#39;)
</span></span><span style="display:flex;"><span>    FROM dates
</span></span><span style="display:flex;"><span>    WHERE gift_date &lt; &#39;2025-12-25&#39;
</span></span><span style="display:flex;"><span>),
</span></span><span style="display:flex;"><span>combination AS (
</span></span><span style="display:flex;"><span>    SELECT families.id AS family_id, families.family_name as family_name, dates.gift_date as gift_date
</span></span><span style="display:flex;"><span>    FROM families
</span></span><span style="display:flex;"><span>    CROSS JOIN dates
</span></span><span style="display:flex;"><span>)
</span></span><span style="display:flex;"><span>SELECT
</span></span><span style="display:flex;"><span>    *
</span></span><span style="display:flex;"><span>FROM combination
</span></span><span style="display:flex;"><span>LEFT JOIN deliveries_assigned
</span></span><span style="display:flex;"><span>    ON deliveries_assigned.family_id = combination.family_id
</span></span><span style="display:flex;"><span>    AND deliveries_assigned.gift_date = combination.gift_date
</span></span><span style="display:flex;"><span>WHERE deliveries_assigned.family_id IS NULL
</span></span><span style="display:flex;"><span>   ...&gt; ;
</span></span><span style="display:flex;"><span>+-----------+-------------------+------------+----+-----------+-----------+-----------+
</span></span><span style="display:flex;"><span>| family_id |    family_name    | gift_date  | id | family_id | gift_date | gift_name |
</span></span><span style="display:flex;"><span>+-----------+-------------------+------------+----+-----------+-----------+-----------+
</span></span><span style="display:flex;"><span>| 1         | Isla Martinez     | 2025-12-17 |    |           |           |           |
</span></span><span style="display:flex;"><span>| 2         | Nolan Garcia      | 2025-12-19 |    |           |           |           |
</span></span><span style="display:flex;"><span>| 2         | Nolan Garcia      | 2025-12-22 |    |           |           |           |
</span></span><span style="display:flex;"><span>| 2         | Nolan Garcia      | 2025-12-24 |    |           |           |           |
</span></span><span style="display:flex;"><span>| 3         | Yara Chen         | 2025-12-16 |    |           |           |           |
</span></span><span style="display:flex;"><span>| 3         | Yara Chen         | 2025-12-17 |    |           |           |           |
</span></span><span style="display:flex;"><span>| 3         | Yara Chen         | 2025-12-19 |    |           |           |           |
</span></span><span style="display:flex;"><span>| 3         | Yara Chen         | 2025-12-22 |    |           |           |           |
</span></span><span style="display:flex;"><span>| 4         | Tariq Nguyen      | 2025-12-16 |    |           |           |           |
</span></span><span style="display:flex;"><span>...
</span></span><span style="display:flex;"><span>...
</span></span><span style="display:flex;"><span>| 247       | Malik Kim         | 2025-12-18 |    |           |           |           |
</span></span><span style="display:flex;"><span>| 247       | Malik Kim         | 2025-12-20 |    |           |           |           |
</span></span><span style="display:flex;"><span>| 247       | Malik Kim         | 2025-12-21 |    |           |           |           |
</span></span><span style="display:flex;"><span>| 248       | Tariq Flores      | 2025-12-16 |    |           |           |           |
</span></span><span style="display:flex;"><span>| 248       | Tariq Flores      | 2025-12-17 |    |           |           |           |
</span></span><span style="display:flex;"><span>| 248       | Tariq Flores      | 2025-12-18 |    |           |           |           |
</span></span><span style="display:flex;"><span>| 249       | Jude Bautista     | 2025-12-16 |    |           |           |           |
</span></span><span style="display:flex;"><span>| 249       | Jude Bautista     | 2025-12-20 |    |           |           |           |
</span></span><span style="display:flex;"><span>| 249       | Jude Bautista     | 2025-12-21 |    |           |           |           |
</span></span><span style="display:flex;"><span>| 249       | Jude Bautista     | 2025-12-23 |    |           |           |           |
</span></span><span style="display:flex;"><span>| 249       | Jude Bautista     | 2025-12-24 |    |           |           |           |
</span></span><span style="display:flex;"><span>| 250       | Bianca Muller     | 2025-12-18 |    |           |           |           |
</span></span><span style="display:flex;"><span>| 250       | Bianca Muller     | 2025-12-20 |    |           |           |           |
</span></span><span style="display:flex;"><span>| 250       | Bianca Muller     | 2025-12-23 |    |           |           |           |
</span></span><span style="display:flex;"><span>| 250       | Bianca Muller     | 2025-12-24 |    |           |           |           |
</span></span><span style="display:flex;"><span>+-----------+-------------------+------------+----+-----------+-----------+-----------+
</span></span><span style="display:flex;"><span>Run Time: real 0.014 user 0.011508 sys 0.002046
</span></span><span style="display:flex;"><span>sqlite&gt;</span></span></code></pre></div></div>
<p>All right, we now need to order by <code>unassigned_date</code> and <code>name</code> which are the <code>dates</code> from the <code>combination</code> table and the <code>family_name</code> from the <code>families</code> table.</p>
<div class="highlight-wrapper"><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-sql" data-lang="sql"><span style="display:flex;"><span><span style="color:#66d9ef">WITH</span> <span style="color:#66d9ef">RECURSIVE</span> dates(gift_date) <span style="color:#66d9ef">AS</span> (
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">SELECT</span> <span style="color:#e6db74">&#39;2025-12-15&#39;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">UNION</span> <span style="color:#66d9ef">ALL</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">SELECT</span> date(gift_date, <span style="color:#e6db74">&#39;+1 day&#39;</span>)
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">FROM</span> dates
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">WHERE</span> gift_date <span style="color:#f92672">&lt;</span> <span style="color:#e6db74">&#39;2025-12-25&#39;</span>
</span></span><span style="display:flex;"><span>),
</span></span><span style="display:flex;"><span>combination <span style="color:#66d9ef">AS</span> (
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">SELECT</span> families.id <span style="color:#66d9ef">AS</span> family_id, families.family_name <span style="color:#66d9ef">as</span> family_name, dates.gift_date <span style="color:#66d9ef">as</span> gift_date
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">FROM</span> families
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">CROSS</span> <span style="color:#66d9ef">JOIN</span> dates
</span></span><span style="display:flex;"><span>)
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">SELECT</span>
</span></span><span style="display:flex;"><span>    combination.gift_date <span style="color:#66d9ef">as</span> unassigned_date,
</span></span><span style="display:flex;"><span>    family_name
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">FROM</span> combination
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">LEFT</span> <span style="color:#66d9ef">JOIN</span> deliveries_assigned
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">ON</span> deliveries_assigned.family_id <span style="color:#f92672">=</span> combination.family_id
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">AND</span> deliveries_assigned.gift_date <span style="color:#f92672">=</span> combination.gift_date
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">WHERE</span> deliveries_assigned.family_id <span style="color:#66d9ef">IS</span> <span style="color:#66d9ef">NULL</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">ORDER</span> <span style="color:#66d9ef">BY</span> unassigned_date, family_name;</span></span></code></pre></div></div>
<div class="highlight-wrapper"><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-text" data-lang="text"><span style="display:flex;"><span>+-----------------+-------------------+
</span></span><span style="display:flex;"><span>| unassigned_date |    family_name    |
</span></span><span style="display:flex;"><span>+-----------------+-------------------+
</span></span><span style="display:flex;"><span>| 2025-12-15      | Adil Rossi        |
</span></span><span style="display:flex;"><span>| 2025-12-15      | Aisha Connor      |
</span></span><span style="display:flex;"><span>| 2025-12-15      | Amina Perez       |
</span></span><span style="display:flex;"><span>| 2025-12-15      | Amina Wong        |
</span></span><span style="display:flex;"><span>| 2025-12-15      | Andre Flores      |
</span></span><span style="display:flex;"><span>| 2025-12-15      | Anya Singh        |
</span></span><span style="display:flex;"><span>| 2025-12-15      | Arjun Wong        |
</span></span><span style="display:flex;"><span>| 2025-12-15      | Bianca Connor     |
</span></span><span style="display:flex;"><span>| 2025-12-15      | Caleb Petrov      |
</span></span><span style="display:flex;"><span>| 2025-12-15      | Caleb Roberts     |
</span></span><span style="display:flex;"><span>| 2025-12-15      | Carmen Carter     |
</span></span><span style="display:flex;"><span>| 2025-12-15      | Carmen Garcia     |
</span></span><span style="display:flex;"><span>| 2025-12-15      | Casey Flores      |
</span></span><span style="display:flex;"><span>| 2025-12-15      | Chi Hughes        |
</span></span><span style="display:flex;"><span>| 2025-12-15      | Clara Johnson     |
</span></span><span style="display:flex;"><span>| 2025-12-15      | Dara Bautista     |
</span></span><span style="display:flex;"><span>| 2025-12-15      | David Ramirez     |
</span></span><span style="display:flex;"><span>| 2025-12-15      | Elias Petrov      |
</span></span><span style="display:flex;"><span>| 2025-12-15      | Elias Petrov      |
</span></span><span style="display:flex;"><span>| 2025-12-15      | Ethan Flores      |
</span></span><span style="display:flex;"><span>| 2025-12-15      | Eva Gonzalez      |
</span></span><span style="display:flex;"><span>...
</span></span><span style="display:flex;"><span>...
</span></span><span style="display:flex;"><span>| 2025-12-25      | Owen Park         |
</span></span><span style="display:flex;"><span>| 2025-12-25      | Priya Khan        |
</span></span><span style="display:flex;"><span>| 2025-12-25      | Rafael Singh      |
</span></span><span style="display:flex;"><span>| 2025-12-25      | Ravi Abdallah     |
</span></span><span style="display:flex;"><span>| 2025-12-25      | Ravi Mitchell     |
</span></span><span style="display:flex;"><span>| 2025-12-25      | Rosa Turner       |
</span></span><span style="display:flex;"><span>| 2025-12-25      | Sara Jensen       |
</span></span><span style="display:flex;"><span>| 2025-12-25      | Sara Lopez        |
</span></span><span style="display:flex;"><span>| 2025-12-25      | Sara Rossi        |
</span></span><span style="display:flex;"><span>| 2025-12-25      | Sarah Phillips    |
</span></span><span style="display:flex;"><span>| 2025-12-25      | Seth Garcia       |
</span></span><span style="display:flex;"><span>| 2025-12-25      | Sienna Lopez      |
</span></span><span style="display:flex;"><span>| 2025-12-25      | Sofia Nakamura    |
</span></span><span style="display:flex;"><span>| 2025-12-25      | Tariq Nguyen      |
</span></span><span style="display:flex;"><span>| 2025-12-25      | Uma Ali           |
</span></span><span style="display:flex;"><span>| 2025-12-25      | Uma Phillips      |
</span></span><span style="display:flex;"><span>| 2025-12-25      | Yara Chen         |
</span></span><span style="display:flex;"><span>| 2025-12-25      | Yara Rossi        |
</span></span><span style="display:flex;"><span>| 2025-12-25      | Yusuf Ali         |
</span></span><span style="display:flex;"><span>| 2025-12-25      | Yusuf Hansen      |
</span></span><span style="display:flex;"><span>| 2025-12-25      | Yusuf Perez       |
</span></span><span style="display:flex;"><span>| 2025-12-25      | Yusuf Rossi       |
</span></span><span style="display:flex;"><span>| 2025-12-25      | Zara Khan         |
</span></span><span style="display:flex;"><span>+-----------------+-------------------+
</span></span><span style="display:flex;"><span>Run Time: real 0.008 user 0.004613 sys 0.002845
</span></span><span style="display:flex;"><span>sqlite&gt;</span></span></code></pre></div></div>
<p>Phew!<br>
Ok, that looks a mamoth query.</p>
<div class="highlight-wrapper"><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-sql" data-lang="sql"><span style="display:flex;"><span><span style="color:#66d9ef">WITH</span> <span style="color:#66d9ef">RECURSIVE</span> dates(gift_date) <span style="color:#66d9ef">AS</span> (
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">SELECT</span> <span style="color:#e6db74">&#39;2025-12-15&#39;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">UNION</span> <span style="color:#66d9ef">ALL</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">SELECT</span> date(gift_date, <span style="color:#e6db74">&#39;+1 day&#39;</span>)
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">FROM</span> dates
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">WHERE</span> gift_date <span style="color:#f92672">&lt;</span> <span style="color:#e6db74">&#39;2025-12-25&#39;</span>
</span></span><span style="display:flex;"><span>),
</span></span><span style="display:flex;"><span>combination <span style="color:#66d9ef">AS</span> (
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">SELECT</span> families.id <span style="color:#66d9ef">AS</span> family_id, families.family_name <span style="color:#66d9ef">as</span> family_name, dates.gift_date <span style="color:#66d9ef">as</span> gift_date
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">FROM</span> families
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">CROSS</span> <span style="color:#66d9ef">JOIN</span> dates
</span></span><span style="display:flex;"><span>)
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">SELECT</span>
</span></span><span style="display:flex;"><span>    combination.gift_date <span style="color:#66d9ef">as</span> unassigned_date,
</span></span><span style="display:flex;"><span>    family_name
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">FROM</span> combination
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">LEFT</span> <span style="color:#66d9ef">JOIN</span> deliveries_assigned
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">ON</span> deliveries_assigned.family_id <span style="color:#f92672">=</span> combination.family_id
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">AND</span> deliveries_assigned.gift_date <span style="color:#f92672">=</span> combination.gift_date
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">WHERE</span> deliveries_assigned.family_id <span style="color:#66d9ef">IS</span> <span style="color:#66d9ef">NULL</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">ORDER</span> <span style="color:#66d9ef">BY</span> unassigned_date, family_name;</span></span></code></pre></div></div>
<p>So, to recap</p>
<ul>
<li>Generate a table of dates from <code>2025-12-15</code> to <code>2025-12-25</code> using a recursive CTE.</li>
<li>Create a table of combinations of <code>families</code> and <code>dates</code> using a cross join.</li>
<li>Left join the <code>deliveries_assigned</code> table with the combination table.</li>
<li>Filter out the rows where the <code>family_id</code> in the <code>deliveries_assigned</code> table is <code>NULL</code>.</li>
<li>Order the results by <code>unassigned_date</code> and <code>name</code>, respectively, both in ascending order.</li>
</ul>
<p>Simple right?</p>
<p>That&rsquo;s it from day 6.</p>
<p>It getting serious out there!</p>

          
          
          
        </div>
        
        
        

        

      </div>

      
      
        
        
          
          
        
        
        
        <script
          type="text/javascript"
          src="/js/page.min.54b6f4371722649edbe871e431d8670d670878c22be8f36e229fe53cc9b786fe25a834def5e6de621f7a3e37b72bc8cd73839aa5ed907ed6cbd45cd3e1b0fa20.js"
          integrity="sha512-VLb0NxciZJ7b6HHkMdhnDWcIeMIr6PNuIp/lPMm3hv4lqDTe9ebeYh96Pje3K8jNc4Oape2QftbL1FzT4bD6IA=="
          data-oid="views_posts/2025-12-21-advent-of-sql-day-06-days-of-delight.md"
          data-oid-likes="likes_posts/2025-12-21-advent-of-sql-day-06-days-of-delight.md"></script>
      
    </section>

    
    <footer class="pt-8 max-w-prose print:hidden">
      
  
    
    
    
    <div class="pt-8">
      <hr class="border-dotted border-neutral-300 dark:border-neutral-600">
      <div class="flex justify-between pt-3">
        <span class="flex flex-col">
          
            <a
              class="flex text-neutral-700 hover:text-primary-600 dark:text-neutral dark:hover:text-primary-400"
              href="/posts/advent-of-sql-2025-day-5/">
              <span class="leading-6">
                <span class="inline-block rtl:rotate-180">&larr;</span>&ensp;Advent of SQL 2025 Day 5: EchoTrack Wrapped
              </span>
            </a>
            
              <span class="ms-6 mt-1 text-xs text-neutral-500 dark:text-neutral-400">
                <time datetime="2025-12-20T15:30:00&#43;05:30">December 20, 2025</time>
              </span>
            
          
        </span>
        <span class="flex flex-col items-end">
          
            <a
              class="flex text-right text-neutral-700 hover:text-primary-600 dark:text-neutral dark:hover:text-primary-400"
              href="/posts/advent-of-sql-2025-day-7/">
              <span class="leading-6">
                Advent of SQL 2025 Day 7: Polar Express Mixin&ensp;<span class="inline-block rtl:rotate-180">&rarr;</span>
              </span>
            </a>
            
              <span class="me-6 mt-1 text-xs text-neutral-500 dark:text-neutral-400">
                <time datetime="2025-12-22T15:30:00&#43;05:30">December 22, 2025</time>
              </span>
            
          
        </span>
      </div>
    </div>
  


      
    </footer>
  </article>

        


  






<div
  id="scroll-to-top"
  class="fixed bottom-6 end-6 z-50 transform translate-y-4 opacity-0 duration-200">
  <a
    href="#the-top"
    class="pointer-events-auto flex h-12 w-12 items-center justify-center rounded-full bg-neutral/50 text-xl text-neutral-700 hover:text-primary-600 dark:bg-neutral-800/50 dark:text-neutral dark:hover:text-primary-400"
    aria-label="Scroll to top"
    title="Scroll to top">
    &uarr;
  </a>
</div>

      </main><footer id="site-footer" class="py-10 print:hidden">
  
  
    
  
  <div class="flex items-center justify-between">
    
    
      <p class="text-sm text-neutral-500 dark:text-neutral-400">
          &copy;
          2026
          Meet Gor
      </p>
    

    
    
      <p class="text-xs text-neutral-500 dark:text-neutral-400">
        
        
        Powered by <a class="hover:underline hover:decoration-primary-400 hover:text-primary-500"
          href="https://gohugo.io/" target="_blank" rel="noopener noreferrer">Hugo</a> &amp; <a class="hover:underline hover:decoration-primary-400 hover:text-primary-500"
          href="https://blowfish.page/" target="_blank" rel="noopener noreferrer">Blowfish</a>
      </p>
    
  </div>
  
    <script>
      mediumZoom(document.querySelectorAll("img:not(.nozoom)"), {
        margin: 24,
        background: "rgba(0,0,0,0.5)",
        scrollOffset: 0,
      });
    </script>
  
  
  
  <script
    type="text/javascript"
    src="/js/process.min.ee03488f19c93c2efb199e2e3014ea5f3cb2ce7d45154adb3399a158cac27ca52831db249ede5bb602700ef87eb02434139de0858af1818ab0fb4182472204a4.js"
    integrity="sha512-7gNIjxnJPC77GZ4uMBTqXzyyzn1FFUrbM5mhWMrCfKUoMdsknt5btgJwDvh&#43;sCQ0E53ghYrxgYqw&#43;0GCRyIEpA=="></script>
  
  
</footer>
<div
  id="search-wrapper"
  class="invisible fixed inset-0 flex h-screen w-screen cursor-default flex-col bg-neutral-500/50 p-4 backdrop-blur-sm dark:bg-neutral-900/50 sm:p-6 md:p-[10vh] lg:p-[12vh] z-500"
  data-url="/">
  <div
    id="search-modal"
    class="flex flex-col w-full max-w-3xl min-h-0 mx-auto border rounded-md shadow-lg top-20 border-neutral-200 bg-neutral dark:border-neutral-700 dark:bg-neutral-800">
    <header class="relative z-10 flex items-center justify-between flex-none px-2">
      <form class="flex items-center flex-auto min-w-0">
        <div class="flex items-center justify-center w-8 h-8 text-neutral-400">
          <span class="relative block icon"><svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="search" class="svg-inline--fa fa-search fa-w-16" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path fill="currentColor" d="M505 442.7L405.3 343c-4.5-4.5-10.6-7-17-7H372c27.6-35.3 44-79.7 44-128C416 93.1 322.9 0 208 0S0 93.1 0 208s93.1 208 208 208c48.3 0 92.7-16.4 128-44v16.3c0 6.4 2.5 12.5 7 17l99.7 99.7c9.4 9.4 24.6 9.4 33.9 0l28.3-28.3c9.4-9.4 9.4-24.6.1-34zM208 336c-70.7 0-128-57.2-128-128 0-70.7 57.2-128 128-128 70.7 0 128 57.2 128 128 0 70.7-57.2 128-128 128z"/></svg>
</span>
        </div>
        <input
          type="search"
          id="search-query"
          class="flex flex-auto h-12 mx-1 bg-transparent appearance-none focus:outline-dotted focus:outline-2 focus:outline-transparent"
          placeholder="Search"
          tabindex="0">
      </form>
      <button
        id="close-search-button"
        class="flex items-center justify-center w-8 h-8 text-neutral-700 hover:text-primary-600 dark:text-neutral dark:hover:text-primary-400"
        title="Close (Esc)">
        <span class="relative block icon"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 320 512"><path fill="currentColor" d="M310.6 361.4c12.5 12.5 12.5 32.75 0 45.25C304.4 412.9 296.2 416 288 416s-16.38-3.125-22.62-9.375L160 301.3L54.63 406.6C48.38 412.9 40.19 416 32 416S15.63 412.9 9.375 406.6c-12.5-12.5-12.5-32.75 0-45.25l105.4-105.4L9.375 150.6c-12.5-12.5-12.5-32.75 0-45.25s32.75-12.5 45.25 0L160 210.8l105.4-105.4c12.5-12.5 32.75-12.5 45.25 0s12.5 32.75 0 45.25l-105.4 105.4L310.6 361.4z"/></svg>
</span>
      </button>
    </header>
    <section class="flex-auto px-2 overflow-auto">
      <ul id="search-results">
        
      </ul>
    </section>
  </div>
</div>

    </div>
  </body>
  
</html>
