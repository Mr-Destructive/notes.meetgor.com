PRAGMA foreign_keys=OFF;
BEGIN TRANSACTION;
CREATE TABLE IF NOT EXISTS content_types (
  id TEXT PRIMARY KEY,
  name TEXT NOT NULL UNIQUE,
  category TEXT NOT NULL -- 'long', 'medium', 'short'
);
INSERT INTO content_types VALUES('post','Post','long');
INSERT INTO content_types VALUES('article','Article','long');
INSERT INTO content_types VALUES('devlog','Devlog','long');
INSERT INTO content_types VALUES('howto','How-to','long');
INSERT INTO content_types VALUES('readinglog','Reading Log','long');
INSERT INTO content_types VALUES('review','Review','medium');
INSERT INTO content_types VALUES('thought','Thought','medium');
INSERT INTO content_types VALUES('til','TIL','medium');
INSERT INTO content_types VALUES('link','Link','short');
INSERT INTO content_types VALUES('microblog','Microblog','short');
INSERT INTO content_types VALUES('quote','Quote','short');
CREATE TABLE IF NOT EXISTS content (
  id TEXT PRIMARY KEY,
  type_id TEXT NOT NULL,
  slug TEXT NOT NULL UNIQUE,
  title TEXT,
  content TEXT NOT NULL,
  created_at INTEGER NOT NULL,
  updated_at INTEGER NOT NULL,
  published BOOLEAN DEFAULT 0,
  FOREIGN KEY(type_id) REFERENCES content_types(id)
);
INSERT INTO content VALUES('3faedfa7-6f26-4e24-bb91-1b0160ddf582','link','llm-text-as-image-tokens','llm-text-as-image-tokens','<p>It is a interesting concept as deepseek and other vllm and parsers have tried to take over OCR.</p>',1765214243439,1765214243439,0);
INSERT INTO content VALUES('c7c16685-2bca-452c-bc18-861916394631','link','pythons-random-seed-takes-absolute-integers','Python''s Random Seed takes absolute integers','<p>Beware of this haunting feature that you might consider a bug.</p>',1765255866506,1765255866506,0);
INSERT INTO content VALUES('29ba5f94-a1ce-44ec-840e-5f84b2977a4c','link','all-the-places','All The Places','<p>Really? This is 1.2 GBs, Geese! </p><p>Lets roll up in sqlite and explorein</p>',1765280641676,1765280641676,0);
INSERT INTO content VALUES('4a3f76c9-bcf8-4ff2-a133-f0c3bb288050','link','a-tsp-game-i-wanted-for-10-years-built-in-4-hours-graphhopper-directions-api','A TSP game I wanted for 10 years — built in 4 hours - GraphHopper Directions API','<p>This is quite a good thing,</p><p>I am not good at frontend, i let ai do it, i do what i am good at, writing backend.</p><p>Really? need to see it carefully again</p>',1765288858410,1765288858410,0);
INSERT INTO content VALUES('dac23f8c-477c-47ae-8c02-4f900935994f','link','if-youre-going-to-vibe-code-why-not-do-it-in-c','If You’re Going to Vibe Code, Why Not Do It in C?','<p>Yeah! This is a valid point</p><ul><li><p>If you are not caring about the code, why bother with the language</p></li><li><p>Choose a language which computers can understand the best, x86 or even machine code, 1s and 0s</p></li><li><p>Stephen says to create a VOPL vibe-oriented-programming-language which suits LLMs</p></li><li><p>Maybe this is what it will look it, who knows</p></li><li><p>But the point is strong, if vibe coding is not caring about programming, why bother choosing tech stack and languages, just let it choose whichever it is familiar and good at just like a good''ol developer</p></li></ul><p></p><p></p><p></p>',1765341177984,1765341177984,0);
INSERT INTO content VALUES('782a1b08-d776-4330-9130-85be77bab16e','link','structure-and-interpretation-of-computer-programs','Structure and Interpretation of Computer Programs','<p>A good book to be reading for software engineering, not read but readers admire it.</p><p></p><p></p>',1765341810839,1765341810839,0);
INSERT INTO content VALUES('094a681c-42a6-42fd-9655-76acc97eb829','link','software-is-getting-worse','Software is getting worse','<ul><li><p>Yes, yes, yes</p></li><li><p>We need these three ingredients for a good software</p><ul><li><p>Passion</p></li><li><p>Trying to solve a problem with care</p></li><li><p>Developers been funded or are self sustainable </p></li></ul></li></ul><p></p><blockquote><p>As the software gets old it get big</p><p>As the software gets big, it gets worse</p></blockquote><p></p><p>These are not the things responsible for bad software (might be but not only)</p><ul><li><p>AI Slop</p></li><li><p>Not using Rust (or any not using a particular framework or language)</p></li><li><p>Its a Electron app (or using a particular framework or language)</p></li></ul><p></p><p></p>',1765377964525,1765377964525,0);
INSERT INTO content VALUES('938d2ec8-60ec-454d-b13e-429e10d67d38','quote','untitled',NULL,'<p>"Never trust anything that can think for itself if you can''t see where it keeps its brain"</p><p>-- Mr. Arthur Weasley, Harry Potter and the Chambers of secret (Chapter 18)</p><p></p>',1765428997377,1765428997377,0);
INSERT INTO content VALUES('36d030b4-d106-43b4-a050-ff54e7775ab0','link','gemini-api-key-frustration','gemini-api-key-frustration','<p>Yeah! have you set up Google products without opening and closing a bunch of tabs</p><p>Here you are in 2025.</p><p>Wait a minute, was PaLM a thing? wasn''t google notes to be shut down?</p><p>What is happening, what is AI Studio, Vertex AI, Jules, Antigravity, Gemini CLI, Gemini models of course, dug sneaked into various products, geese.</p><p>Google!</p>',1765433673770,1765433673770,0);
INSERT INTO content VALUES('2f93e347-58b2-417e-8ece-cc66f83cd678','link','why-transformers-must-hallucinate','why-transformers-must-hallucinate','<p>This is a spicy take</p><p>The points are valid</p><ul><li><p>Averaging is a critical mistake</p></li><li><p>They miss checking whether an answer exist or not </p></li><li><p>Always answers will guarantee hallucination</p></li></ul><p></p><p>It should asses the question, then generate and not generate and then asses.</p><p></p>',1765440412858,1765440412858,0);
INSERT INTO content VALUES('a7f52103-3c5e-41ec-9c56-123243694fcb','link','process-to-do-safe-changes-in-a-complex-codebase','process-to-do-safe-changes-in-a-complex-codebase','<ul><li><p>Mikado method</p><ul><li><p>Tangled sticks</p></li><li><p>Pick the one which is least tangled, i.e. code which is least touched </p></li><li><p>Slowly it will lead to solve the more intricate problem</p></li></ul></li></ul><p></p>',1765441234278,1765441234278,0);
INSERT INTO content VALUES('25e9d342-a4e8-4283-a671-afebbd7d50fe','link','vibe-coding-is-mad-depressing','vibe-coding-is-mad-depressing','<p>Sigh</p><p>The frustration is quite evident</p><blockquote><p>I just feel sad with how AI has bastardized my profession, which I worked hard for the last 15 years. There is no best practices anymore, no proper process, no meaningful back and forth</p></blockquote><p>I can even feel it with 5 years of coding, man has been doing it for 15 years! Humans gets too excited when they can produce code i think.</p><p></p>',1765441776672,1765441776672,0);
INSERT INTO content VALUES('ac1cf200-a3fa-4dd3-99e8-4af4e2f5be4e','link','understanding-carriage','understanding-carriage','<p>A very thought-out post on the media consumption race</p>',1765448349747,1765448349747,0);
INSERT INTO content VALUES('7a813b27-31e1-47b4-ac4c-8feb11017cb1','link','why-i-think-jj-vcs-is-worth-your-time','why i think jj-vcs is worth your time','<p>Maybe its worth it, i should try it</p>',1765448608931,1765448608931,0);
INSERT INTO content VALUES('23f1b685-cd75-420b-9ad6-259a04a85c8b','link','auto-grade-hn','auto-grade-hn','<p>This is a cool experiment</p><ul><li><p>trying to make LLMs think about which human did the best given the current situation from the past</p></li><li><p>Its like making someone grade''s someones thought, but the grader is from the future sort of.</p></li></ul><p></p><p><a target="_blank" rel="noopener noreferrer nofollow" href="https://karpathy.bearblog.dev/auto-grade-hn/">https://karpathy.bearblog.dev/auto-grade-hn/</a></p><p></p>',1765449125007,1765449125007,0);
INSERT INTO content VALUES('21f9d963-c713-4210-a66f-5043fe12596c','link','202511-how-html-changes-in-epub','202511 How HTML changes in ePub','<ul><li><p>This is quite interesting to read for a web developer</p></li><li><p>How intricate html xhtml have lead to epub</p></li><li><p>XHTML is actually a unit of epub, or epub is a collection of xhtml docs</p></li></ul><p></p><p>The blog is really nice for html enthusiasts. Would love to read more.</p><p></p>',1765449243216,1765449243216,0);
INSERT INTO content VALUES('952e95cf-e95b-415a-bb25-75ffed874aff','thought','a-letter-from-my-grandfather','a-letter-from-my-grandfather','<p>This is hard hitting. I didn''t see my grandfather after I was 5. I wish I could have written a letter back then, just to say thanks to him, but my brain was not capable of understanding where he was going.</p><p>Life is cruel sometimes, it leaves you with only scars of past, but you can''t just sit and cry. You have to hold the pain and show that you cared, lift their spirits with pride. Hope I can least do that.</p>',1765449940798,1765449940798,0);
INSERT INTO content VALUES('024f425e-8ca6-44d0-b795-3062d38e0122','thought','please-dont-automate-science','please-dont-automate-science','<p>Boy, it takes courage to speak this!</p><p>Well spoken.</p><blockquote><p>They are here because they love research and want to contribute to advancing human knowledge. If you take the human out of the loop, meaning that humans no longer have any role in scientific research, you''re depriving them of the activity they love and a key source of meaning in their lives. And we all want to do something meaningful. Why, I asked, do you want to take the opportunity to contribute to science away from us?</p></blockquote><p>This hits it harder</p><blockquote><p>Science automation is coming whether we want it or not, and we''d better get used to it. The train is coming, and we can get on it or stand in its way.</p><p> I think that is a remarkably cowardly argument. </p><p>It is up to us as a society to decide how we use the technology we develop. It''s not a train, it''s a truck, and we''d better grab the steering wheel.</p></blockquote><p>There are bangers after bangers</p><blockquote><p>Making human intellectual or creative work redundant is something we should avoid when we can, and we should absolutely avoid it if there are no equally meaningful new roles for humans to transition into.</p></blockquote><p>I want to quote each and every paragraph it seems, this is so good, almost like it comes out of my mouth</p><blockquote><p>You could further argue that working on cutting humans out of meaningful creative work such as scientific research is incredibly egoistic. You get the intellectual satisfaction of inventing new AI methods, but the next generation don''t get a chance to contribute. Why do you want to rob your children (academic and biological) of the chance to engage in the most meaningful activity in the world?</p></blockquote><p>So true, I have been here when there was model after model releases in a week, i think in August-September. It was a wild month. I was overwhelmed, I didn''t get a chance to slow down. AI can do a lot of things, can produce a lot of things, and I cannot handle it at that pace. I need time to absorb, it makes productive, true, but it quickly overshoots the danger productive bar. The moment where you are too much productive that you lose track of every context in your head.</p><p></p><p></p>',1765455555865,1765455555865,0);
INSERT INTO content VALUES('32c01d90-9cf2-44a3-a99f-90245b2a3a9e','link','advent-of-sql-2025-db-pro','Advent of SQL 2025 | DB Pro','<p>This is cool</p><ul><li><p>Will try to build something like this next week</p></li></ul><p></p>',1765469105016,1765469105016,0);
INSERT INTO content VALUES('0ea6fcf9-0f07-4ccd-824e-501b0ea4677f','link','frozen-dictonary-in-python','Frozen dictonary in Python','<p>I have heard of frozen set, but a frozen dict? I just looks like a set right then? </p><p>You can''t set, only get, then what''s the point?</p><p>Need to read this</p><p></p>',1765469210096,1765469210096,0);
INSERT INTO content VALUES('e850903c-0232-4316-bc82-325d3ac91db4','link','browserpod-webassembly-in-browser-code-sandboxes-for-node-python-and-rails','BrowserPod: WebAssembly in-browser code sandboxes for Node, Python, and Rails','<p>This is cool</p><ul><li><p>Saving for later use on my blog for code snippets for Python, Rust, and JS, but Rails? maybe</p></li></ul><p></p>',1765469274811,1765469274811,0);
INSERT INTO content VALUES('60916411-8041-4272-8014-f2a8c18e9658','link','why-write-engineering-blogs','why-write-engineering-blogs','<p>Worth reading, everything from this blogs</p><p><a target="_blank" rel="noopener noreferrer nofollow" href="https://writethatblog.substack.com/p/why-write-engineering-blogs">https://writethatblog.substack.com/p/why-write-engineering-blogs</a></p>',1765469314596,1765469314596,0);
INSERT INTO content VALUES('e9798b2a-d5a0-49ae-9bb9-9d89751b989a','link','craft-software-that-makes-people-feel-something-raphael-amorim','Craft software that makes people feel something - Raphael Amorim','<p>This looks good, worth reading</p>',1765469356988,1765469356988,0);
INSERT INTO content VALUES('1036b44d-159c-43d4-9145-8f374d679423','link','how-we-might-learn','How we might learn','<p>Almost completed the video. Its really worth looking and thinking about</p><p>learning is a engaging process, you can''t do it forcefully.</p>',1765469480004,1765469480004,0);
INSERT INTO content VALUES('eb81c38d-0ab7-4996-a612-364ae88efd1d','link','if-you-quit-social-media-will-you-read-more-books','if-you-quit-social-media-will-you-read-more-books','<p>Will you?</p><p>Yes I will</p><p>I need something to do, something to keep busy</p>',1765469587109,1765469587109,0);
INSERT INTO content VALUES('1abd7018-1e01-4538-ba0b-55bbc389b256','link','how-what-can-go-wrong-went-wrong','How ''What Can Go Wrong?'' Went Wrong','<p>Yeah ! worth reading</p>',1765469621111,1765469621111,0);
INSERT INTO content VALUES('1e6f81e1-db37-4eef-9d7e-a50573397047','link','exactly-once-semantics-are-possible-heres-how-apache-kafka-does-it','exactly-once-semantics-are-possible-heres-how-apache-kafka-does-it','<p>Hmm! </p><p>This company is bought by IBM, must be up to something for sure.</p><p>I heard someone say, they bought RedHat and it went good, this too should go good then.</p>',1765469714736,1765469714736,0);
INSERT INTO content VALUES('fc7ae055-7cd2-4ab4-89aa-49bc1c2a3869','link','2025-favorite-new-apps','2025-favorite-new-apps','<p>Self host, open source there are so cool apps here </p><p></p>',1765471743227,1765471743227,0);
INSERT INTO content VALUES('e7574420-d3a1-4b87-bb14-9de725d66795','post','sqlog-advent-of-sql-day-2-snowballs','SQLog: Advent of SQL Day 2-Snowballs','<p></p><p></p>',1765966280123,1765966300186,0);
INSERT INTO content VALUES('44a8bc70-8542-4a9c-b4cb-2d738510f1a2','thought','youre-not-burnt-out-youre-existentially-starving','youre-not-burnt-out-youre-existentially-starving','<p>This was a good one</p><blockquote><p><strong>When you truly chase your highest potential, everything you thought was burnout will melt away.</strong> Because you weren’t suffering from too much work, you were suffering from too little truly important work. Like a boy who thought he was full until dessert arrives, you’ll suddenly find your hunger return!</p></blockquote><p>Some really good points</p><blockquote><p>Pause once a month to make sure you’re still on the right track. Stop once a year to triple-check you’re on the right track. But never get off this path towards your highest potential. Anything else will starve you existentially</p></blockquote><p></p><p>This is true</p><blockquote><p><strong>We’re optimizing for less suffering instead of more meaning.</strong></p></blockquote><p>Yes</p><blockquote><p><strong>I woke up today so excited to get to work thinking it was Monday morning already.</strong> Instead of jumping right into it, I spent all morning making breakfast and playing with my kids, then wrote this post. When I’m writing about something personal, 1,000+ words can easily flow for me in an afternoon.</p></blockquote><p></p><p>Just read the post!</p><p></p><p></p>',1766379410070,1766379410070,0);
INSERT INTO content VALUES('e41a004d-7e95-4a5e-a76f-be956226345a','link','what-new-developers-need-to-know-about-working-with-ai','What New Developers Need to Know About Working with AI','<p>The problem that developers solve is the business solution, AI can''t do that yet, it needs steering.</p><ul><li><p>Write tests</p></li><li><p>Verify the architecture, create it</p></li><li><p>Build the intuition when certain model or tool is useful</p></li></ul><p></p><p></p><p></p>',1766379698785,1766379698785,0);
INSERT INTO content VALUES('5811ddb3-7145-4a88-9c96-32629c1332cf','link','structured-outputs-create-false-confidence','Structured Outputs Create False Confidence','<p>Spicy take and true</p><p>Somewhat true</p><p>If your task is complex to get things out from image, or understand the context, it might hinder the quality.</p><p>But if your task is to simply do something straightforward tool calls, structured output beats everything.</p>',1766380381023,1766380381023,0);
INSERT INTO content VALUES('b8853d3d-661f-4203-921b-3f74eb7e1f96','thought','what-is-creativity-bytesauna','What is creativity? | ByteSauna','<p>A good point</p><blockquote><p>Many feel that artificial intelligence is rapidly serving us another moment of humility — and history repeats itself in terms of the reception. People are inclined to downplay its significance. They are often looking for ways in which AI is <em>not</em> performing well and sharing these with glee.</p><p>This seems like a kind of a coping mechanism: We hold on to the ways we will always remain special</p></blockquote><p>Yes it is because we don''t know what real creativity means.</p><p>AI has changed the way we define each things like art, creativity, work really. But in a good way, to distill the fake from the one that has emerged from the emotion and not from immitation.</p><p>I agree to this point as well</p><blockquote><p>Is what we call "creativity" not, in fact, the ability to produce some given output, but a capacity to express one''s subjective experience (which these models fundamentally lack)?</p></blockquote><p>They lack the drive, the motivation to meander and get lost or have the grit, the venegence, the rage, the humility, the care, the punch of excitement in anything they do.</p><p></p><p></p>',1766390698885,1766390698885,0);
INSERT INTO content VALUES('8549099c-c3b3-42df-a5c3-a2f112995176','link','becoming-the-machine','becoming-the-machine','<p>This is well put.</p><p></p><p>I kind of hate this argument.</p><p></p><p>Why are we comparing ourselves to machines in the first place?</p><p>We can grind, but with thinking what actually we are doing.</p><p>Because I equate grind to consistency, it sometimes feels like grind, and we need to overcome that emotion of letting it overtake us. But most of the days, the grind is a joy, we do it because we feel like doing it.</p>',1766552947859,1766552947859,0);
INSERT INTO content VALUES('f880ee1e-2327-4867-9e57-37112bb45cd2','thought','how-i-left-youtube','how-i-left-youtube','<p></p><p>Man that was a good read!</p><p></p><p>I resonated with this a lot</p><blockquote><p>This duality is exhausting. It forces you to lie by omission to people you respect. You can''t tell your team, "I can''t take that ticket because I need to study dynamic programming." You just have to work faster.</p></blockquote><p></p><p>I respect people above and behind me, but I too needed to move in life, support the things I was responsible for, get out of the grave situation I was pushed into. For that, I took some decisions, which I tried for, but nothing came off it, I wasn''t quite sure about the switch and left it when the offer came. Stranded here. I am feeling good here, but if I am not in another company by the end of 2026, something is wrong with me.</p><p></p><p>Let''s see!</p><p>Good lessons</p><blockquote><ul><li><p>Don''t say: "I tweaked the YouTube watch-time algorithm using X variable."</p></li><li><p>Do say: "I optimized a high-throughput distributed system to prioritize user retention metrics, reducing latency by 150ms through a custom caching layer."</p></li></ul></blockquote><p>Man!!</p><blockquote><p>My final conversation with my manager was heart-wrenching. I had prepared a script, anticipating a counter-offer or a guilt trip. Instead, I was met with soft and understanding empathy.&nbsp;</p></blockquote><p>Yep</p><blockquote><p>The interview fatigue is real, and the conversations are hard, but the clarity you gain on your own value is worth the struggle.</p></blockquote><p></p><p>Got to go through it once and then there would be no stop for growth.</p><p></p><p>Grass looks green on the other side always! Damm</p><p></p><p></p>',1766662391622,1766662391622,0);
INSERT INTO content VALUES('1464e18e-0c95-4b53-bf1d-18ead4853d67','thought','why-i-write-and-you-should-too','Why I Write (And You Should Too!)','<p>Yes!</p><ul><li><p>It makes you a better thinker and communicator</p></li><li><p>You’ll get feedback that makes you a better writer</p></li><li><p>You’ll meet people interested in the same things you are</p></li><li><p>Your past thinking will be archived and searchable</p></li><li><p>The value of your writing compounds</p></li><li><p>Writing gives you a license to explore and organize your thoughts</p></li></ul><p></p><p></p><blockquote><p>When you’re getting started, it’s intimidating to ask people for feedback on drafts. Thankfully, AI is great at this! Paste in your draft and prompt it with critiques...</p></blockquote><p></p><p>I like it, I use AI as a critique and a guide to polish my first draft. (I don''t revise though, but it gives a good way to understand what are my mistakes and improve in the next post)</p><p></p>',1766997997451,1766997997451,0);
INSERT INTO content VALUES('ec5a9465-9af3-4aa2-9ee4-f6968c4fe6b6','thought','the-case-for-blogging-in-the-ruins','the-case-for-blogging-in-the-ruins','<p>This is so cool!</p><p></p><ul><li><p>Encyclopedia</p></li><li><p>Essay</p></li><li><p>Blog</p></li></ul><p></p><p>I love all of this. Soon will write on <a target="_blank" rel="noopener noreferrer nofollow" href="http://notes.meetgor.com">notes.meetgor.com</a> and <a target="_blank" rel="noopener noreferrer nofollow" href="http://blog.meetgor.com">blog.meetgor.com</a></p><p></p><p></p><p></p>',1767366166027,1767366166027,0);
CREATE TABLE IF NOT EXISTS content_metadata (
  id TEXT PRIMARY KEY,
  content_id TEXT NOT NULL UNIQUE,
  metadata TEXT NOT NULL, -- JSON
  FOREIGN KEY(content_id) REFERENCES content(id) ON DELETE CASCADE
);
INSERT INTO content_metadata VALUES('6b519d7a-cd24-4b18-9921-1931f08267a2','3faedfa7-6f26-4e24-bb91-1b0160ddf582','{"link":"https://pagewatch.ai/blog/post/llm-text-as-image-tokens/","title":"llm-text-as-image-tokens"}');
INSERT INTO content_metadata VALUES('be050bf2-6213-4151-8cf2-d977fb1b2107','c7c16685-2bca-452c-bc18-861916394631','{"link":"https://x.com/karpathy/status/1998236299862659485","title":"Python''s Random Seed takes absolute integers"}');
INSERT INTO content_metadata VALUES('3e015747-ba2c-48c2-aad4-3170fde9b1c1','29ba5f94-a1ce-44ec-840e-5f84b2977a4c','{"link":"https://alltheplaces.xyz/","title":"All The Places","description":"A growing set of web scrapers designed to output consistent geodata about as many places of business in the world as possible."}');
INSERT INTO content_metadata VALUES('40bf1ceb-9d86-44c0-af7d-91cf65b84dec','4a3f76c9-bcf8-4ff2-a133-f0c3bb288050','{"link":"https://www.graphhopper.com/blog/2025/12/08/a-tsp-game-10-years-in-the-making-built-in-4-hours/","title":"A TSP game I wanted for 10 years — built in 4 hours - GraphHopper Directions API","description":"For a decade, I’ve wanted to build a simple game that shows why the Traveling Salesman Problem is fun to work on. Something I could pull up at a party when someone asks “so what does your company actually do?” Something my kids could play and understand why dad stares at vehicle routing problems all […]"}');
INSERT INTO content_metadata VALUES('233719a9-90d7-4274-8496-8a2109fe6a96','dac23f8c-477c-47ae-8c02-4f900935994f','{"link":"https://stephenramsay.net/posts/vibe-coding.html","title":"If You’re Going to Vibe Code, Why Not Do It in C?"}');
INSERT INTO content_metadata VALUES('9d0c393c-6a7d-49b6-ac72-353acf2e06af','782a1b08-d776-4330-9130-85be77bab16e','{"link":"https://web.mit.edu/6.001/6.037/sicp.pdf","title":"Structure and Interpretation of Computer Programs"}');
INSERT INTO content_metadata VALUES('73cdf7cb-0330-464b-9b3c-a333b8fc8446','094a681c-42a6-42fd-9655-76acc97eb829','{"link":"https://www.youtube.com/watch?v=FI5ba4RRE8U","title":"Software is getting worse"}');
INSERT INTO content_metadata VALUES('8f9d0df5-549e-4fe2-9d57-80b9dff81230','938d2ec8-60ec-454d-b13e-429e10d67d38','{"quote":"\"Never trust anything that can think for itself if you can''t see where it keeps its brain\"","source":"Mr. Arthur Weasley, Harry Potter and the Chambers of secret (Chapter 18)","comments":"I highly relate to it as it makes me wonder if LLMs keep their brain, do they have brain? Maybe.\nBut it clearly is a ahead-of-its-time quote. Back then it must have been computers and now its AI, what a quote, Rowling. Amazing."}');
INSERT INTO content_metadata VALUES('365a2579-9bd4-4060-9b17-7956375fdcf7','36d030b4-d106-43b4-a050-ff54e7775ab0','{"link":"https://ankursethi.com/blog/gemini-api-key-frustration/","title":"gemini-api-key-frustration"}');
INSERT INTO content_metadata VALUES('34b8f0c0-f8eb-423e-9d3f-5502fdcbab51','2f93e347-58b2-417e-8ece-cc66f83cd678','{"link":"https://nikitph.medium.com/why-transformers-must-hallucinate-7c2a8fc3b3be","title":"why-transformers-must-hallucinate"}');
INSERT INTO content_metadata VALUES('f73b9c11-635c-4053-a3e7-0cf55d213e16','a7f52103-3c5e-41ec-9c56-123243694fcb','{"link":"https://understandlegacycode.com/blog/a-process-to-do-safe-changes-in-a-complex-codebase/","title":"process-to-do-safe-changes-in-a-complex-codebase"}');
INSERT INTO content_metadata VALUES('8626a7a6-e0dc-4f2c-a648-5835d85822c3','25e9d342-a4e8-4283-a671-afebbd7d50fe','{"link":"https://law.gmnz.xyz/vibe-coding-is-mad-depressing/","title":"vibe-coding-is-mad-depressing"}');
INSERT INTO content_metadata VALUES('d6aad229-815a-4f95-8bbb-860e95df20e1','ac1cf200-a3fa-4dd3-99e8-4af4e2f5be4e','{"link":"https://seths.blog/2025/12/understanding-carriage/","title":"understanding-carriage"}');
INSERT INTO content_metadata VALUES('1e8d1800-91d5-4316-ae2f-4bda3c2e2755','7a813b27-31e1-47b4-ac4c-8feb11017cb1','{"link":"https://schpet.com/note/why-i-think-jj-vcs-is-worth-your-time","title":"why i think jj-vcs is worth your time"}');
INSERT INTO content_metadata VALUES('b78373da-e9b9-44ef-a5af-4af96ed54f48','23f1b685-cd75-420b-9ad6-259a04a85c8b','{"link":"https://karpathy.bearblog.dev/auto-grade-hn/","title":"auto-grade-hn"}');
INSERT INTO content_metadata VALUES('4e8a35bf-fbc5-4b03-b3e2-c4a6fd2002cb','21f9d963-c713-4210-a66f-5043fe12596c','{"link":"https://htmhell.dev/adventcalendar/2025/11/","title":"202511 How HTML changes in ePub"}');
INSERT INTO content_metadata VALUES('9dc772d6-5bde-45b3-bac5-ef4a1f6aad26','952e95cf-e95b-415a-bb25-75ffed874aff','{"link":"https://lorn.us/posts/a-letter-from-my-grandfather/"}');
INSERT INTO content_metadata VALUES('f6bee20b-a389-492e-8085-7db9f56ba9a7','024f425e-8ca6-44d0-b795-3062d38e0122','{"link":"https://togelius.blogspot.com/2025/12/please-dont-automate-science.html"}');
INSERT INTO content_metadata VALUES('a5242af3-4b00-4447-b1c9-6ee96de2f69e','32c01d90-9cf2-44a3-a99f-90245b2a3a9e','{"link":"https://www.dbpro.app/advent-of-sql","title":"Advent of SQL 2025 | DB Pro","description":"24 days of SQL challenges. Test your SQL skills with festive puzzles!"}');
INSERT INTO content_metadata VALUES('d9a545aa-8aa9-4066-a781-63158d9bc7ec','0ea6fcf9-0f07-4ccd-824e-501b0ea4677f','{"link":"https://lwn.net/SubscriberLink/1047238/25c270b077849dc0/","title":"Frozen dictonary in Python"}');
INSERT INTO content_metadata VALUES('4335ee47-8f7e-4706-94d1-96b6f836e9d4','e850903c-0232-4316-bc82-325d3ac91db4','{"link":"https://labs.leaningtech.com/blog/browserpod-beta-announcement","title":"BrowserPod: WebAssembly in-browser code sandboxes for Node, Python, and Rails","description":"BrowserPod Beta is live: zero latency in-browser code sandboxes in WebAssembly for Node, Python and Rails."}');
INSERT INTO content_metadata VALUES('fda93872-1940-4393-a77a-48a965597dc4','60916411-8041-4272-8014-f2a8c18e9658','{"link":"https://writethatblog.substack.com/p/why-write-engineering-blogs","title":"why-write-engineering-blogs"}');
INSERT INTO content_metadata VALUES('286d2308-4151-4479-a889-45161c5f03a8','e9798b2a-d5a0-49ae-9bb9-9d89751b989a','{"link":"https://rapha.land/craft-software-that-makes-people-feel-something/","title":"Craft software that makes people feel something - Raphael Amorim","description":"Recently, people have been asking me why I’m pausing Boo to work on a programming language. I think it would actually be cool to write down how I feel."}');
INSERT INTO content_metadata VALUES('e12c11d4-eabe-4dec-ba72-c67a96cafdb8','1036b44d-159c-43d4-9145-8f374d679423','{"link":"https://andymatuschak.org/hmwl/","title":"How we might learn"}');
INSERT INTO content_metadata VALUES('dbeeecc4-7906-47c6-8ced-d75081a6d5e8','eb81c38d-0ab7-4996-a612-364ae88efd1d','{"link":"https://www.newyorker.com/news/fault-lines/if-you-quit-social-media-will-you-read-more-books","title":"if-you-quit-social-media-will-you-read-more-books"}');
INSERT INTO content_metadata VALUES('53f00d7c-07a8-4964-bb99-ad8bfd73a250','1abd7018-1e01-4538-ba0b-55bbc389b256','{"link":"https://badshah.io/what-can-go-wrong-went-wrong/","title":"How ''What Can Go Wrong?'' Went Wrong"}');
INSERT INTO content_metadata VALUES('ccfe5f60-2a37-4af5-9822-b593acfaedab','1e6f81e1-db37-4eef-9d7e-a50573397047','{"link":"https://www.confluent.io/blog/exactly-once-semantics-are-possible-heres-how-apache-kafka-does-it/","title":"exactly-once-semantics-are-possible-heres-how-apache-kafka-does-it"}');
INSERT INTO content_metadata VALUES('773f9be6-3d10-4a77-b413-a250803135c0','fc7ae055-7cd2-4ab4-89aa-49bc1c2a3869','{"link":"https://selfh.st/post/2025-favorite-new-apps/","title":"2025-favorite-new-apps"}');
INSERT INTO content_metadata VALUES('1e71f273-3bbe-4c47-9b6e-8a63246f0bf5','e7574420-d3a1-4b87-bb14-9de725d66795','{"series":"Advent of SQL 2025"}');
INSERT INTO content_metadata VALUES('94c9c78b-b71c-49fb-8b65-cad808204af3','44a8bc70-8542-4a9c-b4cb-2d738510f1a2','{"link":"https://neilthanedar.com/youre-not-burnt-out-youre-existentially-starving/"}');
INSERT INTO content_metadata VALUES('e8980d7a-3815-4267-b25a-113639bcb756','e41a004d-7e95-4a5e-a76f-be956226345a','{"link":"https://www.mooreds.com/wordpress/archives/3722","title":"What New Developers Need to Know About Working with AI"}');
INSERT INTO content_metadata VALUES('24e57fb2-a5ca-48a8-9a68-bebe575ab811','5811ddb3-7145-4a88-9c96-32629c1332cf','{"link":"https://boundaryml.com/blog/structured-outputs-create-false-confidence","title":"Structured Outputs Create False Confidence","description":"Constrained decoding seems like the greatest thing since sliced bread, but it often forces models to prioritize output conformance over output quality."}');
INSERT INTO content_metadata VALUES('b4fcbae8-b8f6-47a9-8a76-4ce4ccddc46f','b8853d3d-661f-4203-921b-3f74eb7e1f96','{"link":"https://bytesauna.com/post/creativity"}');
INSERT INTO content_metadata VALUES('0238186b-e73d-442f-b48b-43b933b8a98c','8549099c-c3b3-42df-a5c3-a2f112995176','{"link":"https://armeet.bearblog.dev/becoming-the-machine/","title":"becoming-the-machine"}');
INSERT INTO content_metadata VALUES('12eb5177-32eb-4c31-913c-36d6f72a3bf6','f880ee1e-2327-4867-9e57-37112bb45cd2','{"link":"https://zhach.news/how-i-left-youtube/"}');
INSERT INTO content_metadata VALUES('94f6fb42-06b5-4d21-9a4d-6ebc44ccdd24','1464e18e-0c95-4b53-bf1d-18ead4853d67','{"link":"https://www.dbreunig.com/2025/12/27/why-i-write.html"}');
INSERT INTO content_metadata VALUES('24d70bba-d24f-4639-adc7-abec7ebdff7a','ec5a9465-9af3-4aa2-9ee4-f6968c4fe6b6','{"link":"https://www.joanwestenberg.com/the-case-for-blogging-in-the-ruins/"}');
CREATE TABLE IF NOT EXISTS tags (
  id TEXT PRIMARY KEY,
  name TEXT NOT NULL UNIQUE,
  slug TEXT NOT NULL UNIQUE
);
INSERT INTO tags VALUES('31a51b98-4e0e-452a-a984-31f94e167538','ocr','ocr');
INSERT INTO tags VALUES('14e6b413-529f-4ad1-8c04-2a20ff6ca3f5','vibe coding','vibe-coding');
INSERT INTO tags VALUES('bee60645-e4ad-43b4-8d09-d3f577568965','c','c');
INSERT INTO tags VALUES('4fe563d2-4c1b-4508-a3ab-2a1334dc1b25','assembly','assembly');
INSERT INTO tags VALUES('ed3cad4e-e3ee-4f45-996c-395c5ce58075','youtube','youtube');
INSERT INTO tags VALUES('fc353e04-0d13-4a05-a110-9c0b265ae89c','software','software');
INSERT INTO tags VALUES('df33a029-019a-4f93-af65-307ddb583e98','theo','theo');
INSERT INTO tags VALUES('7bd6ab0d-edec-48fb-892e-35d9567a5250','t3chat','t3chat');
INSERT INTO tags VALUES('9164610b-da95-415c-a1ad-830db080c8ad','ai slop','ai-slop');
INSERT INTO tags VALUES('9308c33b-c1b1-4551-9f74-2e9d1a1714f7','languages','languages');
INSERT INTO tags VALUES('16088d52-f8c6-40a3-80e9-155a48418419','harry potter','harry-potter');
INSERT INTO tags VALUES('2d469a87-7b04-43d1-8f3d-267ee58524c9','ai','ai');
INSERT INTO tags VALUES('6d1b8611-82dd-4cca-9fb1-b8a55ef1f9c1','tom riddle','tom-riddle');
INSERT INTO tags VALUES('ea52d2ab-f04b-4d97-82d3-a5d6bcac5482','diary','diary');
INSERT INTO tags VALUES('e7f02e12-1d2b-4336-a2fc-fee51ab17e0e','llms','llms');
INSERT INTO tags VALUES('a3705bb1-c26b-4cc5-a4ec-00f3a6feaaaa','thinking','thinking');
INSERT INTO tags VALUES('a1d775de-69a4-4243-87ea-9695e2a31ece','brain','brain');
INSERT INTO tags VALUES('e922927e-d0ed-49ea-bb06-729e2867f28f','tech','tech');
INSERT INTO tags VALUES('d7b3b5fe-896a-4350-b245-4ed1dc86c975','sqlog','sqlog');
INSERT INTO tags VALUES('e08e11fb-63da-45ec-b7af-96d3dcec333c','sqlite','sqlite');
INSERT INTO tags VALUES('6f729de5-cc77-4aa4-9894-87620e5a9fcf','advent of sql','advent-of-sql');
INSERT INTO tags VALUES('60094913-e3da-41e7-8e68-412f0adc358b','sql','sql');
INSERT INTO tags VALUES('f15cfd55-722e-46a3-a6ea-b0711004f86d','blog','blog');
CREATE TABLE IF NOT EXISTS content_tags (
  id TEXT PRIMARY KEY,
  content_id TEXT NOT NULL,
  tag_id TEXT NOT NULL,
  FOREIGN KEY(content_id) REFERENCES content(id) ON DELETE CASCADE,
  FOREIGN KEY(tag_id) REFERENCES tags(id),
  UNIQUE(content_id, tag_id)
);
INSERT INTO content_tags VALUES('cf24b4ee-bf4a-4056-b27b-8e9731471c3c','3faedfa7-6f26-4e24-bb91-1b0160ddf582','31a51b98-4e0e-452a-a984-31f94e167538');
INSERT INTO content_tags VALUES('12bbd032-e907-46f8-9903-95fd3a99aedb','dac23f8c-477c-47ae-8c02-4f900935994f','14e6b413-529f-4ad1-8c04-2a20ff6ca3f5');
INSERT INTO content_tags VALUES('4e20b90d-0a67-4a8d-8b5d-42522c987cce','dac23f8c-477c-47ae-8c02-4f900935994f','bee60645-e4ad-43b4-8d09-d3f577568965');
INSERT INTO content_tags VALUES('f81aaa28-c4ba-4eaf-9d0c-f8e2424e201e','dac23f8c-477c-47ae-8c02-4f900935994f','4fe563d2-4c1b-4508-a3ab-2a1334dc1b25');
INSERT INTO content_tags VALUES('f08cd19f-fa07-4d62-83c3-7f5c342ef562','094a681c-42a6-42fd-9655-76acc97eb829','ed3cad4e-e3ee-4f45-996c-395c5ce58075');
INSERT INTO content_tags VALUES('d2aca471-a146-45d1-9017-c47e619abf70','094a681c-42a6-42fd-9655-76acc97eb829','fc353e04-0d13-4a05-a110-9c0b265ae89c');
INSERT INTO content_tags VALUES('54d93d6a-97c7-4f04-bf90-d9717fd484ee','094a681c-42a6-42fd-9655-76acc97eb829','df33a029-019a-4f93-af65-307ddb583e98');
INSERT INTO content_tags VALUES('d359d2ab-9392-4c63-91c8-e940678a6a1c','094a681c-42a6-42fd-9655-76acc97eb829','7bd6ab0d-edec-48fb-892e-35d9567a5250');
INSERT INTO content_tags VALUES('da26a84a-d1e8-43f7-9e8f-2b312b567e58','094a681c-42a6-42fd-9655-76acc97eb829','9164610b-da95-415c-a1ad-830db080c8ad');
INSERT INTO content_tags VALUES('24be04ac-6f61-49c4-802d-c9b21c195cc3','094a681c-42a6-42fd-9655-76acc97eb829','9308c33b-c1b1-4551-9f74-2e9d1a1714f7');
INSERT INTO content_tags VALUES('49982ef4-978b-4b1e-9c77-d7f10b462708','938d2ec8-60ec-454d-b13e-429e10d67d38','16088d52-f8c6-40a3-80e9-155a48418419');
INSERT INTO content_tags VALUES('05f8f574-3aa6-443f-8d79-6551927158c5','938d2ec8-60ec-454d-b13e-429e10d67d38','2d469a87-7b04-43d1-8f3d-267ee58524c9');
INSERT INTO content_tags VALUES('d5e70a5e-ad70-44ce-9be8-03cb5b6f0121','938d2ec8-60ec-454d-b13e-429e10d67d38','6d1b8611-82dd-4cca-9fb1-b8a55ef1f9c1');
INSERT INTO content_tags VALUES('8c937d56-3f27-4dee-a9e9-5b3bb10cf5c9','938d2ec8-60ec-454d-b13e-429e10d67d38','ea52d2ab-f04b-4d97-82d3-a5d6bcac5482');
INSERT INTO content_tags VALUES('84da195b-9612-4743-978a-4c8a2686ef6e','938d2ec8-60ec-454d-b13e-429e10d67d38','e7f02e12-1d2b-4336-a2fc-fee51ab17e0e');
INSERT INTO content_tags VALUES('9099bf77-5f0f-42c2-95f8-6a2001da2d5c','938d2ec8-60ec-454d-b13e-429e10d67d38','a3705bb1-c26b-4cc5-a4ec-00f3a6feaaaa');
INSERT INTO content_tags VALUES('c1fa91e9-a2d3-45c2-bcce-5ff907c13f59','938d2ec8-60ec-454d-b13e-429e10d67d38','a1d775de-69a4-4243-87ea-9695e2a31ece');
INSERT INTO content_tags VALUES('f681ca4f-d431-4398-8c5f-05498faa206c','e7574420-d3a1-4b87-bb14-9de725d66795','e922927e-d0ed-49ea-bb06-729e2867f28f');
INSERT INTO content_tags VALUES('7989f559-1c8f-48e8-a753-71803cd9efc0','e7574420-d3a1-4b87-bb14-9de725d66795','60094913-e3da-41e7-8e68-412f0adc358b');
INSERT INTO content_tags VALUES('26fafdc6-d890-4e6c-b75a-1f65b7e8534c','e7574420-d3a1-4b87-bb14-9de725d66795','6f729de5-cc77-4aa4-9894-87620e5a9fcf');
INSERT INTO content_tags VALUES('275608a5-a21d-4f9b-9163-5895056786a8','e7574420-d3a1-4b87-bb14-9de725d66795','d7b3b5fe-896a-4350-b245-4ed1dc86c975');
INSERT INTO content_tags VALUES('a8ff24d1-8762-4cc3-8672-5198a25099f7','e7574420-d3a1-4b87-bb14-9de725d66795','e08e11fb-63da-45ec-b7af-96d3dcec333c');
INSERT INTO content_tags VALUES('905e655f-7f8f-4e37-9c88-8d6a7b2c740a','44a8bc70-8542-4a9c-b4cb-2d738510f1a2','f15cfd55-722e-46a3-a6ea-b0711004f86d');
INSERT INTO content_tags VALUES('cf76f593-8ebf-4983-9ed6-df3c6681b0ac','e41a004d-7e95-4a5e-a76f-be956226345a','e922927e-d0ed-49ea-bb06-729e2867f28f');
INSERT INTO content_tags VALUES('2497ba1e-30c4-4047-9ad2-128a7fa4b523','5811ddb3-7145-4a88-9c96-32629c1332cf','e922927e-d0ed-49ea-bb06-729e2867f28f');
INSERT INTO content_tags VALUES('b54fce3d-c894-438c-9819-7bf9502156e1','b8853d3d-661f-4203-921b-3f74eb7e1f96','f15cfd55-722e-46a3-a6ea-b0711004f86d');
INSERT INTO content_tags VALUES('5da10087-525a-4337-835d-9b61498e1851','1464e18e-0c95-4b53-bf1d-18ead4853d67','e922927e-d0ed-49ea-bb06-729e2867f28f');
INSERT INTO content_tags VALUES('d37e5a95-54ae-4384-bf4d-0afd87f73d25','1464e18e-0c95-4b53-bf1d-18ead4853d67','f15cfd55-722e-46a3-a6ea-b0711004f86d');
CREATE TABLE IF NOT EXISTS drafts (
  id TEXT PRIMARY KEY,
  type_id TEXT NOT NULL,
  title TEXT,
  content TEXT,
  metadata TEXT, -- JSON
  created_at INTEGER NOT NULL,
  updated_at INTEGER NOT NULL,
  FOREIGN KEY(type_id) REFERENCES content_types(id)
);
INSERT INTO drafts VALUES('999b48e8-4268-45a6-ae6d-a14e83ceb513','link','Untitled','<p>Nice way to introduce tests in Golang</p>','{"link":"https://quii.gitbook.io/learn-go-with-tests/go-fundamentals/hello-world"}',1765213726085,1765213726085);
INSERT INTO drafts VALUES('06424d8f-9739-4bc2-9c49-a4dcd0f7f942','link','llm-text-as-image-tokens','<p>It is a interesting concept as deepseek and other vllm and parsers have tried to take over OCR.</p>','{"link":"https://pagewatch.ai/blog/post/llm-text-as-image-tokens/","title":"llm-text-as-image-tokens"}',1765214224298,1765214224298);
INSERT INTO drafts VALUES('306ef65f-5b62-4b36-becd-84984fb4f3f4','post','My Personal Curriculum','<h2>Interests</h2><ul><li><p>Tech</p><ul><li><p>SQL</p></li><li><p>LLMs</p></li><li><p>APIs</p></li><li><p>Database Internals</p></li></ul></li><li><p>Writing fiction</p><ul><li><p>Fantasy worlds</p></li><li><p>Travelogues</p></li><li><p>Adventrues</p></li><li><p>Childhood memories</p></li></ul></li><li><p>Reading fiction</p><ul><li><p>Harry Potter</p></li><li><p>Cafe books</p></li><li><p>Cosmere novels</p></li></ul></li><li><p></p></li></ul><p></p>','{}',1765276121230,1765276121230);
INSERT INTO drafts VALUES('c09e7f4f-b7f9-4e19-bbcc-c160735cde20','microblog','Untitled','<h2>December 8-12 Links</h2><h3>9th December</h3><ul><li><p><a target="_blank" rel="noopener noreferrer nofollow" href="https://danielmiessler.com/blog/the-real-bubble-is-human-labor">https://danielmiessler.com/blog/the-real-bubble-is-human-labor</a></p></li><li><p><a target="_blank" rel="noopener noreferrer nofollow" href="https://www.stefanjudis.com/notes/when-ai-will-browse-the-web-for-me/">https://www.stefanjudis.com/notes/when-ai-will-browse-the-web-for-me/</a></p></li><li><p><a target="_blank" rel="noopener noreferrer nofollow" href="https://werd.io/why-rss-matters/">https://werd.io/why-rss-matters/</a></p></li><li><p><a target="_blank" rel="noopener noreferrer nofollow" href="https://feeding.cloud.geek.nz/posts/learning-new-programming-language-with-ai/">https://feeding.cloud.geek.nz/posts/learning-new-programming-language-with-ai/</a></p></li><li><p><a target="_blank" rel="noopener noreferrer nofollow" href="https://github.com/alltheplaces/alltheplaces">https://github.com/alltheplaces/alltheplaces</a></p></li><li><p><a target="_blank" rel="noopener noreferrer nofollow" href="https://chisophugis.github.io/2025/12/08/compiler-engineering-in-practice-part-1-what-is-a-compiler.html">https://chisophugis.github.io/2025/12/08/compiler-engineering-in-practice-part-1-what-is-a-compiler.html</a></p></li><li><p><a target="_blank" rel="noopener noreferrer nofollow" href="https://www.lesswrong.com/posts/Q9ewXs8pQSAX5vL7H/ai-in-2025-gestalt">https://www.lesswrong.com/posts/Q9ewXs8pQSAX5vL7H/ai-in-2025-gestalt</a></p></li><li><p><a target="_blank" rel="noopener noreferrer nofollow" href="https://flowsql.com/">https://flowsql.com/</a></p></li></ul><p></p><p>10th December</p><ul><li><p><a target="_blank" rel="noopener noreferrer nofollow" href="https://packet.school/lesson/level1-lesson1">https://packet.school/lesson/level1-lesson1</a></p></li><li><p><a target="_blank" rel="noopener noreferrer nofollow" href="https://james.brooks.page/blog/getting-into-public-speaking">https://james.brooks.page/blog/getting-into-public-speaking</a></p></li><li><p><a target="_blank" rel="noopener noreferrer nofollow" href="https://natashajaffe.substack.com/p/in-your-first-two-weeks-on-a-new">https://natashajaffe.substack.com/p/in-your-first-two-weeks-on-a-new</a></p></li><li><p><a target="_blank" rel="noopener noreferrer nofollow" href="https://eblog.fly.dev/ginbad.html">https://eblog.fly.dev/ginbad.html</a></p></li><li><p><a target="_blank" rel="noopener noreferrer nofollow" href="https://adamj.eu/tech/2025/12/03/django-whats-new-6.0/">https://adamj.eu/tech/2025/12/03/django-whats-new-6.0/</a></p></li><li><p><a target="_blank" rel="noopener noreferrer nofollow" href="https://learn-haskell.blog/03-html_printer.html">https://learn-haskell.blog/03-html_printer.html</a></p></li></ul><p></p><p></p><p>12th December</p><ul><li><p><a target="_blank" rel="noopener noreferrer nofollow" href="https://recordcrash.substack.com/p/how-to-identify-ai-written-web-fiction">https://recordcrash.substack.com/p/how-to-identify-ai-written-web-fiction</a></p></li><li><p><a target="_blank" rel="noopener noreferrer nofollow" href="https://obie.medium.com/what-happens-when-the-coding-becomes-the-least-interesting-part-of-the-work-ab10c213c660">https://obie.medium.com/what-happens-when-the-coding-becomes-the-least-interesting-part-of-the-work-ab10c213c660</a></p></li><li><p><a target="_blank" rel="noopener noreferrer nofollow" href="https://steiblys.com/articles/own-your-data">https://steiblys.com/articles/own-your-data</a></p></li><li><p><a target="_blank" rel="noopener noreferrer nofollow" href="https://www.nilkanth.com/when-you-dont-create-things/">https://www.nilkanth.com/when-you-dont-create-things/</a></p></li><li><p><a target="_blank" rel="noopener noreferrer nofollow" href="https://text.npr.org/792439555">https://text.npr.org/792439555</a></p></li><li><p><a target="_blank" rel="noopener noreferrer nofollow" href="https://boringsql.com/posts/vacuum-is-lie/">https://boringsql.com/posts/vacuum-is-lie/</a></p></li><li><p><a target="_blank" rel="noopener noreferrer nofollow" href="https://solmaz.io/agentic-coding-tools-message-queueing">https://solmaz.io/agentic-coding-tools-message-queueing</a></p></li><li><p><a target="_blank" rel="noopener noreferrer nofollow" href="https://larr.net/p/namings.html">https://larr.net/p/namings.html</a></p></li><li><p><a target="_blank" rel="noopener noreferrer nofollow" href="https://jon.recoil.org/blog/2025/12/an-svg-is-all-you-need.html">https://jon.recoil.org/blog/2025/12/an-svg-is-all-you-need.html</a></p></li><li><p><a target="_blank" rel="noopener noreferrer nofollow" href="https://fly.io/blog/litestream-vfs/">https://fly.io/blog/litestream-vfs/</a></p></li><li><p><a target="_blank" rel="noopener noreferrer nofollow" href="https://lichess.org/@/RuyLopez1000/blog/how-geometry-is-fundamental-for-chess/h31wwhUX">https://lichess.org/@/RuyLopez1000/blog/how-geometry-is-fundamental-for-chess/h31wwhUX</a></p></li><li><p><a target="_blank" rel="noopener noreferrer nofollow" href="https://lecaro.me/20251203-maybe-we-do-not-need-a-server.html">https://lecaro.me/20251203-maybe-we-do-not-need-a-server.html</a></p></li><li><p><a target="_blank" rel="noopener noreferrer nofollow" href="https://www.benjoffe.com/fast-date">https://www.benjoffe.com/fast-date</a></p></li><li><p><a target="_blank" rel="noopener noreferrer nofollow" href="https://www.youtube.com/watch?v=1JHOY0zqNBY">https://www.youtube.com/watch?v=1JHOY0zqNBY</a></p></li><li><p><a target="_blank" rel="noopener noreferrer nofollow" href="https://www.mariasolos.com/posts/my-code-editor/">https://www.mariasolos.com/posts/my-code-editor/</a></p></li><li><p><a target="_blank" rel="noopener noreferrer nofollow" href="https://codestyleandtaste.com/my-favorite-principle.html">https://codestyleandtaste.com/my-favorite-principle.html</a></p></li><li><p><a target="_blank" rel="noopener noreferrer nofollow" href="https://worktrunk.dev/worktrunk/">https://worktrunk.dev/worktrunk/</a></p></li><li><p><a target="_blank" rel="noopener noreferrer nofollow" href="https://www.thepythoncodingstack.com/p/my-life-the-autobiography-of-a-python-object">https://www.thepythoncodingstack.com/p/my-life-the-autobiography-of-a-python-object</a></p></li><li><p><a target="_blank" rel="noopener noreferrer nofollow" href="https://github.com/PeterHdd/tiny-word2vec">https://github.com/PeterHdd/tiny-word2vec</a></p></li><li><p><a target="_blank" rel="noopener noreferrer nofollow" href="https://github.com/piyushjajoo/k8s-operators-course">https://github.com/piyushjajoo/k8s-operators-course</a></p></li><li><p><a target="_blank" rel="noopener noreferrer nofollow" href="https://www.centauri-dreams.org/2025/12/11/a-tatooine-planet-directly-imaged/">https://www.centauri-dreams.org/2025/12/11/a-tatooine-planet-directly-imaged/</a></p></li><li><p><a target="_blank" rel="noopener noreferrer nofollow" href="https://notcoding.today/blog/blind-faith">https://notcoding.today/blog/blind-faith</a></p></li><li><p><a target="_blank" rel="noopener noreferrer nofollow" href="https://www.letta.com/blog/continual-learning">https://www.letta.com/blog/continual-learning</a></p></li><li><p><a target="_blank" rel="noopener noreferrer nofollow" href="https://rutar.org/writing/how-to-build-a-personal-webpage-from-scratch/">https://rutar.org/writing/how-to-build-a-personal-webpage-from-scratch/</a></p></li><li><p><a target="_blank" rel="noopener noreferrer nofollow" href="https://terriblesoftware.org/2025/12/11/ai-can-write-your-code-it-cant-do-your-job/">https://terriblesoftware.org/2025/12/11/ai-can-write-your-code-it-cant-do-your-job/</a></p></li><li><p><a target="_blank" rel="noopener noreferrer nofollow" href="https://evanhahn.com/pyodide-relative-imports/">https://evanhahn.com/pyodide-relative-imports/</a></p></li><li><p><a target="_blank" rel="noopener noreferrer nofollow" href="https://blog.tilderesearch.com/vignettes/regression">https://blog.tilderesearch.com/vignettes/regression</a></p></li><li><p><a target="_blank" rel="noopener noreferrer nofollow" href="https://www.openculture.com/2025/12/george-orwells-six-rules-for-writing.html">https://www.openculture.com/2025/12/george-orwells-six-rules-for-writing.html</a></p></li><li><p><a target="_blank" rel="noopener noreferrer nofollow" href="https://microsoft.ai/news/its-about-time-the-copilot-usage-report-2025/">https://microsoft.ai/news/its-about-time-the-copilot-usage-report-2025/</a></p></li><li><p><a target="_blank" rel="noopener noreferrer nofollow" href="https://blog.the-ebook-reader.com/2025/12/11/drm-free-kindle-ebooks-will-be-downloadable-in-epub-and-pdf-formats-soon/">https://blog.the-ebook-reader.com/2025/12/11/drm-free-kindle-ebooks-will-be-downloadable-in-epub-and-pdf-formats-soon/</a></p></li><li><p><a target="_blank" rel="noopener noreferrer nofollow" href="https://togetherlondon.com/insights/should-your-tech-team-learn-comms-skills">https://togetherlondon.com/insights/should-your-tech-team-learn-comms-skills</a></p></li><li><p><a target="_blank" rel="noopener noreferrer nofollow" href="https://www.futilitycloset.com/2025/11/29/queries/">https://www.futilitycloset.com/2025/11/29/queries/</a></p></li><li><p><a target="_blank" rel="noopener noreferrer nofollow" href="https://amit.prasad.me/blog/sorted-data">https://amit.prasad.me/blog/sorted-data</a></p></li><li><p><a target="_blank" rel="noopener noreferrer nofollow" href="https://lucassifoni.info/blog/miniscope-tiny-telescope/">https://lucassifoni.info/blog/miniscope-tiny-telescope/</a></p></li><li><p><a target="_blank" rel="noopener noreferrer nofollow" href="https://www.michaelshoe.com/how-my-small-personal-blog-hit-100k-impressions-and-the-strange-posts-that-made-it-happen/">https://www.michaelshoe.com/how-my-small-personal-blog-hit-100k-impressions-and-the-strange-posts-that-made-it-happen/</a></p></li><li><p><a target="_blank" rel="noopener noreferrer nofollow" href="https://medium.com/luminasticity/the-hallway-of-the-mountain-king-3b676c31ce9e">https://medium.com/luminasticity/the-hallway-of-the-mountain-king-3b676c31ce9e</a></p></li><li><p><a target="_blank" rel="noopener noreferrer nofollow" href="https://jottings.me/">https://jottings.me/</a></p></li><li><p><a target="_blank" rel="noopener noreferrer nofollow" href="https://github.com/tigillo/githubmodels-go">https://github.com/tigillo/githubmodels-go</a></p></li><li><p></p></li></ul><p></p>','{"links":[]}',1765295201934,1765542049172);
INSERT INTO drafts VALUES('043f28a4-c050-421e-b690-19ce669b60b1','post','SQLite SQL: Create Table STRICT ',replace('<p>We have seen how to create <code>TABLE</code> loosely Not adhering to the types. Because if we create a table with column name of type text, and insert a integer, it will happily store it as text. It is very flexible as we saw. So, in such <code>CREATE TABLE</code> statement in SQLite, without the <code>STRICT</code> constraint, the types don''t matter.</p><p></p><p>If you created a table with column type as <code>XYZ</code> it will accept it, because it really doesn''t see that. It will see the data coming in from the insert statement and store it whatever it thinks is the best one for that piece of data. Look at the below example:</p><p></p><pre><code>CREATE TABLE t1 (n xyz);\nINSERT INTO t1 values(4);\nINSERT INTO t1 values("gg");\nSELECT rowid, n, typeof(n) FROM t1;</code></pre><p></p><pre><code>rowid	n	typeof(n)\n1	    4	integer\n2	   gg	text\n</code></pre><p>See? The column type, it doesn''t matter.</p><p>Unless it''s strict or any constraints, or generated conditions have been added.</p><h2>The STRICT table option</h2><p>Let''s quote from the documentation what it means</p><blockquote><ul><li><p>Every column definition must specify a datatype for that column.</p></li><li><p>The freedom to specify a column without a datatype is removed.</p></li><li><p>The datatype must be one of the following:</p><ul><li><p>INT</p></li><li><p>INTEGER</p></li><li><p>REAL</p></li><li><p>TEXT</p></li><li><p>BLOB</p></li><li><p>ANY</p></li></ul></li><li><p>The <a target="_blank" rel="noopener noreferrer nofollow" href="https://sqlite.org/pragma.html#pragma_integrity_check">PRAGMA integrity_check</a> and <a target="_blank" rel="noopener noreferrer nofollow" href="https://sqlite.org/pragma.html#pragma_quick_check">PRAGMA quick_check</a> commands check the type of the content of all columns in STRICT tables and show errors if anything is amiss.</p></li></ul></blockquote><p>There are other nuances of the STRICT table options and the kind of constraint that you put on the columns, but that requires studying very specific examples. We''ll check those nuances later.</p><p>For now though, we need to understand how to create a strictly typed table, and what the strict option adds to the table.</p><pre><code>CREATE TABLE users(\n    name TEXT,\n    age  INT,\n    credits REAL,\n    profile_pic BLOB\n) STRICT;</code></pre><p>So, we have all the actual possible types we can use in a table column when defining a table. If you don''t provide an column type, or provide any other type than <code>TEXT</code>, <code>INT</code> or <code>INTEGER</code>, <code>REAL</code>, <code>BLOB</code>, or <code>ANY</code> (don''t put any, you lose the purpose of strict) it won''t compile and execute the table creation. You need to provide a valid type among the 5 types.</p><p>However if you try to create a strict table with wrong column type or no column type.</p><pre><code>CREATE TABLE t1 (t) STRICT;\n-- Error: missing datatype for t1.t\n\nCREATE TABLE t1 (t something) STRICT;\n-- Error: unknown datatype for t1.t: "something"</code></pre><p></p><p>Without STRICT it works as usual:</p><pre><code>CREATE TABLE t1 (t  something);\nINSERT INTO t1 values(123), (''abc''), (X''''), (123.45);\nSELECT t, typeof(t) FROM t1;</code></pre><p></p><pre><code>t	typeof(t)\n123	integer\nabc	text\n    blob\n123.45	real</code></pre><p></p><p>Now back to the original example:</p><p>Insert a couple of rows:</p><pre><code class="language-sql">-- All are NULL Values\nINSERT INTO users DEFAULT VALUES;\n\nINSERT INTO users (name, age, credits, profile_pic)\nVALUES (\n    ''Alice'',\n    30,\n    100.0,\n    X''89504E470D0A1A0A''\n);</code></pre><p></p><p>This will insert two rows, the first one, all the columns will be <code>NULL</code> . If you look at the type of these statement. Those will be as per the table schema, consistent for all rows.</p><pre><code>name	typeof(name)	age	typeof(age)	credits	typeof(credits)	profile_pic	typeof(profile_pic)\nnull		null		null		null\nAlice	text	30	integer	100	real	137,80,78,71,13,10,26,10	blob\n</code></pre><p>This has rightly added <code>NULL</code> type for the null values but when the data is in the row, it forces that type stated in the schema of the table.</p><p></p><p>Now, if we try to mess up the column data, it won''t work</p><pre><code class="language-sql">INSERT INTO users (name, age, credits, profile_pic)\nVALUES (34, ''4'', 8, 123);\n-- Error: cannot store INT value in BLOB column users.profile_pic\n\n\nINSERT INTO users (name, age, credits, profile_pic)\nVALUES (34, ''4'', 8, '''');\n-- Error: cannot store TEXT value in BLOB column users.profile_pic\n\nINSERT INTO users (name, age, credits, profile_pic)\nVALUES (34, ''abc'', 8, X'''');\n-- Error: cannot store TEXT value in INT column users.age\n</code></pre><p></p><p>This will work, as type affinity and the conversion is possible within the column types here.</p><pre><code>INSERT INTO users (name, age, credits, profile_pic)\nVALUES (CAST(34 AS INT), ''3'', 8, X'''');</code></pre><p>But if some data is not able to convert into that strict type, it will fail the constraint of strict column type.</p><p>For instance</p><ul><li><p> <code>123</code> or <code>""</code> is not force convertible to BLOB which is binary large object. We need to parse it with X'''' strings for some raw data to make it a BLOB like object in SQLite.</p></li><li><p><code>abc</code>  is not convertible/casteble to INTEGER or REAL Value.</p></li></ul><p>So, the strict type is actually strict as we see the pattern repeating in SQLite.</p><blockquote><p>It is flexible till you allow it to be, you can at anytime change the lever and make it strict</p></blockquote><p>This is true for column-row level type checking with the STRICT table option while creating table. </p><h2></h2><p></p><p></p>','\n',char(10)),'{}',1765518128981,1765535007112);
INSERT INTO drafts VALUES('afdce01d-1d3c-4d79-b065-d84096cca670','post',' Weekly #72','<p></p><h2>Week #72</h2><p></p><h3>Quote of the week</h3><blockquote><p>"Never trust anything that can think for itself if you can''t see where it keeps its brain"</p><p>-- Mr. Arthur Weasley, Harry Potter and the Chambers of secret (Chapter 18)</p></blockquote><p>I don''t know how I picked it up. But it hit me right on. LLMs are like Tom Riddle''s diary, aren''t they? I feel so relatable here. Software developers like me are Ginny and they hallucinate us to do certain things in certain way and we follow it, like in a trance, and it makes the software collapse.</p><p></p><hr><p></p><h2>Read</h2><ol><li><p><a target="_blank" rel="noopener noreferrer nofollow" href="https://rapha.land/craft-software-that-makes-people-feel-something/">Craft Software that make people feel something</a></p><ol><li><p>So good. Just do it because there is a curiosity. Inspiration is also cool and need for software to make.<br>&gt; When programming becomes repetitive, the odds of you creating something that makes people go “wow” are reduced quite a bit. It isn’t a rule, of course. You need to be inspired to make inspiring software.</p></li><li><p>This is aspiration, the level of it is high here.<br>&gt; This is what I’m talking about: taking time to build something so that once people try it, they remember it for as long as they live.</p></li></ol></li><li><p><a target="_blank" rel="noopener noreferrer nofollow" href="https://stephenramsay.net/posts/vibe-coding.html">If you''re going to vibe code, why not do it in C or even Assembly</a></p><ol><li><p>Yeah! This is a valid point, If you are not caring about the code, why bother with the language. </p></li><li><p>Choose a language which computers can understand the best, x86 or even machine code, 1s and 0s. </p></li><li><p>Stephen says to create a VOPL vibe-oriented-programming-language which suits LLMs. Maybe this is what it will look it, who knows. </p></li><li><p> But the point is strong, if vibe coding is not caring about programming, why bother choosing tech stack and languages, just let it choose whichever it is familiar and good at just like a good''ol developer.</p></li></ol></li><li><p><a target="_blank" rel="noopener noreferrer nofollow" href="https://nikitph.medium.com/why-transformers-must-hallucinate-7c2a8fc3b3be">Why Transformers must hallucinate</a></p><ol><li><p>This is a spicy take. The points are valid</p><ol><li><p>Averaging is a critical mistake</p></li><li><p> They miss checking whether an answer exist or not</p></li><li><p> Always answers will guarantee hallucination</p></li><li><p>It should asses the question, then generate and not generate and then asses.</p></li></ol></li></ol></li><li><p><a target="_blank" rel="noopener noreferrer nofollow" href="https://togelius.blogspot.com/2025/12/please-dont-automate-science.html">Please don''t automate science</a></p><ol><li><p>Boy, it takes courage to speak this! Well spoken.<br>&gt; They are here because they love research and want to contribute to advancing human knowledge. If you take the human out of the loop, meaning that humans no longer have any role in scientific research, you''re depriving them of the activity they love and a key source of meaning in their lives. And we all want to do something meaningful. Why, I asked, do you want to take the opportunity to contribute to science away from us?</p></li><li><p>This hits it harder<br> &gt; Science automation is coming whether we want it or not, and we''d better get used to it. The train is coming, and we can get on it or stand in its way.<br>&gt; I think that is a remarkably cowardly argument.<br>&gt; It is up to us as a society to decide how we use the technology we develop. It''s not a train, it''s a truck, and we''d better grab the steering wheel.</p></li><li><p>There are bangers after bangers<br>&gt; Making human intellectual or creative work redundant is something we should avoid when we can, and we should absolutely avoid it if there are no equally meaningful new roles for humans to transition into.</p></li><li><p>I want to quote each and every paragraph it seems, this is so good, almost like it comes out of my mouth<br>&gt; You could further argue that working on cutting humans out of meaningful creative work such as scientific research is incredibly egoistic. You get the intellectual satisfaction of inventing new AI methods, but the next generation don''t get a chance to contribute. Why do you want to rob your children (academic and biological) of the chance to engage in the most meaningful activity in the world?</p></li><li><p>So true, I have been here when there was model after model releases in a week, i think in August-September. It was a wild month. I was overwhelmed, I didn''t get a chance to slow down. AI can do a lot of things, can produce a lot of things, and I cannot handle it at that pace. I need time to absorb, it makes productive, true, but it quickly overshoots the danger productive bar. The moment where you are too much productive that you lose track of every context in your head.</p></li></ol></li><li><p><a target="_blank" rel="noopener noreferrer nofollow" href="https://entropicthoughts.com/software-never-fails">Software never Fails</a></p><ol><li><p>It never fails. It does what it was intended to do. If the intended thing and the actual thing was different than that''s a developer problem and not the software''s. It did what was written as its not a magic wand that will do what you thought to do.</p></li></ol></li><li><p><a target="_blank" rel="noopener noreferrer nofollow" href="https://enombic.com/read-more-than-write">I read more than I write, do you?</a></p><ol><li><p>Yes, this is true for me too. Reading needs to be more or rather at certain point, balanced from writing.</p></li><li><p>You can''t just keep on reading and produce nothing. You will have to reflect on what you have consumed. This newsletter is exactly that. </p></li><li><p>After I got a full time job, I suddenly had a lot of time, I realized i needed to dump my learning somewhere and I was following Register Spill by Thorsten Ball and quickly felt the urge to log my reading and interesting things I find throughout the week. There were a lot of things, I took for granted, they got lost and most of the things didn''t stick. I started this and it helped me realize the ample amount of time I have to learn, explore and tinker on stuff. It was liberating. Hence writing the 72nd edition of this. Its fun.</p></li></ol></li><li><p><a target="_blank" rel="noopener noreferrer nofollow" href="https://law.gmnz.xyz/vibe-coding-is-mad-depressing/">Vibe Coding is made and depressing</a></p><ol><li><p>Sigh, The frustration is quite evident<br>&gt; I just feel sad with how AI has bastardized my profession, which I worked hard for the last 15 years. There is no best practices anymore, no proper process, no meaningful back and forth</p></li><li><p>I can even feel it with 5 years of coding, man has been doing it for 15 years! Humans gets too excited when they can produce code i think.</p></li></ol></li><li><p><a target="_blank" rel="noopener noreferrer nofollow" href="https://ankursethi.com/blog/gemini-api-key-frustration/">The Gemini API Key Frustration</a></p><ol><li><p>Yeah! have you set up Google products without opening and closing a bunch of tabs</p></li><li><p>Here you are in 2025. Wait a minute, was PaLM a thing? wasn''t google notes to be shut down?</p></li><li><p>What is happening, what is AI Studio, Vertex AI, Jules, Antigravity, Gemini CLI, Gemini models of course, dug sneaked into various products, geese. Google!</p></li></ol></li><li><p><a target="_blank" rel="noopener noreferrer nofollow" href="https://www.graphhopper.com/blog/2025/12/08/a-tsp-game-10-years-in-the-making-built-in-4-hours/">A TSP game I wanted for 10 years: built in 4 hours</a></p><ol><li><p>This is quite a good thing, I am not good at frontend, i let ai do it, i do what i am good at, writing backend. Really? need to see it carefully again.</p></li></ol></li><li><p><a target="_blank" rel="noopener noreferrer nofollow" href="https://www.pearprogramming.blog/programming/opinions/2025/11/11/why-rails-just-stayed-with-me/">Growing Software</a></p><ol><li><p>What a great analogy. Software is not architect a building but its growing a garden. You don''t have a layout already built, some parts are clear not all. Software is ever changing. You need to build something, observe and change constantly just like a gardener. Gardener doesn''t plant a bunch of plants and forgets, but rather it nurtures them, observes and then takes care of them.</p></li><li><p>Software is not something you build, its something you grow. Its a slow process.</p></li></ol></li><li><p><a target="_blank" rel="noopener noreferrer nofollow" href="https://htmhell.dev/adventcalendar/2025/11/">How HTML changes in EPUB</a></p><ol><li><p>This is quite intuitive. I didn''t knew epub is a collection of XHTML documents. Its quite obvious now.</p></li><li><p>Because e-book has to be scaled from each character, so it is xhtml or some variant of it. Zooming, Changing fonts, all happens at all levels or doesn''t look good. So that is the perfect use case for it.</p></li></ol></li></ol><p></p><h2>Created</h2><ul><li><p><a target="_blank" rel="noopener noreferrer nofollow" href="https://www.meetgor.com/sqlog/sqlite-create-strict-table/">SQLog: Create Strict Tables</a></p></li><li><p>Live streaming Advent of Code Day 1 and 2 in Golang</p></li><li><p>Youtube shorts on FreeCodeCamp Daily Challenges</p></li></ul><p></p><h2>Watched</h2><ul><li><p><a target="_blank" rel="noopener noreferrer nofollow" href="https://www.youtube.com/watch?v=FI5ba4RRE8U">Software is getting worse</a><br></p><ul><li><p>Yes, This is true, from I have not observed actively, but looks valid and intuitive</p><ul><li><p>We need these three ingredients for a good software</p><ul><li><p>Passion</p></li><li><p>Trying to solve a problem with care</p></li><li><p>Developers been funded or are self sustainable</p></li></ul></li></ul></li></ul><blockquote><p>As the software gets old it get big</p><p>As the software gets big, it gets worse</p></blockquote><p>These are not the things responsible for bad software (might be but not only)</p><ul><li><p>AI Slop</p></li><li><p>Not using Rust (or any not using a particular framework or language)</p></li><li><p>Its a Electron app (or using a particular framework or language)</p></li></ul></li><li><p></p></li></ul><h2>Learnt</h2><ul><li><p></p></li></ul><p></p><h2>Tech News</h2><ul><li><p></p></li></ul><p></p><hr><p></p><p></p><p></p>','{}',1765536317689,1765542096926);
INSERT INTO drafts VALUES('b1443ef4-940e-4a21-9306-ec6e62164a55','post','SQLog: Advent of SQL Day 2-Snowballs',replace('<p>Here we are on the day 2 of Advent of SQL</p><p>As I said in the previous day this is in SQLite so I won''t be doing it in the playground. So here is your SQLite playground :)</p><pre><code class="language-sql">SELECT 1;</code></pre><p></p><p>From now on no setup straight to the problem!</p><p>Let''s download the .sql file for today''s problem to see what data we are playing with.</p><pre><code class="language-sql">DROP TABLE IF EXISTS snowball_categories;\nDROP TABLE IF EXISTS snowball_inventory;\n\nCREATE TABLE snowball_categories (\n    id INT PRIMARY KEY,\n    official_category TEXT\n);\n\nCREATE TABLE snowball_inventory (\n    id INT PRIMARY KEY,\n    batch_id TEXT,\n    category_name TEXT,\n    quantity INT,\n    status TEXT\n);</code></pre><p></p><p>Well, neat and clean!</p><p>Straight pulling it in the sqlite shell.</p><pre><code>$ sqlite3 \nSQLite version 3.45.1 2024-01-30 16:01:20\nEnter ".help" for usage hints.\nConnected to a transient in-memory database.\nUse ".open FILENAME" to reopen on a persistent database.\nsqlite&gt; .read day2-inserts.sql\nsqlite&gt; .schema\nCREATE TABLE snowball_categories (\n    id INT PRIMARY KEY,\n    official_category TEXT\n);\nCREATE TABLE snowball_inventory (\n    id INT PRIMARY KEY,\n    batch_id TEXT,\n    category_name TEXT,\n    quantity INT,\n    status TEXT\n);\nsqlite&gt; \n</code></pre><p>Worked right off the bat.</p><p>Straight to problem now.</p><p></p><p>If you are working in the playground, do add this full code with inserts in order to get a sense of what the data looks like, note that this below statements is not all data, just sharing to get you a taste of the problem.</p><pre><code class="language-sql">DROP TABLE IF EXISTS snowball_categories;\nDROP TABLE IF EXISTS snowball_inventory;\n\nCREATE TABLE snowball_categories (\n    id INT PRIMARY KEY,\n    official_category TEXT\n);\n\nCREATE TABLE snowball_inventory (\n    id INT PRIMARY KEY,\n    batch_id TEXT,\n    category_name TEXT,\n    quantity INT,\n    status TEXT\n);\n\nINSERT INTO snowball_categories (id, official_category) VALUES\n    (1, ''frost-flight deluxe''),\n    (2, ''north ridge compact''),\n    (3, ''glacier sphere (xl)''),\n    (4, ''polar precision microball''),\n    (5, ''everfrost training round''),\n    (6, ''arctic blast premium'');\n\nINSERT INTO snowball_inventory (id, batch_id, category_name, quantity, status) VALUES\n    (1, ''BATCH-35443-J'', ''frost-flight deluxe'', 19, NULL),\n    (2, ''BATCH-59767-M'', ''frost-flight deluxe'', 41, ''incomplete''),\n    (3, ''BATCH-44795-B'', ''frost-flight deluxe'', 21, ''ready''),\n    (4, ''BATCH-23396-C'', ''north ridge compact'', 0, ''incomplete''),\n    (5, ''BATCH-88907-A'', ''frost-flight deluxe'', -2, ''incomplete''),\n    (6, ''BATCH-42662-D'', ''frost-flight deluxe'', 47, ''needs review''),\n    (7, ''BATCH-37460-V'', ''north ridge compact'', 43, ''ready''),\n    (8, ''BATCH-21395-S'', ''frost-flight deluxe'', -2, ''ready''),\n    (9, ''BATCH-36100-E'', ''frost-flight deluxe'', 46, ''ready''),\n    (10, ''BATCH-64987-H'', ''frost-flight deluxe'', 43, NULL),\n    (11, ''BATCH-57576-Z'', ''melty deluxe'', -5, ''ready''),\n    (12, ''BATCH-56025-U'', ''snowball v2'', 11, ''ready''),\n    (13, ''BATCH-86556-W'', ''snowball v2'', 12, ''ready''),\n    (14, ''BATCH-83385-N'', ''frost-flight deluxe'', 38, ''incomplete''),\n    (15, ''BATCH-85156-M'', ''prototype x-12'', 28, ''incomplete''),\n    (16, ''BATCH-82135-F'', ''north ridge compact'', 32, ''incomplete''),\n    (17, ''BATCH-10074-T'', ''frost-flight deluxe'', 49, ''needs review''),\n    (18, ''BATCH-22676-L'', ''frost-flight deluxe'', 16, ''incomplete''),\n    (19, ''BATCH-31174-R'', ''north ridge compact'', 33, ''incomplete''),\n    (20, ''BATCH-41385-B'', ''frost-flight deluxe'', 4, ''ready''),\n    (21, ''BATCH-50404-L'', ''frost-flight deluxe'', -4, ''needs review''),\n    (22, ''BATCH-92240-F'', ''north ridge compact'', 20, ''ready''),\n    (23, ''BATCH-29198-J'', ''beta test sphere'', 0, ''incomplete''),\n    (24, ''BATCH-64987-H'', ''glacier sphere (xl)'', 18, ''needs review''),\n    (25, ''BATCH-80008-A'', ''frost-flight deluxe'', 3, ''incomplete''),\n    (26, ''BATCH-88907-A'', ''polar precision microball'', 48, ''incomplete''),\n    (27, ''BATCH-55830-J'', ''north ridge compact'', 0, ''needs review''),\n    (28, ''BATCH-69470-A'', ''frost-flight deluxe'', -3, ''incomplete''),\n    (29, ''BATCH-46211-R'', ''frost-flight deluxe'', -3, ''ready''),\n    (30, ''BATCH-18675-G'', ''glacier sphere (xl)'', -1, ''ready'');</code></pre><p></p><h2>Problem</h2><p>Let''s check the challenge of day 2</p><blockquote><p>Using the <code>snowball_inventory</code> and <code>snowball_categories</code> tables, write a query that returns valid snowball categories with the count of valid snowballs per category. Your final table should have the columns <code>official_category</code> and <code>total_usable_snowballs</code>. Sort the output from fewest to most <code>total_usable_snowballs</code>.</p></blockquote><p>So, we have two tables:</p><ol><li><p>snowball categories</p></li><li><p>snowball inventory</p></li></ol><p></p><p>The snowball categories looks a quite a small table with just the category name and the id which is not really the data, the name is.</p><pre><code class="language-sql">SELECT * FROM snowball_categories;</code></pre><p>Just 6 entries with some names of the categories, the column is official categories.</p><pre><code class="language-sql">sqlite&gt; SELECT * FROM snowball_categories;\n+----+---------------------------+\n| id |     official_category     |\n+----+---------------------------+\n| 1  | frost-flight deluxe       |\n| 2  | north ridge compact       |\n| 3  | glacier sphere (xl)       |\n| 4  | polar precision microball |\n| 5  | everfrost training round  |\n| 6  | arctic blast premium      |\n+----+---------------------------+\nsqlite&gt; \n</code></pre><p></p><p>And the other table has oddles of data:</p><pre><code class="language-sql">SELECT * FROM snowball_inventory limit 10;</code></pre><p>So, we have quite a few columns,</p><ol><li><p>batch_id</p></li><li><p>category_name</p></li><li><p>quantity</p></li><li><p>status</p></li></ol><p>It has 200,000 rows, that''s quite a lot.</p><pre><code>sqlite&gt; SELECT count(*) FROM snowball_inventory;\n+----------+\n| count(*) |\n+----------+\n| 200000   |\n+----------+\n\nsqlite&gt; SELECT * FROM snowball_inventory limit 10;\n+----+---------------+---------------------+----------+--------------+\n| id |   batch_id    |    category_name    | quantity |    status    |\n+----+---------------+---------------------+----------+--------------+\n| 1  | BATCH-35443-J | frost-flight deluxe | 19       |              |\n| 2  | BATCH-59767-M | frost-flight deluxe | 41       | incomplete   |\n| 3  | BATCH-44795-B | frost-flight deluxe | 21       | ready        |\n| 4  | BATCH-23396-C | north ridge compact | 0        | incomplete   |\n| 5  | BATCH-88907-A | frost-flight deluxe | -2       | incomplete   |\n| 6  | BATCH-42662-D | frost-flight deluxe | 47       | needs review |\n| 7  | BATCH-37460-V | north ridge compact | 43       | ready        |\n| 8  | BATCH-21395-S | frost-flight deluxe | -2       | ready        |\n| 9  | BATCH-36100-E | frost-flight deluxe | 46       | ready        |\n| 10 | BATCH-64987-H | frost-flight deluxe | 43       |              |\n+----+---------------+---------------------+----------+--------------+\nsqlite&gt; </code></pre><p></p><p>What we have to do?</p><blockquote><p>return valid snowball categories with the count of valid snowballs per category</p></blockquote><p>That''s a mouthful. </p><p>The problem is trying to get at counting the number of inventory items per category I think.</p><p>Because there are quite less categories and tons of inventory records.</p><p>Also the <code>category_name</code> in the <code>snowball_inventory</code> table is not trustworthy. </p><blockquote><p>Santa hurried to the snowball storage board, but the situation only got stranger. Whole batches appeared twice. Some batches claimed they had negative snowballs (“a bookkeeping accident,” the elves muttered). Others had a quantity of zero but were still marked “Ready.” And many batches referenced categories that didn’t appear anywhere in the official Snowball Category Guide</p></blockquote><p></p><h2>Naive Approach</h2><p>The first approach I see is scan through all the inventory records and check if the category is in the <code>snowball_category</code> table and its quantity is positive or more than 0, also I wonder if the status needs to be checked as <code>ready</code>. </p><blockquote><p>“We need to know what we actually have left,” Santa said. “Not puddles. Not phantom batches. Real, usable, throw-ready snowballs.”</p></blockquote><p><strong>Real, throw-ready snowballs</strong></p><p>Let''s check how to do that with simple sub query.</p><pre><code class="language-sql">SELECT * FROM snowball_inventory\nWHERE\n   category_name IN (SELECT official_category FROM snowball_categories)\n   AND quantity &gt; 0\n   AND status == ''ready'';</code></pre><p>OK!</p><p>What we did? Simply selected all the data from <code>snowball_inventory</code> table,</p><p>in which the category name is matching either of the 6 categories in the <code>snowball_categories</code> table.</p><p>Also the quantity is positive and not zero, also the status is set to be <code>ready</code>.</p><p>This looks naive to me for using subquery because for each 200,000 records we will scan the <code>snowball_categories</code> . Ew!</p><p>Wait its done! We need the count of each category! We need to group by the <code>category_name</code></p><pre><code class="language-sql">SELECT * FROM snowball_inventory\nWHERE\n   category_name IN (SELECT official_category FROM snowball_categories)\n   AND quantity &gt; 0\n   AND status == ''ready''\nGROUP BY category_name;</code></pre><p></p><pre><code class="language-sql">sqlite&gt; SELECT * FROM snowball_inventory\nWHERE\n   category_name IN (SELECT official_category FROM snowball_categories)\n   AND quantity &gt; 0\n   AND status == ''ready''\nGROUP BY category_name;\n+-----+---------------+---------------------------+----------+--------+\n| id  |   batch_id    |       category_name       | quantity | status |\n+-----+---------------+---------------------------+----------+--------+\n| 240 | BATCH-55793-L | arctic blast premium      | 45       | ready  |\n| 163 | BATCH-75333-O | everfrost training round  | 23       | ready  |\n| 3   | BATCH-44795-B | frost-flight deluxe       | 21       | ready  |\n| 39  | BATCH-22704-V | glacier sphere (xl)       | 37       | ready  |\n| 7   | BATCH-37460-V | north ridge compact       | 43       | ready  |\n| 125 | BATCH-81987-E | polar precision microball | 47       | ready  |\n+-----+---------------+---------------------------+----------+--------+</code></pre><p></p><p>That sort of looks wired right? </p><p>Why?</p><p>Because what happens to the quantity? Is that summed? averaged, or what just happened to the batch_id?</p><p>No it takes one value out of the <code>200 000</code> rows for each category. That''s not what we want right?</p><p>We want this </p><blockquote><p>return valid snowball categories with the count of valid snowballs per category</p></blockquote><p>So, we just want the category name and the count of those category. Basically count per category.</p><pre><code class="language-sql">SELECT category_name as official_category, sum(quantity) as total_usable_snowballs\nFROM snowball_inventory \nWHERE\n   category_name IN (SELECT official_category FROM snowball_categories)\n   AND quantity &gt; 0\n   AND status == ''ready''\nGROUP BY category_name;</code></pre><p>Here we are only fetching the <code>category_name</code> and the <code>count</code> which will bundle up all the counts from the grouped of the category_name.</p><pre><code>sqlite&gt; SELECT category_name as official_category, sum(quantity) as total_usable_snowballs \nFROM snowball_inventory \nWHERE\n   category_name IN (SELECT official_category FROM snowball_categories)\n   AND quantity &gt; 0\n   AND status == ''ready''\nGROUP BY category_name;\n+---------------------------+------------------------+\n|     official_category     | total_usable_snowballs |\n+---------------------------+------------------------+\n| arctic blast premium      | 11470                  |\n| everfrost training round  | 24248                  |\n| frost-flight deluxe       | 952019                 |\n| glacier sphere (xl)       | 165158                 |\n| north ridge compact       | 594119                 |\n| polar precision microball | 70773                  |\n+---------------------------+------------------------+\nsqlite&gt; \n\n</code></pre><p>Not done yet!</p><p>We need to order by the count.</p><blockquote><p>Sort the output from fewest to most <code>total_usable_snowballs</code>.</p></blockquote><p></p><pre><code>SELECT category_name, sum(quantity)  as total_usable_snowballs\nFROM snowball_inventory\nWHERE\n   category_name IN (SELECT official_category FROM snowball_categories)\n   AND quantity &gt; 0\n   AND status == ''ready''\nGROUP BY category_name\nORDER BY total_usable_snowballs;</code></pre><p>We can provide <code>ORDER BY total_usable_snowballs ASC</code> but ascending is default. I prefer keeping things default, you can be explicit and mention it as <code>ASC</code> to make it clear and readable.</p><pre><code>sqlite&gt; SELECT category_name as official_category, sum(quantity) as total_usable_snowballs\nFROM snowball_inventory \nWHERE\n   category_name IN (SELECT official_category FROM snowball_categories)\n   AND quantity &gt; 0\n   AND status == ''ready''\nGROUP BY category_name\nORDER BY total_usable_snowballs;\n+---------------------------+------------------------+\n|     official_category     | total_usable_snowballs |\n+---------------------------+------------------------+\n| arctic blast premium      | 11470                  |\n| everfrost training round  | 24248                  |\n| polar precision microball | 70773                  |\n| glacier sphere (xl)       | 165158                 |\n| north ridge compact       | 594119                 |\n| frost-flight deluxe       | 952019                 |\n+---------------------------+------------------------+\n\nsqlite&gt; \n</code></pre><p>There it is!</p><p>The solution to the day 2.</p><p>But Santa, I am using subqueries. Is that fine?</p><h2>Joins?</h2><p>We can use joins here, since we just require the count of each category.</p><p>Which JOIN though?</p><p>LEFT, RIGHT, INNER?</p><p>any really?</p><p>You don''t choose the join based on the problem, you define your output columns and then choose the type of join that would give you the result.</p><p>If the thing that is to be searched from left to right and then its a left join, i.e. join everything from the left. and so on.</p><p>Here,</p><p>I need all the <code>official_category</code> column right, which is in the <code>snowball_categories</code> table.</p><p>If I assume the <code>snowball_categories</code> is on the left, I can join everything for that row in the left to match all the <code>category_name</code> rows in the <code>snowball_inventory</code>  table which would be in the right. Like so.</p><pre><code class="language-sql">SELECT \n    snowball_categories.official_category as official_category,\n    SUM(snowball_inventory.quantity) as total_usable_snowballs\nFROM snowball_categories\nLEFT JOIN snowball_inventory\n     ON snowball_categories.official_category = snowball_inventory.category_name\n     AND snowball_inventory.quantity &gt; 0\n     AND snowball_inventory.status == ''ready''\nGROUP BY official_category\nORDER BY total_usable_snowballs;</code></pre><p>We JOIN on the condition of <code>snowball_categories.official_category = snowball_inventory.category_name</code> which is to say, the <code>category_name</code> in the  <code>snowball_inventory</code> table should match the <code>official category</code> from the <code>snowball_categories</code>  table. Also the other conditions like <code>quantity</code> should be more than <code>0</code> and the <code>status</code> should be <code>ready</code>.</p><p>We will still need to group by and order by as the joins will basically be the filtering criteria in which to select or reject the bad categories. However to group by the category name and obtain the count of each category we need to group by the name of the category.</p><pre><code>sqlite&gt; SELECT snowball_categories.official_category AS official_category, SUM(snowball_inventory.quantity) AS total_usable_snowballs\nFROM snowball_categories\nLEFT JOIN snowball_inventory\n     ON snowball_categories.official_category = snowball_inventory.category_name\n     AND snowball_inventory.quantity &gt; 0\n     AND snowball_inventory.status == ''ready''\nGROUP BY official_category\nORDER BY total_usable_snowballs;\n+---------------------------+------------------------+\n|     official_category     | total_usable_snowballs |\n+---------------------------+------------------------+\n| arctic blast premium      | 11470                  |\n| everfrost training round  | 24248                  |\n| polar precision microball | 70773                  |\n| glacier sphere (xl)       | 165158                 |\n| north ridge compact       | 594119                 |\n| frost-flight deluxe       | 952019                 |\n+---------------------------+------------------------+</code></pre><p>This is it! The same thing that we did for the subquery. Just the filtering part is different.</p><p>How about INNER JOIN?</p><p><code>INNER JOIN</code> is different from <code>LEFT JOIN</code>  as it will by default take only rows that match the condition, whereas <code>LEFT JOIN</code> will include records/rows from the <code>LEFT</code> table even if they are empty or <code>NULL</code> . Similar is <code>RIGHT JOIN</code>, it will include everything from the RIGHT table even if that is <code>NULL</code> so that all the records from the <code>RIGHT</code> table are in the result set.</p><p>For INNER JOIN if we flip the tables end it won''t matter, as it only relies on the condition and not on the order of where the tables are placed (left or right).</p><pre><code class="language-sql">SELECT\n  snowball_categories.official_category AS official_category,\n  SUM(snowball_inventory.quantity) AS total_usable_snowballs\nFROM snowball_inventory\nJOIN snowball_categories\n  ON snowball_categories.official_category = snowball_inventory.category_name\n  AND snowball_inventory.quantity &gt; 0\n  AND snowball_inventory.status = ''ready''\nGROUP BY official_category\nORDER BY total_usable_snowballs;\n</code></pre><p>This is with INNER JOIN nothing changed here? did it?</p><p>except the word <code>LEFT</code> is no longer there, the default join is <code>INNER JOIN</code> .</p><p>In our case i don''t think we have <code>NULL</code> values in the <code>snowball_categories</code> table or <code>snowball_inventory</code> table with the category name columns. So LEFT AND INNER JOIN won''t be different in terms of the results.</p><pre><code>sqlite&gt; SELECT\n  snowball_categories.official_category AS official_category,\n  SUM(snowball_inventory.quantity) AS total_usable_snowballs\nFROM snowball_inventory\nJOIN snowball_categories\n  ON snowball_categories.official_category = snowball_inventory.category_name\n  AND snowball_inventory.quantity &gt; 0\n  AND snowball_inventory.status = ''ready''\nGROUP BY official_category\nORDER BY total_usable_snowballs;\n+---------------------------+------------------------+\n|     official_category     | total_usable_snowballs |\n+---------------------------+------------------------+\n| arctic blast premium      | 11470                  |\n| everfrost training round  | 24248                  |\n| polar precision microball | 70773                  |\n| glacier sphere (xl)       | 165158                 |\n| north ridge compact       | 594119                 |\n| frost-flight deluxe       | 952019                 |\n+---------------------------+------------------------+\nsqlite&gt; \n</code></pre><p>However if we decide to make the <code>snowball_inventory</code> table as the <code>Left</code> table then does it make a difference?</p><p>Well we don''t want that to be the left table if we are doing a <code>LEFT</code> JOIN as it might list all the wrong categories in the result list as well even if they are not in the <code>official_category</code> those will be 0 or NULL but that would make a mess.</p><p>We instead can do a RIGHT JOIN.</p><p>With the tables order as </p><ol><li><p>snowball_inventory</p></li><li><p>snowball_categories</p></li></ol><p>And we will RIGHT JOIN that is select all the columns from the right to be in the result set even if the condition is not true. It will be NULL. But the case is not true for here, as there are only 6 non-NULL category names in the snowball_categories table.</p><pre><code class="language-sql">\nSELECT                                                       \n  snowball_categories.official_category AS official_category,\n  SUM(snowball_inventory.quantity) AS total_usable_snowballs\nFROM snowball_inventory\nRIGHT JOIN snowball_categories\n  ON snowball_categories.official_category = snowball_inventory.category_name\n  AND snowball_inventory.quantity &gt; 0\n  AND snowball_inventory.status = ''ready''\nGROUP BY official_category\nORDER BY total_usable_snowballs;\n</code></pre><p></p><pre><code>sqlite&gt; SELECT                                                       \n  snowball_categories.official_category AS official_category,\n  SUM(snowball_inventory.quantity) AS total_usable_snowballs\nFROM snowball_inventory\nRIGHT JOIN snowball_categories\n  ON snowball_categories.official_category = snowball_inventory.category_name\n  AND snowball_inventory.quantity &gt; 0\n  AND snowball_inventory.status = ''ready''\nGROUP BY official_category\nORDER BY total_usable_snowballs;\n+---------------------------+------------------------+\n|     official_category     | total_usable_snowballs |\n+---------------------------+------------------------+\n| arctic blast premium      | 11470                  |\n| everfrost training round  | 24248                  |\n| polar precision microball | 70773                  |\n| glacier sphere (xl)       | 165158                 |\n| north ridge compact       | 594119                 |\n| frost-flight deluxe       | 952019                 |\n+---------------------------+------------------------+\n</code></pre><p></p><p>However if we try to use <code>LEFT JOIN</code> with <code>snowball_inventory</code> as the <code>LEFT</code> table, we might get something wired.</p><pre><code class="language-sql">SELECT                                                \n  snowball_categories.official_category AS official_category,\n  SUM(snowball_inventory.quantity) AS total_usable_snowballs\nFROM snowball_inventory\nLEFT JOIN snowball_categories\n  ON snowball_categories.official_category = snowball_inventory.category_name\n  AND snowball_inventory.quantity &gt; 0\n  AND snowball_inventory.status = ''ready''\nGROUP BY official_category\nORDER BY total_usable_snowballs;</code></pre><p>We have 6 and 1 more category as empty ?</p><p>That category is for all the rows that didn''t met the criteria of JOIN but still as asked to <code>LEFT JOIN</code> it will try to show the results for all the rows in the left table which is the <code>snowball_inventory</code> table.</p><pre><code>\nsqlite&gt; SELECT                                                \n  snowball_categories.official_category AS official_category,\n  SUM(snowball_inventory.quantity) AS total_usable_snowballs\nFROM snowball_inventory\nLEFT JOIN snowball_categories\n  ON snowball_categories.official_category = snowball_inventory.category_name\n  AND snowball_inventory.quantity &gt; 0\n  AND snowball_inventory.status = ''ready''\nGROUP BY official_category\nORDER BY total_usable_snowballs;\n+---------------------------+------------------------+\n|     official_category     | total_usable_snowballs |\n+---------------------------+------------------------+\n| arctic blast premium      | 11470                  |\n| everfrost training round  | 24248                  |\n| polar precision microball | 70773                  |\n| glacier sphere (xl)       | 165158                 |\n| north ridge compact       | 594119                 |\n| frost-flight deluxe       | 952019                 |\n|                           | 1692814                |\n+---------------------------+------------------------+</code></pre><p></p><h2>Timer</h2><p>Phew! Let''s see which one of them is the best one</p><p>Let''s see the timings:</p><pre><code>.timer on</code></pre><p></p><h3>SUBQUERY</h3><pre><code>sqlite&gt; SELECT category_name, SUM(quantity)AS total_usable_snowballs\nFROM snowball_inventory\nWHERE\n   category_name IN (SELECT official_category FROM snowball_categories)\n   AND quantity &gt; 0\n   AND status == ''ready''\nGROUP BY category_name\nORDER BY total_usable_snowballs;\n+---------------------------+------------------------+\n|       category_name       | total_usable_snowballs |\n+---------------------------+------------------------+\n| arctic blast premium      | 11470                  |\n| everfrost training round  | 24248                  |\n| polar precision microball | 70773                  |\n| glacier sphere (xl)       | 165158                 |\n| north ridge compact       | 594119                 |\n| frost-flight deluxe       | 952019                 |\n+---------------------------+------------------------+\nRun Time: real 0.077 user 0.073886 sys 0.002942\n\nsqlite&gt; </code></pre><p></p><h3>LEFT JOIN</h3><pre><code>sqlite&gt;  SELECT snowball_categories.official_category AS official_category, SUM(snowball_inventory.quantity) AS total_usable_snowballs\nFROM snowball_categories\nLEFT JOIN snowball_inventory\n     ON snowball_categories.official_category = snowball_inventory.category_name \n     AND snowball_inventory.quantity &gt; 0\n     AND snowball_inventory.status == ''ready''\nGROUP BY official_category\nORDER BY total_usable_snowballs;\n+---------------------------+------------------------+\n|     official_category     | total_usable_snowballs |\n+---------------------------+------------------------+\n| arctic blast premium      | 11470                  |\n| everfrost training round  | 24248                  |\n| polar precision microball | 70773                  |\n| glacier sphere (xl)       | 165158                 |\n| north ridge compact       | 594119                 |\n| frost-flight deluxe       | 952019                 |\n+---------------------------+------------------------+\nRun Time: real 0.182 user 0.171433 sys 0.009907\nsqlite&gt; \n</code></pre><p></p><h3>INNER JOIN</h3><pre><code>sqlite&gt;  SELECT\n  snowball_categories.official_category AS official_category,\n  SUM(snowball_inventory.quantity) AS total_usable_snowballs\nFROM snowball_inventory\nJOIN snowball_categories\n  ON snowball_categories.official_category = snowball_inventory.category_name\n  AND snowball_inventory.quantity &gt; 0\n  AND snowball_inventory.status = ''ready''\nGROUP BY official_category\nORDER BY total_usable_snowballs;\n+---------------------------+------------------------+\n|     official_category     | total_usable_snowballs |\n+---------------------------+------------------------+\n| arctic blast premium      | 11470                  |\n| everfrost training round  | 24248                  |\n| polar precision microball | 70773                  |\n| glacier sphere (xl)       | 165158                 |\n| north ridge compact       | 594119                 |\n| frost-flight deluxe       | 952019                 |\n+---------------------------+------------------------+\nRun Time: real 0.072 user 0.069623 sys 0.001929\nsqlite&gt; </code></pre><p></p><h3>RIGHT JOIN</h3><pre><code>sqlite&gt; SELECT                                                       \n  snowball_categories.official_category AS official_category,\n  SUM(snowball_inventory.quantity) AS total_usable_snowballs\nFROM snowball_inventory\nRIGHT JOIN snowball_categories\n  ON snowball_categories.official_category = snowball_inventory.category_name\n  AND snowball_inventory.quantity &gt; 0\n  AND snowball_inventory.status = ''ready''\nGROUP BY official_category\nORDER BY total_usable_snowballs;\n+---------------------------+------------------------+\n|     official_category     | total_usable_snowballs |\n+---------------------------+------------------------+\n| arctic blast premium      | 11470                  |\n| everfrost training round  | 24248                  |\n| polar precision microball | 70773                  |\n| glacier sphere (xl)       | 165158                 |\n| north ridge compact       | 594119                 |\n| frost-flight deluxe       | 952019                 |\n+---------------------------+------------------------+\nRun Time: real 0.151 user 0.149690 sys 0.001957\n\nsqlite&gt; </code></pre><p></p><ol><li><p>INNER JOIN</p></li><li><p>SUBQUERY</p></li><li><p>RIGHT JOIN</p></li><li><p>LEFT JOIN</p></li></ol><h2></h2><p>That''s quite quick, not much can be measured here. I am sure there are other ways to do this. But stopping here for today. Explored JOINs a little.</p><p>See you for the day 3</p><p></p>','\n',char(10)),'{"series":"Advent of SQL 2025"}',1765872804723,1765972953586);
INSERT INTO drafts VALUES('8f70f34d-6ef6-4cef-b44a-301404fa76dd','post','SQLog: Advent of SQL Day 2-Snowballs','<p></p><p></p>','{"series":"Advent of SQL 2025"}',1765966273991,1765966273991);
INSERT INTO drafts VALUES('4f83107b-c9b9-47d3-ac33-268829a7a06e','post','Advent of SQL Day 3-Hotline Messages',replace('<p>This is day 3 from the Advent of SQL</p><h2>Grab the SQL Statements</h2><p>Let''s take the insert statements i.e. to create and populate tables and rows into the database. I am using SQLite.</p><p>It works without any special shenanigans, as it was intended to used for Postgres, but the table and use case looks very simple, so nothing specific to Postgres used yet! We are good!</p><p></p><p>Here is the SQL setup, if you want to play it in the playground here:</p><pre><code class="language-sql">DROP TABLE IF EXISTS hotline_messages;\n\nCREATE TABLE hotline_messages (\n    id INT PRIMARY KEY,\n    caller_name TEXT,\n    transcript TEXT,\n    tag TEXT,\n    status TEXT\n);\n\nINSERT INTO hotline_messages (id, caller_name, transcript, tag, status) VALUES\n    (1, ''Saanvi A.'', ''I just found a refrigerator portal that leads to a disco party hosted by dancing llamas—please send help!'', ''possible dragon'', ''spam''),\n    (2, ''Fatima Q.'', ''Hi Santa, I would love a magical unicorn that lights up at night!'', ''wish list'', NULL),\n    (3, ''Lillian Z.'', ''Hi Santa, I would love the magical fairy garden set, please!'', ''wish list'', ''approved''),\n    (4, ''Carter Y.'', ''Thank you, Santa, for making Christmas so special with your wonderful spirit!'', ''thank you'', ''approved''),\n    (5, ''Omar R.'', ''Hi Santa, I would love a rainbow unicorn plushie that has a glittery horn!'', ''wish list'', ''approved''),\n    (6, ''Diego Y.'', ''Hi Santa, I would love a magical unicorn plushie that glows in the dark!'', ''wish list'', NULL),\n    (7, ''Layla X.'', ''Thank you, Santa, for spreading joy and magic every Christmas!'', ''thank you'', NULL),\n    (8, ''Sophia K.'', ''Santa, my cat said she wants to visit the candy cane forest next week.'', NULL, NULL),\n    (9, ''Eli H.'', ''Hi Santa, I would love the magical fairy castle with twinkling lights!'', ''wish list'', ''approved''),\n    (10, ''Logan F.'', ''Santa, I think the reindeer are starting a band with the garden gnomes.'', ''needs clarification'', NULL),\n    (11, ''Carlos P.'', ''Thank you, Santa, for making Christmas so special every year!'', ''thank you'', NULL),\n    (12, ''Zain G.'', ''Thank you, Santa, for bringing joy to all the children around the world!'', ''thank you'', NULL),\n    (13, ''Haruto R.'', ''Thank you, Santa, for spreading so much joy and magic every Christmas!'', ''thank you'', ''approved''),\n    (14, ''Oliver L.'', ''Thank you, Santa, for spreading joy and making Christmas extra special!'', ''thank you'', NULL),\n    (15, ''Luca M.'', ''Hi Santa, could I please have the super cool glow-in-the-dark rocket ship?'', ''wish list'', NULL),\n    (16, ''Samuel C.'', ''sorry, Santa, my teddy bear said he wants to be a reindeer this year.'', ''needs clarification'', NULL);\n</code></pre><p></p><p>Here''s the setup I did to check the data.</p><pre><code class="language-sql">SELECT * FROM hotline_messages;</code></pre><p></p><pre><code>$ sqlite3\nSQLite version 3.45.1 2024-01-30 16:01:20\nEnter ".help" for usage hints.\nConnected to a transient in-memory database.\nUse ".open FILENAME" to reopen on a persistent database.\n\nsqlite&gt; .read day3-inserts.sql\n\nsqlite&gt; .schema\nCREATE TABLE hotline_messages (\n    id INT PRIMARY KEY,\n    caller_name TEXT,\n    transcript TEXT,\n    tag TEXT,\n    status TEXT\n);\n\nsqlite&gt; .mode table\nsqlite&gt; SELECT * FROM hotline_messages LIMIT 10;\n+----+-------------+--------------------------------------------------------------+---------------------+----------+\n| id | caller_name |                          transcript                          |         tag         |  status  |\n+----+-------------+--------------------------------------------------------------+---------------------+----------+\n| 1  | Saanvi A.   | I just found a refrigerator portal that leads to a disco par | possible dragon     | spam     |\n|    |             | ty hosted by dancing llamas—please send help!                |                     |          |\n+----+-------------+--------------------------------------------------------------+---------------------+----------+\n| 2  | Fatima Q.   | Hi Santa, I would love a magical unicorn that lights up at n | wish list           |          |\n|    |             | ight!                                                        |                     |          |\n+----+-------------+--------------------------------------------------------------+---------------------+----------+\n| 3  | Lillian Z.  | Hi Santa, I would love the magical fairy garden set, please! | wish list           | approved |\n+----+-------------+--------------------------------------------------------------+---------------------+----------+\n| 4  | Carter Y.   | Thank you, Santa, for making Christmas so special with your  | thank you           | approved |\n|    |             | wonderful spirit!                                            |                     |          |\n+----+-------------+--------------------------------------------------------------+---------------------+----------+\n| 5  | Omar R.     | Hi Santa, I would love a rainbow unicorn plushie that has a  | wish list           | approved |\n|    |             | glittery horn!                                               |                     |          |\n+----+-------------+--------------------------------------------------------------+---------------------+----------+\n| 6  | Diego Y.    | Hi Santa, I would love a magical unicorn plushie that glows  | wish list           |          |\n|    |             | in the dark!                                                 |                     |          |\n+----+-------------+--------------------------------------------------------------+---------------------+----------+\n| 7  | Layla X.    | Thank you, Santa, for spreading joy and magic every Christma | thank you           |          |\n|    |             | s!                                                           |                     |          |\n+----+-------------+--------------------------------------------------------------+---------------------+----------+\n| 8  | Sophia K.   | Santa, my cat said she wants to visit the candy cane forest  |                     |          |\n|    |             | next week.                                                   |                     |          |\n+----+-------------+--------------------------------------------------------------+---------------------+----------+\n| 9  | Eli H.      | Hi Santa, I would love the magical fairy castle with twinkli | wish list           | approved |\n|    |             | ng lights!                                                   |                     |          |\n+----+-------------+--------------------------------------------------------------+---------------------+----------+\n| 10 | Logan F.    | Santa, I think the reindeer are starting a band with the gar | needs clarification |          |\n|    |             | den gnomes.                                                  |                     |          |\n+----+-------------+--------------------------------------------------------------+---------------------+----------+\nsqlite&gt; </code></pre><p></p><p>So, we just have one table, called <code>hotline_messages</code> and it has a few columns like</p><ol><li><p><code>caller_name</code></p></li><li><p><code>transcript</code></p></li><li><p><code>tag</code></p></li><li><p><code>status</code></p></li></ol><p>What do we want to do with those?</p><p>Well! Let''s get into the problem statement.</p><p></p><h2>Problem</h2><p>Here goes the challenge for day 3</p><blockquote><p>Using the <code>hotline_messages</code> table, update any record that has "sorry" (case insensitive) in the transcript and doesn''t currently have a status assigned to have a status of "approved".</p><p>Then delete any records where the tag is "penguin prank", "time-loop advisory", "possible dragon", or "nonsense alert" or if the caller''s name is "Test Caller".</p><p>After updating and deleting the records as described, write a final query that returns how many messages currently have a status of "approved" and how many still need to be reviewed (i.e., status is NULL).</p></blockquote><p></p><p>It''s divided into 3 parts, so we need three queries? Maybe, I don''t want to have a single long query for doing all of these. And after reading it, it seems it should not be a single query, it can be 2 queries, one is for updation and the other for selection after those updates.</p><p></p><p>So, we have to do three things.</p><ol><li><p>Find the records which have <code>sorry</code> in the transcript text and mark their <code>status</code> as <code>approved</code> (What a lovely gesture)</p></li><li><p>Find all records with the tags as either <code>penguin prank</code>, <code>time-loop advisory</code>, <code>possible dragon</code>, or <code>nonsense alert</code> and even if the <code>caller_name</code> is <code>Test Caller</code> then delete those records, yes take''em out of my way.</p></li><li><p>After doing those 2 things, we have to count the number of records with <code>status</code> as <code>approved</code> and the number of records that are still not <code>approved</code> (they are in review or the status is <code>NULL</code> )</p></li></ol><p></p><p>So, let''s do them step by step.</p><h3>Be generous</h3><p>Let''s be generous like Santa says and mark the records with <code>status</code> as <code>approved</code> whose transcript have the word <code>sorry</code> in them. Let those children be gifted their reward of being generous and humble.</p><p>How do that in SQL, well let''s first look at what we are updating.</p><pre><code class="language-sql">SELECT * FROM hotline_messages WHERE transcript LIKE ''%sorry%'';</code></pre><p>So, will it be sufficient? I think so.</p><p>Because</p><ul><li><p><code>LIKE</code> is <strong>case insensitive</strong>, so it can catch <code>sorry</code>, <code>Sorry</code>, <code>SoRRY</code>, <code>sorrY</code></p></li><li><p><code>%</code> before and after will catch the word <code>sorry</code> in middle of the sentence and not necessarily in the start.</p></li></ul><p>I can see 104 rows selected with this condition. I always try to check before updation or deletion how many rows are affected. Because, sometimes we start <code>UPDATE hotline_messages SET status = ''approved''</code> and forget the where! This gets worse for delete believe me!</p><pre><code class="language-sql">SELECT count(*) FROM hotline_messages WHERE transcript LIKE ''%sorry%'';\nSELECT count(*) FROM hotline_messages;</code></pre><p></p><pre><code>sqlite&gt; SELECT * FROM hotline_messages WHERE transcript LIKE ''%sorry%'';\n+------+--------------+--------------------------------------------------------------+---------------------+----------+\n|  id  | caller_name  |                          transcript                          |         tag         |  status  |\n+------+--------------+--------------------------------------------------------------+---------------------+----------+\n| 16   | Samuel C.    | sorry, Santa, my teddy bear said he wants to be a reindeer t | needs clarification |          |\n|      |              | his year.                                                    |                     |          |\n+------+--------------+--------------------------------------------------------------+---------------------+----------+\n| 33   | Jacob F.     | sorry, Hi Santa, I would love the magical unicorn plushie th | wish list           |          |\n|      |              | at glows in the dark!                                        |                     |          |\n+------+--------------+--------------------------------------------------------------+---------------------+----------+\n| 46   | Jun Y.       | sorry, Hi Santa, I would love a magical unicorn stuffed anim | wish list           |          |\n|      |              | al that glows in the dark!                                   |                     |          |\n+------+--------------+--------------------------------------------------------------+---------------------+----------+\n\nsqlite&gt; SELECT count(*) FROM hotline_messages WHERE transcript LIKE ''%sorry%'';\n+----------+\n| count(*) |\n+----------+\n| 104      |\n+----------+\nsqlite&gt; SELECT count(*) FROM hotline_messages ;--WHERE transcript LIKE ''%sorry%'';\n+----------+\n| count(*) |\n+----------+\n| 1067     |\n+----------+\nsqlite&gt; \n</code></pre><p>So, once I know <code>104</code> rows will be affected out of <code>1067</code> I can create the update statement.</p><p>We want to update the status and set it to <code>approved</code> for the rows which we selected just now (have <code>sorry</code> in the transcript text)</p><p></p><pre><code class="language-sql">UPDATE hotline_messages\nSET status = ''approved''\nWHERE transcript LIKE ''%sorry%'';</code></pre><p></p><p>Now, when we select again</p><pre><code class="language-sql">SELECT * FROM hotline_messages WHERE transcript LIKE ''%sorry%''; </code></pre><p>All approved!</p><pre><code>sqlite&gt; SELECT * FROM hotline_messages WHERE transcript LIKE ''%sorry%'';\n+------+--------------+--------------------------------------------------------------+---------------------+----------+\n|  id  | caller_name  |                          transcript                          |         tag         |  status  |\n+------+--------------+--------------------------------------------------------------+---------------------+----------+\n| 16   | Samuel C.    | sorry, Santa, my teddy bear said he wants to be a reindeer t | needs clarification | approved |\n|      |              | his year.                                                    |                     |          |\n+------+--------------+--------------------------------------------------------------+---------------------+----------+\n| 33   | Jacob F.     | sorry, Hi Santa, I would love the magical unicorn plushie th | wish list           | approved |\n|      |              | at glows in the dark!                                        |                     |          |\n+------+--------------+--------------------------------------------------------------+---------------------+----------+\n| 46   | Jun Y.       | sorry, Hi Santa, I would love a magical unicorn stuffed anim | wish list           | approved |\n|      |              | al that glows in the dark!                                   |                     |          |\n+------+--------------+--------------------------------------------------------------+---------------------+----------+</code></pre><p>To the next step then</p><p></p><h3>Remove Spam</h3><p>To reiterate the second part of the challenge</p><blockquote><p>Then delete any records where the tag is "penguin prank", "time-loop advisory", "possible dragon", or "nonsense alert" or if the caller''s name is "Test Caller".</p></blockquote><p>We basically need to </p><p>Find all records with the tags as either <code>penguin prank</code>, <code>time-loop advisory</code>, <code>possible dragon</code>, or <code>nonsense alert</code> and even if the <code>caller_name</code> is <code>Test Caller</code> then delete those records, yes take''em out of my way.</p><p>So, again, select first update or delete later.</p><pre><code class="language-sql">SELECT * FROM hotline_messages WHERE tag IN (''penguin prank'', ''time-loop advisory'', ''possible dragon'', ''nonsense alert'');</code></pre><p>Here <code>IN</code> is a great helper as we can do equivalent of this into a compact statement.</p><pre><code class="language-sql">SELECT * FROM hotline_messages \nWHERE \n    tag = ''penguin prank''\n    OR tag = ''time-loop advisory''\n    OR tag = ''possible dragon''\n    OR tag = ''nonsense alert'';</code></pre><p>That is a lot of <code>OR tag =</code> that is saved by <code>IN</code> a list of values. Handy little operator.</p><p>The count here is <code>68</code> </p><pre><code class="language-sql">SELECT count(*) FROM hotline_messages WHERE tag IN (''penguin prank'', ''time-loop advisory'', ''possible dragon'', ''nonsense alert'');</code></pre><pre><code>sqlite&gt; SELECT count(*) FROM hotline_messages WHERE tag IN (''penguin prank'', ''time-loop advisory'', ''possible dragon'', ''nonsense alert'');\n+----------+\n| count(*) |\n+----------+\n| 68       |\n+----------+\nsqlite&gt; </code></pre><p>Also we need to check if the <code>caller_name</code> is <code>Test Caller</code></p><p>It could be <code>OR</code> here</p><pre><code class="language-sql">SELECT * FROM hotline_messages \nWHERE \n     tag IN (''penguin prank'', ''time-loop advisory'', ''possible dragon'', ''nonsense alert'')\n     OR caller_name = ''Test Caller'';</code></pre><p>That''s it let''s count the number of rows we will be deleting soon.</p><pre><code>SELECT count(*) FROM hotline_messages\nWHERE\n     tag IN (''penguin prank'', ''time-loop advisory'', ''possible dragon'', ''nonsense alert'') \n     OR caller_name = ''Test Caller'';</code></pre><p>So, we have <code>89</code> rows to deleted after considering the spamy tags and test callers out.</p><pre><code>sqlite&gt; SELECT count(*) FROM hotline_messages WHERE tag IN (''penguin prank'', ''time-loop advisory'', ''possible dragon'', ''nonsense alert'') OR caller_name = ''Test Caller'';\n+----------+\n| count(*) |\n+----------+\n| 89       |\n+----------+\nsqlite&gt; \n</code></pre><p></p><p>Let''s get the spam outta here!</p><pre><code class="language-sql">DELETE FROM hotline_messages\nWHERE tag IN (''penguin prank'', ''time-loop advisory'', ''possible dragon'', ''nonsense alert'') OR caller_name = ''Test Caller'';</code></pre><p>Phew! Done 89 spammy records  removed! Santa might be relieved.</p><pre><code>sqlite&gt; DELETE FROM hotline_messages\nWHERE tag IN (''penguin prank'', ''time-loop advisory'', ''possible dragon'', ''nonsense alert'') OR caller_name = ''Test Caller'';\n\nsqlite&gt; SELECT changes();\n+-----------+\n| changes() |\n+-----------+\n| 89        |\n+-----------+</code></pre><p></p><p>The changes are done, now we simply have to select and count the things which are approved and in review.</p><h3>Count''em down</h3><ul><li><p>After doing those 2 things, we have to count the number of records with <code>status</code> as <code>approved</code> and the number of records that are still not <code>approved</code> (they are in review or the status is <code>NULL</code> )</p></li></ul><p>So, we need to get the count of</p><ol><li><p>Records with <code>status</code> as <code>approved</code></p></li><li><p>Records with <code>status</code>  as <code>NULL</code> </p></li></ol><p></p><h4>Separate Queries</h4><p>This looks straight forward, you can write two separate queries for doing the things.</p><pre><code class="language-sql">SELECT COUNT(*) as approved_count FROM hotline_messages WHERE status = ''approved'';\nSELECT COUNT(*) as in_review_count FROM hotline_messages WHERE status IS NULL;</code></pre><p></p><pre><code>sqlite&gt; SELECT COUNT(*) as approved_count FROM hotline_messages WHERE status = ''approved'';\nSELECT COUNT(*) as in_review_count FROM hotline_messages WHERE status IS NULL;\n+----------------+\n| approved_count |\n+----------------+\n| 477            |\n+----------------+\n+-----------------+\n| in_review_count |\n+-----------------+\n| 501             |\n+-----------------+\nsqlite&gt; \n</code></pre><p></p><h4>Group by Status</h4><p>But however, can we do it in 1 query?</p><p>Think!</p><p>There are just 2 types of status right?</p><p>Let''s check</p><pre><code class="language-sql">SELECT DISTINCT status FROM hotline_messages;</code></pre><p>Hmm! 2? <code>NULL</code> and <code>approved</code> !</p><pre><code class="language-sql">sqlite&gt; SELECT DISTINCT status FROM hotline_messages;\n+----------+\n|  status  |\n+----------+\n|          |\n| approved |\n+----------+</code></pre><p>So we can simply do the same thing, but just group by <code>status</code> right? Like so:</p><pre><code class="language-sql">SELECT status, COUNT(*) as count\nFROM hotline_messages\nGROUP BY status;</code></pre><p>And this should give us back the two rows with the count of <code>NULL</code> and <code>approved</code> .</p><pre><code>sqlite&gt; SELECT status, COUNT(*) as count\nFROM hotline_messages\nGROUP BY status; \n+----------+-------+\n|  status  | count |\n+----------+-------+\n|          | 501   |\n| approved | 477   |\n+----------+-------+</code></pre><p>Is there a better way?</p><p>This looks a little wired! Like status is empty (NULL) and it kind of makes a little wired view for people to look at, can we do something different?</p><h4>Cases when then else</h4><p>This is simple use case for a <code>CASE WHEN ... THEN ... ELSE ... END </code> </p><p>For each when we can check certain conditions and do certain things or do other thing.</p><p>In this case, if the status is <code>approved</code>, we can increment the count to 1 or we can keep 0, similarly the other when can be used for grouping the count of status being <code>NULL</code> .</p><pre><code class="language-sql">SELECT \n    COUNT(CASE WHEN status = ''approved'' THEN 1 END) AS approved_count,\n    COUNT(CASE WHEN status IS NULL THEN 1 END) AS in_review_count\nFROM \n    hotline_messages;</code></pre><p>What this will do is, for each row, we will count up the number of either <code>approved_count</code>or <code>in_review_count</code> depending on the value of the <code>status</code> cell. If that is <code>approved</code> we increment the <code>approved</code>  count else if that is <code>NULL</code> we increment the <code>in_review_count</code>.</p><p>Slick!</p><pre><code class="language-sql">sqlite&gt; SELECT \n    COUNT(CASE WHEN status = ''approved'' THEN 1 END) AS approved_count,\n    COUNT(CASE WHEN status IS NULL THEN 1 END) AS in_review_count\nFROM \n    hotline_messages;\n+----------------+-----------------+\n| approved_count | in_review_count |\n+----------------+-----------------+\n| 477            | 501             |\n+----------------+-----------------+\nsqlite&gt; </code></pre><p></p><p>That''s it from day 3 hopefully Santa is happy, and in sight of getting madder as the elves get dumber.</p>','\n',char(10)),'{"series":"Advent of SQL 2025"}',1766056126945,1766058738421);
CREATE INDEX idx_content_type_id ON content(type_id);
CREATE INDEX idx_content_slug ON content(slug);
CREATE INDEX idx_content_published ON content(published);
CREATE INDEX idx_content_tags_content_id ON content_tags(content_id);
CREATE INDEX idx_content_tags_tag_id ON content_tags(tag_id);
CREATE INDEX idx_tags_slug ON tags(slug);
CREATE INDEX idx_drafts_id ON drafts(id);
CREATE INDEX idx_drafts_created_at ON drafts(created_at);
COMMIT;
